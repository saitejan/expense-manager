(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function TS(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var qf={exports:{}},Dl={};var C_;function CS(){if(C_)return Dl;C_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:d,ref:o!==void 0?o:null,props:f}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var x_;function xS(){return x_||(x_=1,qf.exports=CS()),qf.exports}var y=xS(),Vf={exports:{}},te={};var w_;function wS(){if(w_)return te;w_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,fe={};function _e(C,k,q){this.props=C,this.context=k,this.refs=fe,this.updater=q||L}_e.prototype.isReactComponent={},_e.prototype.setState=function(C,k){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,k,"setState")},_e.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ae(){}ae.prototype=_e.prototype;function Re(C,k,q){this.props=C,this.context=k,this.refs=fe,this.updater=q||L}var ye=Re.prototype=new ae;ye.constructor=Re,K(ye,_e.prototype),ye.isPureReactComponent=!0;var We=Array.isArray;function ke(){}var ne={H:null,A:null,T:null,S:null},ot=Object.prototype.hasOwnProperty;function Je(C,k,q){var P=q.ref;return{$$typeof:a,type:C,key:k,ref:P!==void 0?P:null,props:q}}function on(C,k){return Je(C.type,k,C.props)}function Bt(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function $e(C){var k={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return k[q]})}var Kt=/\/+/g;function cn(C,k){return typeof C=="object"&&C!==null&&C.key!=null?$e(""+C.key):k.toString(36)}function Ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(ke,ke):(C.status="pending",C.then(function(k){C.status==="pending"&&(C.status="fulfilled",C.value=k)},function(k){C.status==="pending"&&(C.status="rejected",C.reason=k)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,k,q,P,ee){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var X=!1;if(C===null)X=!0;else switch(le){case"bigint":case"string":case"number":X=!0;break;case"object":switch(C.$$typeof){case a:case t:X=!0;break;case S:return X=C._init,D(X(C._payload),k,q,P,ee)}}if(X)return ee=ee(C),X=P===""?"."+cn(C,0):P,We(ee)?(q="",X!=null&&(q=X.replace(Kt,"$&/")+"/"),D(ee,k,q,"",function(Zt){return Zt})):ee!=null&&(Bt(ee)&&(ee=on(ee,q+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Kt,"$&/")+"/")+X)),k.push(ee)),1;X=0;var qe=P===""?".":P+":";if(We(C))for(var Ve=0;Ve<C.length;Ve++)P=C[Ve],le=qe+cn(P,Ve),X+=D(P,k,q,le,ee);else if(Ve=z(C),typeof Ve=="function")for(C=Ve.call(C),Ve=0;!(P=C.next()).done;)P=P.value,le=qe+cn(P,Ve++),X+=D(P,k,q,le,ee);else if(le==="object"){if(typeof C.then=="function")return D(Ye(C),k,q,P,ee);throw k=String(C),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return X}function B(C,k,q){if(C==null)return C;var P=[],ee=0;return D(C,P,"","",function(le){return k.call(q,le,ee++)}),P}function W(C){if(C._status===-1){var k=C._result;k=k(),k.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=k)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},we={map:B,forEach:function(C,k,q){B(C,function(){k.apply(this,arguments)},q)},count:function(C){var k=0;return B(C,function(){k++}),k},toArray:function(C){return B(C,function(k){return k})||[]},only:function(C){if(!Bt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return te.Activity=b,te.Children=we,te.Component=_e,te.Fragment=i,te.Profiler=o,te.PureComponent=Re,te.StrictMode=l,te.Suspense=g,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,te.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ne.H.useMemoCache(C)}},te.cache=function(C){return function(){return C.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(C,k,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=K({},C.props),ee=C.key;if(k!=null)for(le in k.key!==void 0&&(ee=""+k.key),k)!ot.call(k,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&k.ref===void 0||(P[le]=k[le]);var le=arguments.length-2;if(le===1)P.children=q;else if(1<le){for(var X=Array(le),qe=0;qe<le;qe++)X[qe]=arguments[qe+2];P.children=X}return Je(C.type,ee,P)},te.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},te.createElement=function(C,k,q){var P,ee={},le=null;if(k!=null)for(P in k.key!==void 0&&(le=""+k.key),k)ot.call(k,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ee[P]=k[P]);var X=arguments.length-2;if(X===1)ee.children=q;else if(1<X){for(var qe=Array(X),Ve=0;Ve<X;Ve++)qe[Ve]=arguments[Ve+2];ee.children=qe}if(C&&C.defaultProps)for(P in X=C.defaultProps,X)ee[P]===void 0&&(ee[P]=X[P]);return Je(C,le,ee)},te.createRef=function(){return{current:null}},te.forwardRef=function(C){return{$$typeof:m,render:C}},te.isValidElement=Bt,te.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:W}},te.memo=function(C,k){return{$$typeof:p,type:C,compare:k===void 0?null:k}},te.startTransition=function(C){var k=ne.T,q={};ne.T=q;try{var P=C(),ee=ne.S;ee!==null&&ee(q,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ke,be)}catch(le){be(le)}finally{k!==null&&q.types!==null&&(k.types=q.types),ne.T=k}},te.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},te.use=function(C){return ne.H.use(C)},te.useActionState=function(C,k,q){return ne.H.useActionState(C,k,q)},te.useCallback=function(C,k){return ne.H.useCallback(C,k)},te.useContext=function(C){return ne.H.useContext(C)},te.useDebugValue=function(){},te.useDeferredValue=function(C,k){return ne.H.useDeferredValue(C,k)},te.useEffect=function(C,k){return ne.H.useEffect(C,k)},te.useEffectEvent=function(C){return ne.H.useEffectEvent(C)},te.useId=function(){return ne.H.useId()},te.useImperativeHandle=function(C,k,q){return ne.H.useImperativeHandle(C,k,q)},te.useInsertionEffect=function(C,k){return ne.H.useInsertionEffect(C,k)},te.useLayoutEffect=function(C,k){return ne.H.useLayoutEffect(C,k)},te.useMemo=function(C,k){return ne.H.useMemo(C,k)},te.useOptimistic=function(C,k){return ne.H.useOptimistic(C,k)},te.useReducer=function(C,k,q){return ne.H.useReducer(C,k,q)},te.useRef=function(C){return ne.H.useRef(C)},te.useState=function(C){return ne.H.useState(C)},te.useSyncExternalStore=function(C,k,q){return ne.H.useSyncExternalStore(C,k,q)},te.useTransition=function(){return ne.H.useTransition()},te.version="19.2.0",te}var N_;function kd(){return N_||(N_=1,Vf.exports=wS()),Vf.exports}var oe=kd();const Xn=TS(oe);var Gf={exports:{}},Ol={},Pf={exports:{}},Yf={};var A_;function NS(){return A_||(A_=1,(function(a){function t(D,B){var W=D.length;D.push(B);e:for(;0<W;){var be=W-1>>>1,we=D[be];if(0<o(we,B))D[be]=B,D[W]=we,W=be;else break e}}function i(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var B=D[0],W=D.pop();if(W!==B){D[0]=W;e:for(var be=0,we=D.length,C=we>>>1;be<C;){var k=2*(be+1)-1,q=D[k],P=k+1,ee=D[P];if(0>o(q,W))P<we&&0>o(ee,q)?(D[be]=ee,D[P]=W,be=P):(D[be]=q,D[k]=W,be=k);else if(P<we&&0>o(ee,W))D[be]=ee,D[P]=W,be=P;else break e}}return B}function o(D,B){var W=D.sortIndex-B.sortIndex;return W!==0?W:D.id-B.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var g=[],p=[],S=1,b=null,E=3,z=!1,L=!1,K=!1,fe=!1,_e=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,Re=typeof setImmediate<"u"?setImmediate:null;function ye(D){for(var B=i(p);B!==null;){if(B.callback===null)l(p);else if(B.startTime<=D)l(p),B.sortIndex=B.expirationTime,t(g,B);else break;B=i(p)}}function We(D){if(K=!1,ye(D),!L)if(i(g)!==null)L=!0,ke||(ke=!0,$e());else{var B=i(p);B!==null&&Ye(We,B.startTime-D)}}var ke=!1,ne=-1,ot=5,Je=-1;function on(){return fe?!0:!(a.unstable_now()-Je<ot)}function Bt(){if(fe=!1,ke){var D=a.unstable_now();Je=D;var B=!0;try{e:{L=!1,K&&(K=!1,ae(ne),ne=-1),z=!0;var W=E;try{t:{for(ye(D),b=i(g);b!==null&&!(b.expirationTime>D&&on());){var be=b.callback;if(typeof be=="function"){b.callback=null,E=b.priorityLevel;var we=be(b.expirationTime<=D);if(D=a.unstable_now(),typeof we=="function"){b.callback=we,ye(D),B=!0;break t}b===i(g)&&l(g),ye(D)}else l(g);b=i(g)}if(b!==null)B=!0;else{var C=i(p);C!==null&&Ye(We,C.startTime-D),B=!1}}break e}finally{b=null,E=W,z=!1}B=void 0}}finally{B?$e():ke=!1}}}var $e;if(typeof Re=="function")$e=function(){Re(Bt)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,cn=Kt.port2;Kt.port1.onmessage=Bt,$e=function(){cn.postMessage(null)}}else $e=function(){_e(Bt,0)};function Ye(D,B){ne=_e(function(){D(a.unstable_now())},B)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ot=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var B=3;break;default:B=E}var W=E;E=B;try{return D()}finally{E=W}},a.unstable_requestPaint=function(){fe=!0},a.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=E;E=D;try{return B()}finally{E=W}},a.unstable_scheduleCallback=function(D,B,W){var be=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?be+W:be):W=be,D){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,D={id:S++,callback:B,priorityLevel:D,startTime:W,expirationTime:we,sortIndex:-1},W>be?(D.sortIndex=W,t(p,D),i(g)===null&&D===i(p)&&(K?(ae(ne),ne=-1):K=!0,Ye(We,W-be))):(D.sortIndex=we,t(g,D),L||z||(L=!0,ke||(ke=!0,$e()))),D},a.unstable_shouldYield=on,a.unstable_wrapCallback=function(D){var B=E;return function(){var W=E;E=B;try{return D.apply(this,arguments)}finally{E=W}}}})(Yf)),Yf}var R_;function AS(){return R_||(R_=1,Pf.exports=NS()),Pf.exports}var Ff={exports:{}},bt={};var D_;function RS(){if(D_)return bt;D_=1;var a=kd();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bt.createPortal=function(g,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(g,p,null,S)},bt.flushSync=function(g){var p=d.T,S=l.p;try{if(d.T=null,l.p=2,g)return g()}finally{d.T=p,l.p=S,l.d.f()}},bt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},bt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},bt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var S=p.as,b=m(S,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,z=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:z}):S==="script"&&l.d.X(g,{crossOrigin:b,integrity:E,fetchPriority:z,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},bt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,b=m(S,p.crossOrigin);l.d.L(g,S,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bt.preloadModule=function(g,p){if(typeof g=="string")if(p){var S=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},bt.requestFormReset=function(g){l.d.r(g)},bt.unstable_batchedUpdates=function(g,p){return g(p)},bt.useFormState=function(g,p,S){return d.H.useFormState(g,p,S)},bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var O_;function DS(){if(O_)return Ff.exports;O_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ff.exports=RS(),Ff.exports}var M_;function OS(){if(M_)return Ol;M_=1;var a=AS(),t=kd(),i=DS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return g(c),e;if(u===r)return g(c),n;u=u.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=u;else{for(var h=!1,_=c.child;_;){if(_===s){h=!0,s=c,r=u;break}if(_===r){h=!0,r=c,s=u;break}_=_.sibling}if(!h){for(_=u.child;_;){if(_===s){h=!0,s=u,r=c;break}if(_===r){h=!0,r=u,s=c;break}_=_.sibling}if(!h)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),Re=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),We=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),on=Symbol.for("react.memo_cache_sentinel"),Bt=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Bt&&e[Bt]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Symbol.for("react.client.reference");function cn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case _e:return"Profiler";case fe:return"StrictMode";case We:return"Suspense";case ke:return"SuspenseList";case Je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case Re:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case ye:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return n=e.displayName||null,n!==null?n:cn(e.type)||"Memo";case ot:n=e._payload,e=e._init;try{return cn(e(n))}catch{}}return null}var Ye=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},be=[],we=-1;function C(e){return{current:e}}function k(e){0>we||(e.current=be[we],be[we]=null,we--)}function q(e,n){we++,be[we]=e.current,e.current=n}var P=C(null),ee=C(null),le=C(null),X=C(null);function qe(e,n){switch(q(le,n),q(ee,e),q(P,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qg(n),e=Xg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(P),q(P,e)}function Ve(){k(P),k(ee),k(le)}function Zt(e){e.memoizedState!==null&&q(X,e);var n=P.current,s=Xg(n,e.type);n!==s&&(q(ee,e),q(P,s))}function An(e){ee.current===e&&(k(P),k(ee)),X.current===e&&(k(X),wl._currentValue=W)}var Ma,Ss;function bn(e){if(Ma===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ma=n&&n[1]||"",Ss=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+e+Ss}var Ia=!1;function ka(e,n){if(!e||Ia)return"";Ia=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var A=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){A=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){A=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],_=u[1];if(h&&_){var v=h.split(`
`),N=_.split(`
`);for(c=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===v.length||c===N.length)for(r=v.length-1,c=N.length-1;1<=r&&0<=c&&v[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(v[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||v[r]!==N[c]){var O=`
`+v[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=c);break}}}finally{Ia=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?bn(s):""}function Ec(e,n){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==n&&n!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return ka(e.type,!1);case 11:return ka(e.type.render,!1);case 1:return ka(e.type,!0);case 31:return bn("Activity");default:return""}}function Ua(e){try{var n="",s=null;do n+=Ec(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Bi=Object.prototype.hasOwnProperty,La=a.unstable_scheduleCallback,Es=a.unstable_cancelCallback,Tc=a.unstable_shouldYield,Cc=a.unstable_requestPaint,Nt=a.unstable_now,fr=a.unstable_getCurrentPriorityLevel,dr=a.unstable_ImmediatePriority,hr=a.unstable_UserBlockingPriority,Ts=a.unstable_NormalPriority,xc=a.unstable_LowPriority,za=a.unstable_IdlePriority,wc=a.log,Nc=a.unstable_setDisableYieldValue,qi=null,Et=null;function Sn(e){if(typeof wc=="function"&&Nc(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(qi,e)}catch{}}var Tt=Math.clz32?Math.clz32:Dc,Ac=Math.log,Rc=Math.LN2;function Dc(e){return e>>>=0,e===0?32:31-(Ac(e)/Rc|0)|0}var Cs=256,U=262144,H=4194304;function G(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function V(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=G(r):(h&=_,h!==0?c=G(h):s||(s=_&~e,s!==0&&(c=G(s))))):(_=r&~u,_!==0?c=G(_):h!==0?c=G(h):s||(s=r&~e,s!==0&&(c=G(s)))),c===0?0:n!==0&&n!==c&&(n&u)===0&&(u=c&-c,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:c}function ie(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Se(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var e=H;return H<<=1,(H&62914560)===0&&(H=4194304),e}function Ct(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mr(e,n,s,r,c,u){var h=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(s=h&~s;0<s;){var O=31-Tt(s),I=1<<O;_[O]=0,v[O]=-1;var A=N[O];if(A!==null)for(N[O]=null,O=0;O<A.length;O++){var R=A[O];R!==null&&(R.lane&=-536870913)}s&=~I}r!==0&&ja(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~n))}function ja(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Tt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function xs(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Tt(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function pr(e,n){var s=n&-n;return s=(s&42)!==0?1:Ha(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ha(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mh(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function Ih(e,n){var s=B.p;try{return B.p=e,n()}finally{B.p=s}}var si=Math.random().toString(36).slice(2),mt="__reactFiber$"+si,At="__reactProps$"+si,ws="__reactContainer$"+si,Oc="__reactEvents$"+si,db="__reactListeners$"+si,hb="__reactHandles$"+si,kh="__reactResources$"+si,qa="__reactMarker$"+si;function Mc(e){delete e[mt],delete e[At],delete e[Oc],delete e[db],delete e[hb]}function Ns(e){var n=e[mt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ws]||s[mt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=t_(e);e!==null;){if(s=e[mt])return s;e=t_(e)}return n}e=s,s=e.parentNode}return null}function As(e){if(e=e[mt]||e[ws]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Va(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function Rs(e){var n=e[kh];return n||(n=e[kh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ct(e){e[qa]=!0}var Uh=new Set,Lh={};function Vi(e,n){Ds(e,n),Ds(e+"Capture",n)}function Ds(e,n){for(Lh[e]=n,e=0;e<n.length;e++)Uh.add(n[e])}var mb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zh={},jh={};function pb(e){return Bi.call(jh,e)?!0:Bi.call(zh,e)?!1:mb.test(e)?jh[e]=!0:(zh[e]=!0,!1)}function gr(e,n,s){if(pb(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function _r(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Rn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hh(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gb(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ic(e){if(!e._valueTracker){var n=Hh(e)?"checked":"value";e._valueTracker=gb(e,n,""+e[n])}}function Bh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Hh(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _b=/[\n"\\]/g;function Jt(e){return e.replace(_b,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function kc(e,n,s,r,c,u,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),n!=null?h==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Wt(n)):e.value!==""+Wt(n)&&(e.value=""+Wt(n)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),n!=null?Uc(e,h,Wt(n)):s!=null?Uc(e,h,Wt(s)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Wt(_):e.removeAttribute("name")}function qh(e,n,s,r,c,u,h,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){Ic(e);return}s=s!=null?""+Wt(s):"",n=n!=null?""+Wt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Ic(e)}function Uc(e,n,s){n==="number"&&yr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Os(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Wt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Vh(e,n,s){if(n!=null&&(n=""+Wt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Wt(s):""}function Gh(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Ye(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Wt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Ic(e)}function Ms(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var yb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||yb.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Yh(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Ph(e,c,r)}else for(var u in n)n.hasOwnProperty(u)&&Ph(e,u,n[u])}function Lc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vr(e){return bb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var zc=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,ks=null;function Fh(e){var n=As(e);if(n&&(e=n.stateNode)){var s=e[At]||null;e:switch(e=n.stateNode,n.type){case"input":if(kc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[At]||null;if(!c)throw Error(l(90));kc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Bh(r)}break e;case"textarea":Vh(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Os(e,!!s.multiple,n,!1)}}}var Hc=!1;function Qh(e,n,s){if(Hc)return e(n,s);Hc=!0;try{var r=e(n);return r}finally{if(Hc=!1,(Is!==null||ks!==null)&&(lo(),Is&&(n=Is,e=ks,ks=Is=null,Fh(n),e)))for(n=0;n<e.length;n++)Fh(e[n])}}function Ga(e,n){var s=e.stateNode;if(s===null)return null;var r=s[At]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(On)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Bc=!1}var ai=null,qc=null,br=null;function Xh(){if(br)return br;var e,n=qc,s=n.length,r,c="value"in ai?ai.value:ai.textContent,u=c.length;for(e=0;e<s&&n[e]===c[e];e++);var h=s-e;for(r=1;r<=h&&n[s-r]===c[u-r];r++);return br=c.slice(e,1<r?1-r:void 0)}function Sr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function Kh(){return!1}function Rt(e){function n(s,r,c,u,h){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Er:Kh,this.isPropagationStopped=Kh,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=Rt(Gi),Ya=b({},Gi,{view:0,detail:0}),Sb=Rt(Ya),Vc,Gc,Fa,Cr=b({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(Vc=e.screenX-Fa.screenX,Gc=e.screenY-Fa.screenY):Gc=Vc=0,Fa=e),Vc)},movementY:function(e){return"movementY"in e?e.movementY:Gc}}),Zh=Rt(Cr),Eb=b({},Cr,{dataTransfer:0}),Tb=Rt(Eb),Cb=b({},Ya,{relatedTarget:0}),Pc=Rt(Cb),xb=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=Rt(xb),Nb=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ab=Rt(Nb),Rb=b({},Gi,{data:0}),Wh=Rt(Rb),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ib(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Mb[e])?!!n[e]:!1}function Yc(){return Ib}var kb=b({},Ya,{key:function(e){if(e.key){var n=Db[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ob[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yc,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ub=Rt(kb),Lb=b({},Cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=Rt(Lb),zb=b({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yc}),jb=Rt(zb),Hb=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bb=Rt(Hb),qb=b({},Cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vb=Rt(qb),Gb=b({},Gi,{newState:0,oldState:0}),Pb=Rt(Gb),Yb=[9,13,27,32],Fc=On&&"CompositionEvent"in window,Qa=null;On&&"documentMode"in document&&(Qa=document.documentMode);var Fb=On&&"TextEvent"in window&&!Qa,$h=On&&(!Fc||Qa&&8<Qa&&11>=Qa),em=" ",tm=!1;function nm(e,n){switch(e){case"keyup":return Yb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Qb(e,n){switch(e){case"compositionend":return im(n);case"keypress":return n.which!==32?null:(tm=!0,em);case"textInput":return e=n.data,e===em&&tm?null:e;default:return null}}function Xb(e,n){if(Us)return e==="compositionend"||!Fc&&nm(e,n)?(e=Xh(),br=qc=ai=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $h&&n.locale!=="ko"?null:n.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Kb[e.type]:n==="textarea"}function am(e,n,s,r){Is?ks?ks.push(r):ks=[r]:Is=r,n=mo(n,"onChange"),0<n.length&&(s=new Tr("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Xa=null,Ka=null;function Zb(e){qg(e,0)}function xr(e){var n=Va(e);if(Bh(n))return e}function lm(e,n){if(e==="change")return n}var rm=!1;if(On){var Qc;if(On){var Xc="oninput"in document;if(!Xc){var om=document.createElement("div");om.setAttribute("oninput","return;"),Xc=typeof om.oninput=="function"}Qc=Xc}else Qc=!1;rm=Qc&&(!document.documentMode||9<document.documentMode)}function cm(){Xa&&(Xa.detachEvent("onpropertychange",um),Ka=Xa=null)}function um(e){if(e.propertyName==="value"&&xr(Ka)){var n=[];am(n,Ka,e,jc(e)),Qh(Zb,n)}}function Wb(e,n,s){e==="focusin"?(cm(),Xa=n,Ka=s,Xa.attachEvent("onpropertychange",um)):e==="focusout"&&cm()}function Jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xr(Ka)}function $b(e,n){if(e==="click")return xr(n)}function e1(e,n){if(e==="input"||e==="change")return xr(n)}function t1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vt=typeof Object.is=="function"?Object.is:t1;function Za(e,n){if(Vt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Bi.call(n,c)||!Vt(e[c],n[c]))return!1}return!0}function fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,n){var s=fm(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=fm(s)}}function hm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=yr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=yr(e.document)}return n}function Kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var n1=On&&"documentMode"in document&&11>=document.documentMode,Ls=null,Zc=null,Wa=null,Wc=!1;function pm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wc||Ls==null||Ls!==yr(r)||(r=Ls,"selectionStart"in r&&Kc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wa&&Za(Wa,r)||(Wa=r,r=mo(Zc,"onSelect"),0<r.length&&(n=new Tr("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=Ls)))}function Pi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var zs={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},Jc={},gm={};On&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Yi(e){if(Jc[e])return Jc[e];if(!zs[e])return e;var n=zs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in gm)return Jc[e]=n[s];return e}var _m=Yi("animationend"),ym=Yi("animationiteration"),vm=Yi("animationstart"),i1=Yi("transitionrun"),s1=Yi("transitionstart"),a1=Yi("transitioncancel"),bm=Yi("transitionend"),Sm=new Map,$c="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$c.push("scrollEnd");function un(e,n){Sm.set(e,n),Vi(n,[e])}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],js=0,eu=0;function Nr(){for(var e=js,n=eu=js=0;n<e;){var s=$t[n];$t[n++]=null;var r=$t[n];$t[n++]=null;var c=$t[n];$t[n++]=null;var u=$t[n];if($t[n++]=null,r!==null&&c!==null){var h=r.pending;h===null?c.next=c:(c.next=h.next,h.next=c),r.pending=c}u!==0&&Em(s,c,u)}}function Ar(e,n,s,r){$t[js++]=e,$t[js++]=n,$t[js++]=s,$t[js++]=r,eu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function tu(e,n,s,r){return Ar(e,n,s,r),Rr(e)}function Fi(e,n){return Ar(e,null,null,n),Rr(e)}function Em(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,u=e.return;u!==null;)u.childLanes|=s,r=u.alternate,r!==null&&(r.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&n!==null&&(c=31-Tt(s),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),u):null}function Rr(e){if(50<vl)throw vl=0,ff=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Hs={};function l1(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,n,s,r){return new l1(e,n,s,r)}function nu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,n){var s=e.alternate;return s===null?(s=Gt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Tm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Dr(e,n,s,r,c,u){var h=0;if(r=e,typeof e=="function")nu(e)&&(h=1);else if(typeof e=="string")h=fS(e,s,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Je:return e=Gt(31,s,n,c),e.elementType=Je,e.lanes=u,e;case K:return Qi(s.children,c,u,n);case fe:h=8,c|=24;break;case _e:return e=Gt(12,s,n,c|2),e.elementType=_e,e.lanes=u,e;case We:return e=Gt(13,s,n,c),e.elementType=We,e.lanes=u,e;case ke:return e=Gt(19,s,n,c),e.elementType=ke,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Re:h=10;break e;case ae:h=9;break e;case ye:h=11;break e;case ne:h=14;break e;case ot:h=16,r=null;break e}h=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Gt(h,s,n,c),n.elementType=e,n.type=r,n.lanes=u,n}function Qi(e,n,s,r){return e=Gt(7,e,r,n),e.lanes=s,e}function iu(e,n,s){return e=Gt(6,e,null,n),e.lanes=s,e}function Cm(e){var n=Gt(18,null,null,0);return n.stateNode=e,n}function su(e,n,s){return n=Gt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xm=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var s=xm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ua(n)},xm.set(e,n),n)}return{value:e,source:n,stack:Ua(n)}}var Bs=[],qs=0,Or=null,Ja=0,tn=[],nn=0,li=null,En=1,Tn="";function In(e,n){Bs[qs++]=Ja,Bs[qs++]=Or,Or=e,Ja=n}function wm(e,n,s){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=li,li=e;var r=En;e=Tn;var c=32-Tt(r)-1;r&=~(1<<c),s+=1;var u=32-Tt(n)+c;if(30<u){var h=c-c%5;u=(r&(1<<h)-1).toString(32),r>>=h,c-=h,En=1<<32-Tt(n)+c|s<<c|r,Tn=u+e}else En=1<<u|s<<c|r,Tn=e}function au(e){e.return!==null&&(In(e,1),wm(e,1,0))}function lu(e){for(;e===Or;)Or=Bs[--qs],Bs[qs]=null,Ja=Bs[--qs],Bs[qs]=null;for(;e===li;)li=tn[--nn],tn[nn]=null,Tn=tn[--nn],tn[nn]=null,En=tn[--nn],tn[nn]=null}function Nm(e,n){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=li,En=n.id,Tn=n.overflow,li=e}var pt=null,je=null,ve=!1,ri=null,sn=!1,ru=Error(l(519));function oi(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(en(n,e)),ru}function Am(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[mt]=e,n[At]=r,s){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Sl.length;s++)he(Sl[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),qh(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),Gh(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Yg(n.textContent,s)?(r.popover!=null&&(he("beforetoggle",n),he("toggle",n)),r.onScroll!=null&&he("scroll",n),r.onScrollEnd!=null&&he("scrollend",n),r.onClick!=null&&(n.onclick=Dn),n=!0):n=!1,n||oi(e,!0)}function Rm(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:pt=pt.return}}function Vs(e){if(e!==pt)return!1;if(!ve)return Rm(e),ve=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wf(e.type,e.memoizedProps)),s=!s),s&&je&&oi(e),Rm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));je=e_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));je=e_(e)}else n===27?(n=je,Ei(e.type)?(e=Of,Of=null,je=e):je=n):je=pt?ln(e.stateNode.nextSibling):null;return!0}function Xi(){je=pt=null,ve=!1}function ou(){var e=ri;return e!==null&&(It===null?It=e:It.push.apply(It,e),ri=null),e}function $a(e){ri===null?ri=[e]:ri.push(e)}var cu=C(null),Ki=null,kn=null;function ci(e,n,s){q(cu,n._currentValue),n._currentValue=s}function Un(e){e._currentValue=cu.current,k(cu)}function uu(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function fu(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var h=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){u.lanes|=s,_=u.alternate,_!==null&&(_.lanes|=s),uu(u.return,s,e),r||(h=null);break e}u=_.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(l(341));h.lanes|=s,u=h.alternate,u!==null&&(u.lanes|=s),uu(h,s,e),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===e){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function Gs(e,n,s,r){e=null;for(var c=n,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var _=c.type;Vt(c.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(c===X.current){if(h=c.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}c=c.return}e!==null&&fu(n,e,s,r),n.flags|=262144}function Mr(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Zi(e){Ki=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return Dm(Ki,e)}function Ir(e,n){return Ki===null&&Zi(e),Dm(e,n)}function Dm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},kn===null){if(e===null)throw Error(l(308));kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else kn=kn.next=n;return s}var r1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},o1=a.unstable_scheduleCallback,c1=a.unstable_NormalPriority,et={$$typeof:Re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new r1,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&o1(c1,function(){e.controller.abort()})}var tl=null,hu=0,Ps=0,Ys=null;function u1(e,n){if(tl===null){var s=tl=[];hu=0,Ps=_f(),Ys={status:"pending",value:void 0,then:function(r){s.push(r)}}}return hu++,n.then(Om,Om),n}function Om(){if(--hu===0&&tl!==null){Ys!==null&&(Ys.status="fulfilled");var e=tl;tl=null,Ps=0,Ys=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function f1(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var Mm=D.S;D.S=function(e,n){pg=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(e,n),Mm!==null&&Mm(e,n)};var Wi=C(null);function mu(){var e=Wi.current;return e!==null?e:Ue.pooledCache}function kr(e,n){n===null?q(Wi,Wi.current):q(Wi,n.pool)}function Im(){var e=mu();return e===null?null:{parent:et._currentValue,pool:e}}var Fs=Error(l(460)),pu=Error(l(474)),Ur=Error(l(542)),Lr={then:function(){}};function km(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Um(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Dn,Dn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e;default:if(typeof n.status=="string")n.then(Dn,Dn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e}throw $i=n,Fs}}function Ji(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?($i=s,Fs):s}}var $i=null;function Lm(){if($i===null)throw Error(l(459));var e=$i;return $i=null,e}function zm(e){if(e===Fs||e===Ur)throw Error(l(483))}var Qs=null,nl=0;function zr(e){var n=nl;return nl+=1,Qs===null&&(Qs=[]),Um(Qs,e,n)}function il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function jr(e,n){throw n.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jm(e){function n(x,T){if(e){var w=x.deletions;w===null?(x.deletions=[T],x.flags|=16):w.push(T)}}function s(x,T){if(!e)return null;for(;T!==null;)n(x,T),T=T.sibling;return null}function r(x){for(var T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function c(x,T){return x=Mn(x,T),x.index=0,x.sibling=null,x}function u(x,T,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<T?(x.flags|=67108866,T):w):(x.flags|=67108866,T)):(x.flags|=1048576,T)}function h(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,T,w,M){return T===null||T.tag!==6?(T=iu(w,x.mode,M),T.return=x,T):(T=c(T,w),T.return=x,T)}function v(x,T,w,M){var Q=w.type;return Q===K?O(x,T,w.props.children,M,w.key):T!==null&&(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ot&&Ji(Q)===T.type)?(T=c(T,w.props),il(T,w),T.return=x,T):(T=Dr(w.type,w.key,w.props,null,x.mode,M),il(T,w),T.return=x,T)}function N(x,T,w,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=su(w,x.mode,M),T.return=x,T):(T=c(T,w.children||[]),T.return=x,T)}function O(x,T,w,M,Q){return T===null||T.tag!==7?(T=Qi(w,x.mode,M,Q),T.return=x,T):(T=c(T,w),T.return=x,T)}function I(x,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=iu(""+T,x.mode,w),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case z:return w=Dr(T.type,T.key,T.props,null,x.mode,w),il(w,T),w.return=x,w;case L:return T=su(T,x.mode,w),T.return=x,T;case ot:return T=Ji(T),I(x,T,w)}if(Ye(T)||$e(T))return T=Qi(T,x.mode,w,null),T.return=x,T;if(typeof T.then=="function")return I(x,zr(T),w);if(T.$$typeof===Re)return I(x,Ir(x,T),w);jr(x,T)}return null}function A(x,T,w,M){var Q=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return Q!==null?null:_(x,T,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case z:return w.key===Q?v(x,T,w,M):null;case L:return w.key===Q?N(x,T,w,M):null;case ot:return w=Ji(w),A(x,T,w,M)}if(Ye(w)||$e(w))return Q!==null?null:O(x,T,w,M,null);if(typeof w.then=="function")return A(x,T,zr(w),M);if(w.$$typeof===Re)return A(x,T,Ir(x,w),M);jr(x,w)}return null}function R(x,T,w,M,Q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return x=x.get(w)||null,_(T,x,""+M,Q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return x=x.get(M.key===null?w:M.key)||null,v(T,x,M,Q);case L:return x=x.get(M.key===null?w:M.key)||null,N(T,x,M,Q);case ot:return M=Ji(M),R(x,T,w,M,Q)}if(Ye(M)||$e(M))return x=x.get(w)||null,O(T,x,M,Q,null);if(typeof M.then=="function")return R(x,T,w,zr(M),Q);if(M.$$typeof===Re)return R(x,T,w,Ir(T,M),Q);jr(T,M)}return null}function Y(x,T,w,M){for(var Q=null,Ee=null,F=T,re=T=0,ge=null;F!==null&&re<w.length;re++){F.index>re?(ge=F,F=null):ge=F.sibling;var Te=A(x,F,w[re],M);if(Te===null){F===null&&(F=ge);break}e&&F&&Te.alternate===null&&n(x,F),T=u(Te,T,re),Ee===null?Q=Te:Ee.sibling=Te,Ee=Te,F=ge}if(re===w.length)return s(x,F),ve&&In(x,re),Q;if(F===null){for(;re<w.length;re++)F=I(x,w[re],M),F!==null&&(T=u(F,T,re),Ee===null?Q=F:Ee.sibling=F,Ee=F);return ve&&In(x,re),Q}for(F=r(F);re<w.length;re++)ge=R(F,x,re,w[re],M),ge!==null&&(e&&ge.alternate!==null&&F.delete(ge.key===null?re:ge.key),T=u(ge,T,re),Ee===null?Q=ge:Ee.sibling=ge,Ee=ge);return e&&F.forEach(function(Ni){return n(x,Ni)}),ve&&In(x,re),Q}function Z(x,T,w,M){if(w==null)throw Error(l(151));for(var Q=null,Ee=null,F=T,re=T=0,ge=null,Te=w.next();F!==null&&!Te.done;re++,Te=w.next()){F.index>re?(ge=F,F=null):ge=F.sibling;var Ni=A(x,F,Te.value,M);if(Ni===null){F===null&&(F=ge);break}e&&F&&Ni.alternate===null&&n(x,F),T=u(Ni,T,re),Ee===null?Q=Ni:Ee.sibling=Ni,Ee=Ni,F=ge}if(Te.done)return s(x,F),ve&&In(x,re),Q;if(F===null){for(;!Te.done;re++,Te=w.next())Te=I(x,Te.value,M),Te!==null&&(T=u(Te,T,re),Ee===null?Q=Te:Ee.sibling=Te,Ee=Te);return ve&&In(x,re),Q}for(F=r(F);!Te.done;re++,Te=w.next())Te=R(F,x,re,Te.value,M),Te!==null&&(e&&Te.alternate!==null&&F.delete(Te.key===null?re:Te.key),T=u(Te,T,re),Ee===null?Q=Te:Ee.sibling=Te,Ee=Te);return e&&F.forEach(function(ES){return n(x,ES)}),ve&&In(x,re),Q}function Me(x,T,w,M){if(typeof w=="object"&&w!==null&&w.type===K&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case z:e:{for(var Q=w.key;T!==null;){if(T.key===Q){if(Q=w.type,Q===K){if(T.tag===7){s(x,T.sibling),M=c(T,w.props.children),M.return=x,x=M;break e}}else if(T.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ot&&Ji(Q)===T.type){s(x,T.sibling),M=c(T,w.props),il(M,w),M.return=x,x=M;break e}s(x,T);break}else n(x,T);T=T.sibling}w.type===K?(M=Qi(w.props.children,x.mode,M,w.key),M.return=x,x=M):(M=Dr(w.type,w.key,w.props,null,x.mode,M),il(M,w),M.return=x,x=M)}return h(x);case L:e:{for(Q=w.key;T!==null;){if(T.key===Q)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){s(x,T.sibling),M=c(T,w.children||[]),M.return=x,x=M;break e}else{s(x,T);break}else n(x,T);T=T.sibling}M=su(w,x.mode,M),M.return=x,x=M}return h(x);case ot:return w=Ji(w),Me(x,T,w,M)}if(Ye(w))return Y(x,T,w,M);if($e(w)){if(Q=$e(w),typeof Q!="function")throw Error(l(150));return w=Q.call(w),Z(x,T,w,M)}if(typeof w.then=="function")return Me(x,T,zr(w),M);if(w.$$typeof===Re)return Me(x,T,Ir(x,w),M);jr(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(s(x,T.sibling),M=c(T,w),M.return=x,x=M):(s(x,T),M=iu(w,x.mode,M),M.return=x,x=M),h(x)):s(x,T)}return function(x,T,w,M){try{nl=0;var Q=Me(x,T,w,M);return Qs=null,Q}catch(F){if(F===Fs||F===Ur)throw F;var Ee=Gt(29,F,null,x.mode);return Ee.lanes=M,Ee.return=x,Ee}finally{}}}var es=jm(!0),Hm=jm(!1),ui=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Rr(e),Em(e,null,s),n}return Ar(e,r,n,s),Rr(e)}function sl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,xs(e,s)}}function yu(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var h={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=h:u=u.next=h,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var vu=!1;function al(){if(vu){var e=Ys;if(e!==null)throw e}}function ll(e,n,s,r){vu=!1;var c=e.updateQueue;ui=!1;var u=c.firstBaseUpdate,h=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,N=v.next;v.next=null,h===null?u=N:h.next=N,h=v;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==h&&(_===null?O.firstBaseUpdate=N:_.next=N,O.lastBaseUpdate=v))}if(u!==null){var I=c.baseState;h=0,O=N=v=null,_=u;do{var A=_.lane&-536870913,R=A!==_.lane;if(R?(pe&A)===A:(r&A)===A){A!==0&&A===Ps&&(vu=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Y=e,Z=_;A=n;var Me=s;switch(Z.tag){case 1:if(Y=Z.payload,typeof Y=="function"){I=Y.call(Me,I,A);break e}I=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=Z.payload,A=typeof Y=="function"?Y.call(Me,I,A):Y,A==null)break e;I=b({},I,A);break e;case 2:ui=!0}}A=_.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[A]:R.push(A))}else R={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(N=O=R,v=I):O=O.next=R,h|=A;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);O===null&&(v=I),c.baseState=v,c.firstBaseUpdate=N,c.lastBaseUpdate=O,u===null&&(c.shared.lanes=0),_i|=h,e.lanes=h,e.memoizedState=I}}function Bm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function qm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Bm(s[e],n)}var Xs=C(null),Hr=C(0);function Vm(e,n){e=Pn,q(Hr,e),q(Xs,n),Pn=e|n.baseLanes}function bu(){q(Hr,Pn),q(Xs,Xs.current)}function Su(){Pn=Hr.current,k(Xs),k(Hr)}var Pt=C(null),an=null;function hi(e){var n=e.alternate;q(Ke,Ke.current&1),q(Pt,e),an===null&&(n===null||Xs.current!==null||n.memoizedState!==null)&&(an=e)}function Eu(e){q(Ke,Ke.current),q(Pt,e),an===null&&(an=e)}function Gm(e){e.tag===22?(q(Ke,Ke.current),q(Pt,e),an===null&&(an=e)):mi()}function mi(){q(Ke,Ke.current),q(Pt,Pt.current)}function Yt(e){k(Pt),an===e&&(an=null),k(Ke)}var Ke=C(0);function Br(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rf(s)||Df(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ln=0,se=null,De=null,tt=null,qr=!1,Ks=!1,ts=!1,Vr=0,rl=0,Zs=null,d1=0;function Fe(){throw Error(l(321))}function Tu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Vt(e[s],n[s]))return!1;return!0}function Cu(e,n,s,r,c,u){return Ln=u,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?wp:Hu,ts=!1,u=s(r,c),ts=!1,Ks&&(u=Ym(n,s,r,c)),Pm(e),u}function Pm(e){D.H=ul;var n=De!==null&&De.next!==null;if(Ln=0,tt=De=se=null,qr=!1,rl=0,Zs=null,n)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&Mr(e)&&(nt=!0))}function Ym(e,n,s,r){se=e;var c=0;do{if(Ks&&(Zs=null),rl=0,Ks=!1,25<=c)throw Error(l(301));if(c+=1,tt=De=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Np,u=n(s,r)}while(Ks);return u}function h1(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ol(n):n,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(se.flags|=1024),n}function xu(){var e=Vr!==0;return Vr=0,e}function wu(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Nu(e){if(qr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qr=!1}Ln=0,tt=De=se=null,Ks=!1,rl=Vr=0,Zs=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?se.memoizedState=tt=e:tt=tt.next=e,tt}function Ze(){if(De===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var n=tt===null?se.memoizedState:tt.next;if(n!==null)tt=n,De=e;else{if(e===null)throw se.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},tt===null?se.memoizedState=tt=e:tt=tt.next=e}return tt}function Gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var n=rl;return rl+=1,Zs===null&&(Zs=[]),e=Um(Zs,e,n),n=se,(tt===null?n.memoizedState:tt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?wp:Hu),e}function Pr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===Re)return gt(e)}throw Error(l(438,String(e)))}function Au(e){var n=null,s=se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gr(),se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=on;return n.index++,s}function zn(e,n){return typeof n=="function"?n(e):n}function Yr(e){var n=Ze();return Ru(n,De,e)}function Ru(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var h=c.next;c.next=u.next,u.next=h}n.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{n=c.next;var _=h=null,v=null,N=n,O=!1;do{var I=N.lane&-536870913;if(I!==N.lane?(pe&I)===I:(Ln&I)===I){var A=N.revertLane;if(A===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),I===Ps&&(O=!0);else if((Ln&A)===A){N=N.next,A===Ps&&(O=!0);continue}else I={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=I,h=u):v=v.next=I,se.lanes|=A,_i|=A;I=N.action,ts&&s(u,I),u=N.hasEagerState?N.eagerState:s(u,I)}else A={lane:I,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=A,h=u):v=v.next=A,se.lanes|=I,_i|=I;N=N.next}while(N!==null&&N!==n);if(v===null?h=u:v.next=_,!Vt(u,e.memoizedState)&&(nt=!0,O&&(s=Ys,s!==null)))throw s;e.memoizedState=u,e.baseState=h,e.baseQueue=v,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Du(e){var n=Ze(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var h=c=c.next;do u=e(u,h.action),h=h.next;while(h!==c);Vt(u,n.memoizedState)||(nt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,r]}function Fm(e,n,s){var r=se,c=Ze(),u=ve;if(u){if(s===void 0)throw Error(l(407));s=s()}else s=n();var h=!Vt((De||c).memoizedState,s);if(h&&(c.memoizedState=s,nt=!0),c=c.queue,Iu(Km.bind(null,r,c,e),[e]),c.getSnapshot!==n||h||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Ws(9,{destroy:void 0},Xm.bind(null,r,c,s,n),null),Ue===null)throw Error(l(349));u||(Ln&127)!==0||Qm(r,n,s)}return s}function Qm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=se.updateQueue,n===null?(n=Gr(),se.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Xm(e,n,s,r){n.value=s,n.getSnapshot=r,Zm(n)&&Wm(e)}function Km(e,n,s){return s(function(){Zm(n)&&Wm(e)})}function Zm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Vt(e,s)}catch{return!0}}function Wm(e){var n=Fi(e,2);n!==null&&kt(n,e,2)}function Ou(e){var n=xt();if(typeof e=="function"){var s=e;if(e=s(),ts){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},n}function Jm(e,n,s,r){return e.baseState=s,Ru(e,De,typeof r=="function"?r:zn)}function m1(e,n,s,r,c){if(Xr(e))throw Error(l(485));if(e=n.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};D.T!==null?s(!0):u.isTransition=!1,r(u),s=n.pending,s===null?(u.next=n.pending=u,$m(n,u)):(u.next=s.next,n.pending=s.next=u)}}function $m(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var u=D.T,h={};D.T=h;try{var _=s(c,r),v=D.S;v!==null&&v(h,_),ep(e,n,_)}catch(N){Mu(e,n,N)}finally{u!==null&&h.types!==null&&(u.types=h.types),D.T=u}}else try{u=s(c,r),ep(e,n,u)}catch(N){Mu(e,n,N)}}function ep(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){tp(e,n,r)},function(r){return Mu(e,n,r)}):tp(e,n,s)}function tp(e,n,s){n.status="fulfilled",n.value=s,np(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,$m(e,s)))}function Mu(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,np(n),n=n.next;while(n!==r)}e.action=null}function np(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ip(e,n){return n}function sp(e,n){if(ve){var s=Ue.formState;if(s!==null){e:{var r=se;if(ve){if(je){t:{for(var c=je,u=sn;c.nodeType!==8;){if(!u){c=null;break t}if(c=ln(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){je=ln(c.nextSibling),r=c.data==="F!";break e}}oi(r)}r=!1}r&&(n=s[0])}}return s=xt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:n},s.queue=r,s=Tp.bind(null,se,r),r.dispatch=s,r=Ou(!1),u=ju.bind(null,se,!1,r.queue),r=xt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=m1.bind(null,se,c,u,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function ap(e){var n=Ze();return lp(n,De,e)}function lp(e,n,s){if(n=Ru(e,n,ip)[0],e=Yr(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=ol(n)}catch(h){throw h===Fs?Ur:h}else r=n;n=Ze();var c=n.queue,u=c.dispatch;return s!==n.memoizedState&&(se.flags|=2048,Ws(9,{destroy:void 0},p1.bind(null,c,s),null)),[r,u,e]}function p1(e,n){e.action=n}function rp(e){var n=Ze(),s=De;if(s!==null)return lp(n,s,e);Ze(),n=n.memoizedState,s=Ze();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Ws(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=se.updateQueue,n===null&&(n=Gr(),se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function op(){return Ze().memoizedState}function Fr(e,n,s,r){var c=xt();se.flags|=e,c.memoizedState=Ws(1|n,{destroy:void 0},s,r===void 0?null:r)}function Qr(e,n,s,r){var c=Ze();r=r===void 0?null:r;var u=c.memoizedState.inst;De!==null&&r!==null&&Tu(r,De.memoizedState.deps)?c.memoizedState=Ws(n,u,s,r):(se.flags|=e,c.memoizedState=Ws(1|n,u,s,r))}function cp(e,n){Fr(8390656,8,e,n)}function Iu(e,n){Qr(2048,8,e,n)}function g1(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=Gr(),se.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function up(e){var n=Ze().memoizedState;return g1({ref:n,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function fp(e,n){return Qr(4,2,e,n)}function dp(e,n){return Qr(4,4,e,n)}function hp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function mp(e,n,s){s=s!=null?s.concat([e]):null,Qr(4,4,hp.bind(null,n,e),s)}function ku(){}function pp(e,n){var s=Ze();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&Tu(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function gp(e,n){var s=Ze();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&Tu(n,r[1]))return r[0];if(r=e(),ts){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[r,n],r}function Uu(e,n,s){return s===void 0||(Ln&1073741824)!==0&&(pe&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=_g(),se.lanes|=e,_i|=e,s)}function _p(e,n,s,r){return Vt(s,n)?s:Xs.current!==null?(e=Uu(e,s,r),Vt(e,n)||(nt=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(pe&261930)===0?(nt=!0,e.memoizedState=s):(e=_g(),se.lanes|=e,_i|=e,n)}function yp(e,n,s,r,c){var u=B.p;B.p=u!==0&&8>u?u:8;var h=D.T,_={};D.T=_,ju(e,!1,n,s);try{var v=c(),N=D.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var O=f1(v,r);cl(e,n,O,Xt(e))}else cl(e,n,r,Xt(e))}catch(I){cl(e,n,{then:function(){},status:"rejected",reason:I},Xt())}finally{B.p=u,h!==null&&_.types!==null&&(h.types=_.types),D.T=h}}function _1(){}function Lu(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=vp(e).queue;yp(e,c,n,W,s===null?_1:function(){return bp(e),s(r)})}function vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:W},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bp(e){var n=vp(e);n.next===null&&(n=e.alternate.memoizedState),cl(e,n.next.queue,{},Xt())}function zu(){return gt(wl)}function Sp(){return Ze().memoizedState}function Ep(){return Ze().memoizedState}function y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Xt();e=fi(s);var r=di(n,e,s);r!==null&&(kt(r,n,s),sl(r,n,s)),n={cache:du()},e.payload=n;return}n=n.return}}function v1(e,n,s){var r=Xt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xr(e)?Cp(n,s):(s=tu(e,n,s,r),s!==null&&(kt(s,e,r),xp(s,n,r)))}function Tp(e,n,s){var r=Xt();cl(e,n,s,r)}function cl(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xr(e))Cp(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var h=n.lastRenderedState,_=u(h,s);if(c.hasEagerState=!0,c.eagerState=_,Vt(_,h))return Ar(e,n,c,0),Ue===null&&Nr(),!1}catch{}finally{}if(s=tu(e,n,c,r),s!==null)return kt(s,e,r),xp(s,n,r),!0}return!1}function ju(e,n,s,r){if(r={lane:2,revertLane:_f(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xr(e)){if(n)throw Error(l(479))}else n=tu(e,s,r,2),n!==null&&kt(n,e,2)}function Xr(e){var n=e.alternate;return e===se||n!==null&&n===se}function Cp(e,n){Ks=qr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,xs(e,s)}}var ul={readContext:gt,use:Pr,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};ul.useEffectEvent=Fe;var wp={readContext:gt,use:Pr,useCallback:function(e,n){return xt().memoizedState=[e,n===void 0?null:n],e},useContext:gt,useEffect:cp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fr(4194308,4,hp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fr(4194308,4,e,n)},useInsertionEffect:function(e,n){Fr(4,2,e,n)},useMemo:function(e,n){var s=xt();n=n===void 0?null:n;var r=e();if(ts){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=xt();if(s!==void 0){var c=s(n);if(ts){Sn(!0);try{s(n)}finally{Sn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=v1.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var n=xt();return e={current:e},n.memoizedState=e},useState:function(e){e=Ou(e);var n=e.queue,s=Tp.bind(null,se,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ku,useDeferredValue:function(e,n){var s=xt();return Uu(s,e,n)},useTransition:function(){var e=Ou(!1);return e=yp.bind(null,se,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=se,c=xt();if(ve){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Ue===null)throw Error(l(349));(pe&127)!==0||Qm(r,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,cp(Km.bind(null,r,u,e),[e]),r.flags|=2048,Ws(9,{destroy:void 0},Xm.bind(null,r,u,s,n),null),s},useId:function(){var e=xt(),n=Ue.identifierPrefix;if(ve){var s=Tn,r=En;s=(r&~(1<<32-Tt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=d1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:zu,useFormState:sp,useActionState:sp,useOptimistic:function(e){var n=xt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=ju.bind(null,se,!0,s),s.dispatch=n,[e,n]},useMemoCache:Au,useCacheRefresh:function(){return xt().memoizedState=y1.bind(null,se)},useEffectEvent:function(e){var n=xt(),s={impl:e};return n.memoizedState=s,function(){if((Ce&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Hu={readContext:gt,use:Pr,useCallback:pp,useContext:gt,useEffect:Iu,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:gp,useReducer:Yr,useRef:op,useState:function(){return Yr(zn)},useDebugValue:ku,useDeferredValue:function(e,n){var s=Ze();return _p(s,De.memoizedState,e,n)},useTransition:function(){var e=Yr(zn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Fm,useId:Sp,useHostTransitionStatus:zu,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var s=Ze();return Jm(s,De,e,n)},useMemoCache:Au,useCacheRefresh:Ep};Hu.useEffectEvent=up;var Np={readContext:gt,use:Pr,useCallback:pp,useContext:gt,useEffect:Iu,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:gp,useReducer:Du,useRef:op,useState:function(){return Du(zn)},useDebugValue:ku,useDeferredValue:function(e,n){var s=Ze();return De===null?Uu(s,e,n):_p(s,De.memoizedState,e,n)},useTransition:function(){var e=Du(zn)[0],n=Ze().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Fm,useId:Sp,useHostTransitionStatus:zu,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var s=Ze();return De!==null?Jm(s,De,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Au,useCacheRefresh:Ep};Np.useEffectEvent=up;function Bu(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qu={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Xt(),c=fi(r);c.payload=n,s!=null&&(c.callback=s),n=di(e,c,r),n!==null&&(kt(n,e,r),sl(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Xt(),c=fi(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=di(e,c,r),n!==null&&(kt(n,e,r),sl(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xt(),r=fi(s);r.tag=2,n!=null&&(r.callback=n),n=di(e,r,s),n!==null&&(kt(n,e,s),sl(n,e,s))}};function Ap(e,n,s,r,c,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):n.prototype&&n.prototype.isPureReactComponent?!Za(s,r)||!Za(c,u):!0}function Rp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&qu.enqueueReplaceState(n,n.state,null)}function ns(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Dp(e){wr(e)}function Op(e){console.error(e)}function Mp(e){wr(e)}function Kr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function Ip(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vu(e,n,s){return s=fi(s),s.tag=3,s.payload={element:null},s.callback=function(){Kr(e,n)},s}function kp(e){return e=fi(e),e.tag=3,e}function Up(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){Ip(n,s,r)}}var h=s.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Ip(n,s,r),typeof c!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function b1(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Gs(n,s,c,!0),s=Pt.current,s!==null){switch(s.tag){case 31:case 13:return an===null?ro():s.alternate===null&&Qe===0&&(Qe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===Lr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),mf(e,r,c)),!1;case 22:return s.flags|=65536,r===Lr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),mf(e,r,c)),!1}throw Error(l(435,s.tag))}return mf(e,r,c),ro(),!1}if(ve)return n=Pt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==ru&&(e=Error(l(422),{cause:r}),$a(en(e,s)))):(r!==ru&&(n=Error(l(423),{cause:r}),$a(en(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=en(r,s),c=Vu(e.stateNode,r,c),yu(e,c),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:r});if(u=en(u,s),yl===null?yl=[u]:yl.push(u),Qe!==4&&(Qe=2),n===null)return!0;r=en(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Vu(s.stateNode,r,e),yu(s,e),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(yi===null||!yi.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=kp(c),Up(c,e,s,r),yu(s,c),!1}s=s.return}while(s!==null);return!1}var Gu=Error(l(461)),nt=!1;function _t(e,n,s,r){n.child=e===null?Hm(n,null,s,r):es(n,e.child,s,r)}function Lp(e,n,s,r,c){s=s.render;var u=n.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Zi(n),r=Cu(e,n,s,h,u,c),_=xu(),e!==null&&!nt?(wu(e,n,c),jn(e,n,c)):(ve&&_&&au(n),n.flags|=1,_t(e,n,r,c),n.child)}function zp(e,n,s,r,c){if(e===null){var u=s.type;return typeof u=="function"&&!nu(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,jp(e,n,u,r,c)):(e=Dr(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!Wu(e,c)){var h=u.memoizedProps;if(s=s.compare,s=s!==null?s:Za,s(h,r)&&e.ref===n.ref)return jn(e,n,c)}return n.flags|=1,e=Mn(u,r),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,s,r,c){if(e!==null){var u=e.memoizedProps;if(Za(u,r)&&e.ref===n.ref)if(nt=!1,n.pendingProps=r=u,Wu(e,c))(e.flags&131072)!==0&&(nt=!0);else return n.lanes=e.lanes,jn(e,n,c)}return Pu(e,n,s,r,c)}function Hp(e,n,s,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,n.child=null;return Bp(e,n,u,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&kr(n,u!==null?u.cachePool:null),u!==null?Vm(n,u):bu(),Gm(n);else return r=n.lanes=536870912,Bp(e,n,u!==null?u.baseLanes|s:s,s,r)}else u!==null?(kr(n,u.cachePool),Vm(n,u),mi(),n.memoizedState=null):(e!==null&&kr(n,null),bu(),mi());return _t(e,n,c,s),n.child}function fl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Bp(e,n,s,r,c){var u=mu();return u=u===null?null:{parent:et._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},e!==null&&kr(n,null),bu(),Gm(n),e!==null&&Gs(e,n,r,!0),n.childLanes=c,null}function Zr(e,n){return n=Jr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function qp(e,n,s){return es(n,e.child,null,s),e=Zr(n,n.pendingProps),e.flags|=2,Yt(n),n.memoizedState=null,e}function S1(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ve){if(r.mode==="hidden")return e=Zr(n,r),n.lanes=536870912,fl(null,e);if(Eu(n),(e=je)?(e=$g(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},s=Cm(e),s.return=n,n.child=s,pt=n,je=null)):e=null,e===null)throw oi(n);return n.lanes=536870912,null}return Zr(n,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(Eu(n),c)if(n.flags&256)n.flags&=-257,n=qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(nt||Gs(e,n,s,!1),c=(s&e.childLanes)!==0,nt||c){if(r=Ue,r!==null&&(h=pr(r,s),h!==0&&h!==u.retryLane))throw u.retryLane=h,Fi(e,h),kt(r,e,h),Gu;ro(),n=qp(e,n,s)}else e=u.treeContext,je=ln(h.nextSibling),pt=n,ve=!0,ri=null,sn=!1,e!==null&&Nm(n,e),n=Zr(n,r),n.flags|=4096;return n}return e=Mn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Pu(e,n,s,r,c){return Zi(n),s=Cu(e,n,s,r,void 0,c),r=xu(),e!==null&&!nt?(wu(e,n,c),jn(e,n,c)):(ve&&r&&au(n),n.flags|=1,_t(e,n,s,c),n.child)}function Vp(e,n,s,r,c,u){return Zi(n),n.updateQueue=null,s=Ym(n,r,s,c),Pm(e),r=xu(),e!==null&&!nt?(wu(e,n,u),jn(e,n,u)):(ve&&r&&au(n),n.flags|=1,_t(e,n,s,u),n.child)}function Gp(e,n,s,r,c){if(Zi(n),n.stateNode===null){var u=Hs,h=s.contextType;typeof h=="object"&&h!==null&&(u=gt(h)),u=new s(r,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=qu,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=r,u.state=n.memoizedState,u.refs={},gu(n),h=s.contextType,u.context=typeof h=="object"&&h!==null?gt(h):Hs,u.state=n.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(Bu(n,s,h,r),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&qu.enqueueReplaceState(u,u.state,null),ll(n,r,u,c),al(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){u=n.stateNode;var _=n.memoizedProps,v=ns(s,_);u.props=v;var N=u.context,O=s.contextType;h=Hs,typeof O=="object"&&O!==null&&(h=gt(O));var I=s.getDerivedStateFromProps;O=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||N!==h)&&Rp(n,u,r,h),ui=!1;var A=n.memoizedState;u.state=A,ll(n,r,u,c),al(),N=n.memoizedState,_||A!==N||ui?(typeof I=="function"&&(Bu(n,s,I,r),N=n.memoizedState),(v=ui||Ap(n,s,v,r,A,N,h))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),u.props=r,u.state=N,u.context=h,r=v):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,_u(e,n),h=n.memoizedProps,O=ns(s,h),u.props=O,I=n.pendingProps,A=u.context,N=s.contextType,v=Hs,typeof N=="object"&&N!==null&&(v=gt(N)),_=s.getDerivedStateFromProps,(N=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==I||A!==v)&&Rp(n,u,r,v),ui=!1,A=n.memoizedState,u.state=A,ll(n,r,u,c),al();var R=n.memoizedState;h!==I||A!==R||ui||e!==null&&e.dependencies!==null&&Mr(e.dependencies)?(typeof _=="function"&&(Bu(n,s,_,r),R=n.memoizedState),(O=ui||Ap(n,s,O,r,A,R,v)||e!==null&&e.dependencies!==null&&Mr(e.dependencies))?(N||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,v),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,v)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),u.props=r,u.state=R,u.context=v,r=O):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),r=!1)}return u=r,Wr(e,n),r=(n.flags&128)!==0,u||r?(u=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&r?(n.child=es(n,e.child,null,c),n.child=es(n,null,s,c)):_t(e,n,s,c),n.memoizedState=u.state,e=n.child):e=jn(e,n,c),e}function Pp(e,n,s,r){return Xi(),n.flags|=256,_t(e,n,s,r),n.child}var Yu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fu(e){return{baseLanes:e,cachePool:Im()}}function Qu(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Qt),e}function Yp(e,n,s){var r=n.pendingProps,c=!1,u=(n.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),h&&(c=!0,n.flags&=-129),h=(n.flags&32)!==0,n.flags&=-33,e===null){if(ve){if(c?hi(n):mi(),(e=je)?(e=$g(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},s=Cm(e),s.return=n,n.child=s,pt=n,je=null)):e=null,e===null)throw oi(n);return Df(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(mi(),c=n.mode,_=Jr({mode:"hidden",children:_},c),r=Qi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Fu(s),r.childLanes=Qu(e,h,s),n.memoizedState=Yu,fl(null,r)):(hi(n),Xu(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(u)n.flags&256?(hi(n),n.flags&=-257,n=Ku(e,n,s)):n.memoizedState!==null?(mi(),n.child=e.child,n.flags|=128,n=null):(mi(),_=r.fallback,c=n.mode,r=Jr({mode:"visible",children:r.children},c),_=Qi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,es(n,e.child,null,s),r=n.child,r.memoizedState=Fu(s),r.childLanes=Qu(e,h,s),n.memoizedState=Yu,n=fl(null,r));else if(hi(n),Df(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var N=h.dgst;h=N,r=Error(l(419)),r.stack="",r.digest=h,$a({value:r,source:null,stack:null}),n=Ku(e,n,s)}else if(nt||Gs(e,n,s,!1),h=(s&e.childLanes)!==0,nt||h){if(h=Ue,h!==null&&(r=pr(h,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,Fi(e,r),kt(h,e,r),Gu;Rf(_)||ro(),n=Ku(e,n,s)}else Rf(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,je=ln(_.nextSibling),pt=n,ve=!0,ri=null,sn=!1,e!==null&&Nm(n,e),n=Xu(n,r.children),n.flags|=4096);return n}return c?(mi(),_=r.fallback,c=n.mode,v=e.child,N=v.sibling,r=Mn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,N!==null?_=Mn(N,_):(_=Qi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,fl(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Fu(s):(c=_.cachePool,c!==null?(v=et._currentValue,c=c.parent!==v?{parent:v,pool:v}:c):c=Im(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Qu(e,h,s),n.memoizedState=Yu,fl(e.child,r)):(hi(n),s=e.child,e=s.sibling,s=Mn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(h=n.deletions,h===null?(n.deletions=[e],n.flags|=16):h.push(e)),n.child=s,n.memoizedState=null,s)}function Xu(e,n){return n=Jr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Jr(e,n){return e=Gt(22,e,null,n),e.lanes=0,e}function Ku(e,n,s){return es(n,e.child,null,s),e=Xu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fp(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),uu(e.return,n,s)}function Zu(e,n,s,r,c,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=s,h.tailMode=c,h.treeForkCount=u)}function Qp(e,n,s){var r=n.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var h=Ke.current,_=(h&2)!==0;if(_?(h=h&1|2,n.flags|=128):h&=1,q(Ke,h),_t(e,n,r,s),r=ve?Ja:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,s,n);else if(e.tag===19)Fp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Br(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Zu(n,!1,c,s,u,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Br(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Zu(n,!0,s,null,u,r);break;case"together":Zu(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function jn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),_i|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Gs(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=Mn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Wu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mr(e)))}function E1(e,n,s){switch(n.tag){case 3:qe(n,n.stateNode.containerInfo),ci(n,et,e.memoizedState.cache),Xi();break;case 27:case 5:Zt(n);break;case 4:qe(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Eu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(hi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Yp(e,n,s):(hi(n),e=jn(e,n,s),e!==null?e.sibling:null);hi(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Gs(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return Qp(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q(Ke,Ke.current),r)break;return null;case 22:return n.lanes=0,Hp(e,n,s,n.pendingProps);case 24:ci(n,et,e.memoizedState.cache)}return jn(e,n,s)}function Xp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)nt=!0;else{if(!Wu(e,s)&&(n.flags&128)===0)return nt=!1,E1(e,n,s);nt=(e.flags&131072)!==0}else nt=!1,ve&&(n.flags&1048576)!==0&&wm(n,Ja,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Ji(n.elementType),n.type=e,typeof e=="function")nu(e)?(r=ns(e,r),n.tag=1,n=Gp(null,n,e,r,s)):(n.tag=0,n=Pu(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===ye){n.tag=11,n=Lp(null,n,e,r,s);break e}else if(c===ne){n.tag=14,n=zp(null,n,e,r,s);break e}}throw n=cn(e)||e,Error(l(306,n,""))}}return n;case 0:return Pu(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=ns(r,n.pendingProps),Gp(e,n,r,c,s);case 3:e:{if(qe(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var u=n.memoizedState;c=u.element,_u(e,n),ll(n,r,null,s);var h=n.memoizedState;if(r=h.cache,ci(n,et,r),r!==u.cache&&fu(n,[et],s,!0),al(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Pp(e,n,r,s);break e}else if(r!==c){c=en(Error(l(424)),n),$a(c),n=Pp(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(je=ln(e.firstChild),pt=n,ve=!0,ri=null,sn=!0,s=Hm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xi(),r===c){n=jn(e,n,s);break e}_t(e,n,r,s)}n=n.child}return n;case 26:return Wr(e,n),e===null?(s=a_(n.type,null,n.pendingProps,null))?n.memoizedState=s:ve||(s=n.type,e=n.pendingProps,r=po(le.current).createElement(s),r[mt]=n,r[At]=e,yt(r,s,e),ct(r),n.stateNode=r):n.memoizedState=a_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Zt(n),e===null&&ve&&(r=n.stateNode=n_(n.type,n.pendingProps,le.current),pt=n,sn=!0,c=je,Ei(n.type)?(Of=c,je=ln(r.firstChild)):je=c),_t(e,n,n.pendingProps.children,s),Wr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ve&&((c=r=je)&&(r=J1(r,n.type,n.pendingProps,sn),r!==null?(n.stateNode=r,pt=n,je=ln(r.firstChild),sn=!1,c=!0):c=!1),c||oi(n)),Zt(n),c=n.type,u=n.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,wf(c,u)?r=null:h!==null&&wf(c,h)&&(n.flags|=32),n.memoizedState!==null&&(c=Cu(e,n,h1,null,null,s),wl._currentValue=c),Wr(e,n),_t(e,n,r,s),n.child;case 6:return e===null&&ve&&((e=s=je)&&(s=$1(s,n.pendingProps,sn),s!==null?(n.stateNode=s,pt=n,je=null,e=!0):e=!1),e||oi(n)),null;case 13:return Yp(e,n,s);case 4:return qe(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=es(n,null,r,s):_t(e,n,r,s),n.child;case 11:return Lp(e,n,n.type,n.pendingProps,s);case 7:return _t(e,n,n.pendingProps,s),n.child;case 8:return _t(e,n,n.pendingProps.children,s),n.child;case 12:return _t(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ci(n,n.type,r.value),_t(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Zi(n),c=gt(c),r=r(c),n.flags|=1,_t(e,n,r,s),n.child;case 14:return zp(e,n,n.type,n.pendingProps,s);case 15:return jp(e,n,n.type,n.pendingProps,s);case 19:return Qp(e,n,s);case 31:return S1(e,n,s);case 22:return Hp(e,n,s,n.pendingProps);case 24:return Zi(n),r=gt(et),e===null?(c=mu(),c===null&&(c=Ue,u=du(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),n.memoizedState={parent:r,cache:c},gu(n),ci(n,et,c)):((e.lanes&s)!==0&&(_u(e,n),ll(n,null,null,s),al()),c=e.memoizedState,u=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ci(n,et,r)):(r=u.cache,ci(n,et,r),r!==c.cache&&fu(n,[et],s,!0))),_t(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Hn(e){e.flags|=4}function Ju(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Sg())e.flags|=8192;else throw $i=Lr,pu}else e.flags&=-16777217}function Kp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(n))if(Sg())e.flags|=8192;else throw $i=Lr,pu}function $r(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?st():536870912,e.lanes|=n,ta|=n)}function dl(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function T1(e,n,s){var r=n.pendingProps;switch(lu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(n),null;case 1:return He(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Un(et),Ve(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vs(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ou())),He(n),null;case 26:var c=n.type,u=n.memoizedState;return e===null?(Hn(n),u!==null?(He(n),Kp(n,u)):(He(n),Ju(n,c,null,r,s))):u?u!==e.memoizedState?(Hn(n),He(n),Kp(n,u)):(He(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Hn(n),He(n),Ju(n,c,e,r,s)),null;case 27:if(An(n),s=le.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return He(n),null}e=P.current,Vs(n)?Am(n):(e=n_(c,r,s),n.stateNode=e,Hn(n))}return He(n),null;case 5:if(An(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return He(n),null}if(u=P.current,Vs(n))Am(n);else{var h=po(le.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(c,{is:r.is}):h.createElement(c)}}u[mt]=n,u[At]=r;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=u;e:switch(yt(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(n)}}return He(n),Ju(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=le.current,Vs(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=pt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[mt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Yg(e.nodeValue,s)),e||oi(n,!0)}else e=po(e).createTextNode(r),e[mt]=n,n.stateNode=e}return He(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Vs(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[mt]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),e=!1}else s=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Yt(n),n):(Yt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return He(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Vs(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[mt]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;He(n),c=!1}else c=ou(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Yt(n),n):(Yt(n),null)}return Yt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),$r(n,n.updateQueue),He(n),null);case 4:return Ve(),e===null&&Sf(n.stateNode.containerInfo),He(n),null;case 10:return Un(n.type),He(n),null;case 19:if(k(Ke),r=n.memoizedState,r===null)return He(n),null;if(c=(n.flags&128)!==0,u=r.rendering,u===null)if(c)dl(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=Br(e),u!==null){for(n.flags|=128,dl(r,!1),e=u.updateQueue,n.updateQueue=e,$r(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Tm(s,e),s=s.sibling;return q(Ke,Ke.current&1|2),ve&&In(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Nt()>so&&(n.flags|=128,c=!0,dl(r,!1),n.lanes=4194304)}else{if(!c)if(e=Br(u),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,$r(n,e),dl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ve)return He(n),null}else 2*Nt()-r.renderingStartTime>so&&s!==536870912&&(n.flags|=128,c=!0,dl(r,!1),n.lanes=4194304);r.isBackwards?(u.sibling=n.child,n.child=u):(e=r.last,e!==null?e.sibling=u:n.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,s=Ke.current,q(Ke,c?s&1|2:s&1),ve&&In(n,r.treeForkCount),e):(He(n),null);case 22:case 23:return Yt(n),Su(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(He(n),n.subtreeFlags&6&&(n.flags|=8192)):He(n),s=n.updateQueue,s!==null&&$r(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&k(Wi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Un(et),He(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function C1(e,n){switch(lu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Un(et),Ve(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return An(n),null;case 31:if(n.memoizedState!==null){if(Yt(n),n.alternate===null)throw Error(l(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Yt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Ke),null;case 4:return Ve(),null;case 10:return Un(n.type),null;case 22:case 23:return Yt(n),Su(),e!==null&&k(Wi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Un(et),null;case 25:return null;default:return null}}function Zp(e,n){switch(lu(n),n.tag){case 3:Un(et),Ve();break;case 26:case 27:case 5:An(n);break;case 4:Ve();break;case 31:n.memoizedState!==null&&Yt(n);break;case 13:Yt(n);break;case 19:k(Ke);break;case 10:Un(n.type);break;case 22:case 23:Yt(n),Su(),e!==null&&k(Wi);break;case 24:Un(et)}}function hl(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var u=s.create,h=s.inst;r=u(),h.destroy=r}s=s.next}while(s!==c)}}catch(_){Ae(n,n.return,_)}}function pi(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,c=n;var v=s,N=_;try{N()}catch(O){Ae(c,v,O)}}}r=r.next}while(r!==u)}}catch(O){Ae(n,n.return,O)}}function Wp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{qm(n,s)}catch(r){Ae(e,e.return,r)}}}function Jp(e,n,s){s.props=ns(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Ae(e,n,r)}}function ml(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){Ae(e,n,c)}}function Cn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Ae(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ae(e,n,c)}else s.current=null}function $p(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Ae(e,e.return,c)}}function $u(e,n,s){try{var r=e.stateNode;F1(r,e.type,s,n),r[At]=n}catch(c){Ae(e,e.return,c)}}function eg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ei(e.type)||e.tag===4}function ef(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tf(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Dn));else if(r!==4&&(r===27&&Ei(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(tf(e,n,s),e=e.sibling;e!==null;)tf(e,n,s),e=e.sibling}function eo(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&Ei(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(eo(e,n,s),e=e.sibling;e!==null;)eo(e,n,s),e=e.sibling}function tg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);yt(n,r,s),n[mt]=e,n[At]=s}catch(u){Ae(e,e.return,u)}}var Bn=!1,it=!1,nf=!1,ng=typeof WeakSet=="function"?WeakSet:Set,ut=null;function x1(e,n){if(e=e.containerInfo,Cf=Eo,e=mm(e),Kc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,N=0,O=0,I=e,A=null;t:for(;;){for(var R;I!==s||c!==0&&I.nodeType!==3||(_=h+c),I!==u||r!==0&&I.nodeType!==3||(v=h+r),I.nodeType===3&&(h+=I.nodeValue.length),(R=I.firstChild)!==null;)A=I,I=R;for(;;){if(I===e)break t;if(A===s&&++N===c&&(_=h),A===u&&++O===r&&(v=h),(R=I.nextSibling)!==null)break;I=A,A=I.parentNode}I=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(xf={focusedElem:e,selectionRange:s},Eo=!1,ut=n;ut!==null;)if(n=ut,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ut=e;else for(;ut!==null;){switch(n=ut,u=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=n,c=u.memoizedProps,u=u.memoizedState,r=s.stateNode;try{var Y=ns(s.type,c);e=r.getSnapshotBeforeUpdate(Y,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(Z){Ae(s,s.return,Z)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Af(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Af(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,ut=e;break}ut=n.return}}function ig(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Vn(e,s),r&4&&hl(5,s);break;case 1:if(Vn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(h){Ae(s,s.return,h)}else{var c=ns(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ae(s,s.return,h)}}r&64&&Wp(s),r&512&&ml(s,s.return);break;case 3:if(Vn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{qm(e,n)}catch(h){Ae(s,s.return,h)}}break;case 27:n===null&&r&4&&tg(s);case 26:case 5:Vn(e,s),n===null&&r&4&&$p(s),r&512&&ml(s,s.return);break;case 12:Vn(e,s);break;case 31:Vn(e,s),r&4&&lg(e,s);break;case 13:Vn(e,s),r&4&&rg(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=k1.bind(null,s),eS(e,s))));break;case 22:if(r=s.memoizedState!==null||Bn,!r){n=n!==null&&n.memoizedState!==null||it,c=Bn;var u=it;Bn=r,(it=n)&&!u?Gn(e,s,(s.subtreeFlags&8772)!==0):Vn(e,s),Bn=c,it=u}break;case 30:break;default:Vn(e,s)}}function sg(e){var n=e.alternate;n!==null&&(e.alternate=null,sg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Mc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Dt=!1;function qn(e,n,s){for(s=s.child;s!==null;)ag(e,n,s),s=s.sibling}function ag(e,n,s){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(qi,s)}catch{}switch(s.tag){case 26:it||Cn(s,n),qn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:it||Cn(s,n);var r=Ge,c=Dt;Ei(s.type)&&(Ge=s.stateNode,Dt=!1),qn(e,n,s),Tl(s.stateNode),Ge=r,Dt=c;break;case 5:it||Cn(s,n);case 6:if(r=Ge,c=Dt,Ge=null,qn(e,n,s),Ge=r,Dt=c,Ge!==null)if(Dt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(s.stateNode)}catch(u){Ae(s,n,u)}else try{Ge.removeChild(s.stateNode)}catch(u){Ae(s,n,u)}break;case 18:Ge!==null&&(Dt?(e=Ge,Wg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ca(e)):Wg(Ge,s.stateNode));break;case 4:r=Ge,c=Dt,Ge=s.stateNode.containerInfo,Dt=!0,qn(e,n,s),Ge=r,Dt=c;break;case 0:case 11:case 14:case 15:pi(2,s,n),it||pi(4,s,n),qn(e,n,s);break;case 1:it||(Cn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Jp(s,n,r)),qn(e,n,s);break;case 21:qn(e,n,s);break;case 22:it=(r=it)||s.memoizedState!==null,qn(e,n,s),it=r;break;default:qn(e,n,s)}}function lg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ca(e)}catch(s){Ae(n,n.return,s)}}}function rg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(s){Ae(n,n.return,s)}}function w1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ng),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ng),n;default:throw Error(l(435,e.tag))}}function to(e,n){var s=w1(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=U1.bind(null,e,r);r.then(c,c)}})}function Ot(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],u=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(Ei(_.type)){Ge=_.stateNode,Dt=!1;break e}break;case 5:Ge=_.stateNode,Dt=!1;break e;case 3:case 4:Ge=_.stateNode.containerInfo,Dt=!0;break e}_=_.return}if(Ge===null)throw Error(l(160));ag(u,h,c),Ge=null,Dt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)og(n,e),n=n.sibling}var fn=null;function og(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Mt(e),r&4&&(pi(3,e,e.return),hl(3,e),pi(5,e,e.return));break;case 1:Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),r&64&&Bn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=fn;if(Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),r&4){var u=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[qa]||u[mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),yt(u,r,s),u[mt]=e,ct(u),r=u;break e;case"link":var h=o_("link","href",c).get(r+(s.href||""));if(h){for(var _=0;_<h.length;_++)if(u=h[_],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){h.splice(_,1);break t}}u=c.createElement(r),yt(u,r,s),c.head.appendChild(u);break;case"meta":if(h=o_("meta","content",c).get(r+(s.content||""))){for(_=0;_<h.length;_++)if(u=h[_],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){h.splice(_,1);break t}}u=c.createElement(r),yt(u,r,s),c.head.appendChild(u);break;default:throw Error(l(468,r))}u[mt]=e,ct(u),r=u}e.stateNode=r}else c_(c,e.type,e.stateNode);else e.stateNode=r_(c,r,e.memoizedProps);else u!==r?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,r===null?c_(c,e.type,e.stateNode):r_(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&$u(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),s!==null&&r&4&&$u(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),e.flags&32){c=e.stateNode;try{Ms(c,"")}catch(Y){Ae(e,e.return,Y)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,$u(e,c,s!==null?s.memoizedProps:c)),r&1024&&(nf=!0);break;case 6:if(Ot(n,e),Mt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(Y){Ae(e,e.return,Y)}}break;case 3:if(yo=null,c=fn,fn=go(n.containerInfo),Ot(n,e),fn=c,Mt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ca(n.containerInfo)}catch(Y){Ae(e,e.return,Y)}nf&&(nf=!1,cg(e));break;case 4:r=fn,fn=go(e.stateNode.containerInfo),Ot(n,e),Mt(e),fn=r;break;case 12:Ot(n,e),Mt(e);break;case 31:Ot(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,to(e,r)));break;case 13:Ot(n,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(io=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,to(e,r)));break;case 22:c=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,N=Bn,O=it;if(Bn=N||c,it=O||v,Ot(n,e),it=O,Bn=N,Mt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||v||Bn||it||is(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(u=v.stateNode,c)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=v.stateNode;var I=v.memoizedProps.style,A=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(Y){Ae(v,v.return,Y)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(Y){Ae(v,v.return,Y)}}}else if(n.tag===18){if(s===null){v=n;try{var R=v.stateNode;c?Jg(R,!0):Jg(v.stateNode,!1)}catch(Y){Ae(v,v.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,to(e,s))));break;case 19:Ot(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,to(e,r)));break;case 30:break;case 21:break;default:Ot(n,e),Mt(e)}}function Mt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(eg(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,u=ef(e);eo(e,u,c);break;case 5:var h=s.stateNode;s.flags&32&&(Ms(h,""),s.flags&=-33);var _=ef(e);eo(e,_,h);break;case 3:case 4:var v=s.stateNode.containerInfo,N=ef(e);tf(e,N,v);break;default:throw Error(l(161))}}catch(O){Ae(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ig(e,n.alternate,n),n=n.sibling}function is(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:pi(4,n,n.return),is(n);break;case 1:Cn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jp(n,n.return,s),is(n);break;case 27:Tl(n.stateNode);case 26:case 5:Cn(n,n.return),is(n);break;case 22:n.memoizedState===null&&is(n);break;case 30:is(n);break;default:is(n)}e=e.sibling}}function Gn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,u=n,h=u.flags;switch(u.tag){case 0:case 11:case 15:Gn(c,u,s),hl(4,u);break;case 1:if(Gn(c,u,s),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Ae(r,r.return,N)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)Bm(v[c],_)}catch(N){Ae(r,r.return,N)}}s&&h&64&&Wp(u),ml(u,u.return);break;case 27:tg(u);case 26:case 5:Gn(c,u,s),s&&r===null&&h&4&&$p(u),ml(u,u.return);break;case 12:Gn(c,u,s);break;case 31:Gn(c,u,s),s&&h&4&&lg(c,u);break;case 13:Gn(c,u,s),s&&h&4&&rg(c,u);break;case 22:u.memoizedState===null&&Gn(c,u,s),ml(u,u.return);break;case 30:break;default:Gn(c,u,s)}n=n.sibling}}function sf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&el(s))}function af(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e))}function dn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ug(e,n,s,r),n=n.sibling}function ug(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n,s,r),c&2048&&hl(9,n);break;case 1:dn(e,n,s,r);break;case 3:dn(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e)));break;case 12:if(c&2048){dn(e,n,s,r),e=n.stateNode;try{var u=n.memoizedProps,h=u.id,_=u.onPostCommit;typeof _=="function"&&_(h,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Ae(n,n.return,v)}}else dn(e,n,s,r);break;case 31:dn(e,n,s,r);break;case 13:dn(e,n,s,r);break;case 23:break;case 22:u=n.stateNode,h=n.alternate,n.memoizedState!==null?u._visibility&2?dn(e,n,s,r):pl(e,n):u._visibility&2?dn(e,n,s,r):(u._visibility|=2,Js(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&sf(h,n);break;case 24:dn(e,n,s,r),c&2048&&af(n.alternate,n);break;default:dn(e,n,s,r)}}function Js(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=e,h=n,_=s,v=r,N=h.flags;switch(h.tag){case 0:case 11:case 15:Js(u,h,_,v,c),hl(8,h);break;case 23:break;case 22:var O=h.stateNode;h.memoizedState!==null?O._visibility&2?Js(u,h,_,v,c):pl(u,h):(O._visibility|=2,Js(u,h,_,v,c)),c&&N&2048&&sf(h.alternate,h);break;case 24:Js(u,h,_,v,c),c&&N&2048&&af(h.alternate,h);break;default:Js(u,h,_,v,c)}n=n.sibling}}function pl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:pl(s,r),c&2048&&sf(r.alternate,r);break;case 24:pl(s,r),c&2048&&af(r.alternate,r);break;default:pl(s,r)}n=n.sibling}}var gl=8192;function $s(e,n,s){if(e.subtreeFlags&gl)for(e=e.child;e!==null;)fg(e,n,s),e=e.sibling}function fg(e,n,s){switch(e.tag){case 26:$s(e,n,s),e.flags&gl&&e.memoizedState!==null&&dS(s,fn,e.memoizedState,e.memoizedProps);break;case 5:$s(e,n,s);break;case 3:case 4:var r=fn;fn=go(e.stateNode.containerInfo),$s(e,n,s),fn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=gl,gl=16777216,$s(e,n,s),gl=r):$s(e,n,s));break;default:$s(e,n,s)}}function dg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ut=r,mg(r,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hg(e),e=e.sibling}function hg(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&pi(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,no(e)):_l(e);break;default:_l(e)}}function no(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ut=r,mg(r,e)}dg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:pi(8,n,n.return),no(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,no(n));break;default:no(n)}e=e.sibling}}function mg(e,n){for(;ut!==null;){var s=ut;switch(s.tag){case 0:case 11:case 15:pi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:el(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ut=r;else e:for(s=e;ut!==null;){r=ut;var c=r.sibling,u=r.return;if(sg(r),r===s){ut=null;break e}if(c!==null){c.return=u,ut=c;break e}ut=u}}}var N1={getCacheForType:function(e){var n=gt(et),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return gt(et).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,de=null,pe=0,Ne=0,Ft=null,gi=!1,ea=!1,lf=!1,Pn=0,Qe=0,_i=0,ss=0,rf=0,Qt=0,ta=0,yl=null,It=null,of=!1,io=0,pg=0,so=1/0,ao=null,yi=null,at=0,vi=null,na=null,Yn=0,cf=0,uf=null,gg=null,vl=0,ff=null;function Xt(){return(Ce&2)!==0&&pe!==0?pe&-pe:D.T!==null?_f():Mh()}function _g(){if(Qt===0)if((pe&536870912)===0||ve){var e=U;U<<=1,(U&3932160)===0&&(U=262144),Qt=e}else Qt=536870912;return e=Pt.current,e!==null&&(e.flags|=32),Qt}function kt(e,n,s){(e===Ue&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(ia(e,0),bi(e,pe,Qt,!1)),qt(e,s),((Ce&2)===0||e!==Ue)&&(e===Ue&&((Ce&2)===0&&(ss|=s),Qe===4&&bi(e,pe,Qt,!1)),xn(e))}function yg(e,n,s){if((Ce&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ie(e,n),c=r?O1(e,n):hf(e,n,!0),u=r;do{if(c===0){ea&&!r&&bi(e,n,0,!1);break}else{if(s=e.current.alternate,u&&!R1(s)){c=hf(e,n,!1),u=!1;continue}if(c===2){if(u=n,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){n=h;e:{var _=e;c=yl;var v=_.current.memoizedState.isDehydrated;if(v&&(ia(_,h).flags|=256),h=hf(_,h,!1),h!==2){if(lf&&!v){_.errorRecoveryDisabledLanes|=u,ss|=u,c=4;break e}u=It,It=c,u!==null&&(It===null?It=u:It.push.apply(It,u))}c=h}if(u=!1,c!==2)continue}}if(c===1){ia(e,0),bi(e,n,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:bi(r,n,Qt,!gi);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=io+300-Nt(),10<c)){if(bi(r,n,Qt,!gi),V(r,0,!0)!==0)break e;Yn=n,r.timeoutHandle=Kg(vg.bind(null,r,s,It,ao,of,n,Qt,ss,ta,gi,u,"Throttled",-0,0),c);break e}vg(r,s,It,ao,of,n,Qt,ss,ta,gi,u,null,-0,0)}}break}while(!0);xn(e)}function vg(e,n,s,r,c,u,h,_,v,N,O,I,A,R){if(e.timeoutHandle=-1,I=n.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},fg(n,u,I);var Y=(u&62914560)===u?io-Nt():(u&4194048)===u?pg-Nt():0;if(Y=hS(I,Y),Y!==null){Yn=u,e.cancelPendingCommit=Y(Ng.bind(null,e,n,u,s,r,c,h,_,v,O,I,null,A,R)),bi(e,u,h,!N);return}}Ng(e,n,u,s,r,c,h,_,v)}function R1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],u=c.getSnapshot;c=c.value;try{if(!Vt(u(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bi(e,n,s,r){n&=~rf,n&=~ss,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var u=31-Tt(c),h=1<<u;r[u]=-1,c&=~h}s!==0&&ja(e,s,n)}function lo(){return(Ce&6)===0?(bl(0),!1):!0}function df(){if(de!==null){if(Ne===0)var e=de.return;else e=de,kn=Ki=null,Nu(e),Qs=null,nl=0,e=de;for(;e!==null;)Zp(e.alternate,e),e=e.return;de=null}}function ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,K1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yn=0,df(),Ue=e,de=s=Mn(e.current,null),pe=n,Ne=0,Ft=null,gi=!1,ea=ie(e,n),lf=!1,ta=Qt=rf=ss=_i=Qe=0,It=yl=null,of=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Tt(r),u=1<<c;n|=e[c],r&=~u}return Pn=n,Nr(),s}function bg(e,n){se=null,D.H=ul,n===Fs||n===Ur?(n=Lm(),Ne=3):n===pu?(n=Lm(),Ne=4):Ne=n===Gu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,de===null&&(Qe=1,Kr(e,en(n,e.current)))}function Sg(){var e=Pt.current;return e===null?!0:(pe&4194048)===pe?an===null:(pe&62914560)===pe||(pe&536870912)!==0?e===an:!1}function Eg(){var e=D.H;return D.H=ul,e===null?ul:e}function Tg(){var e=D.A;return D.A=N1,e}function ro(){Qe=4,gi||(pe&4194048)!==pe&&Pt.current!==null||(ea=!0),(_i&134217727)===0&&(ss&134217727)===0||Ue===null||bi(Ue,pe,Qt,!1)}function hf(e,n,s){var r=Ce;Ce|=2;var c=Eg(),u=Tg();(Ue!==e||pe!==n)&&(ao=null,ia(e,n)),n=!1;var h=Qe;e:do try{if(Ne!==0&&de!==null){var _=de,v=Ft;switch(Ne){case 8:df(),h=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(n=!0);var N=Ne;if(Ne=0,Ft=null,sa(e,_,v,N),s&&ea){h=0;break e}break;default:N=Ne,Ne=0,Ft=null,sa(e,_,v,N)}}D1(),h=Qe;break}catch(O){bg(e,O)}while(!0);return n&&e.shellSuspendCounter++,kn=Ki=null,Ce=r,D.H=c,D.A=u,de===null&&(Ue=null,pe=0,Nr()),h}function D1(){for(;de!==null;)Cg(de)}function O1(e,n){var s=Ce;Ce|=2;var r=Eg(),c=Tg();Ue!==e||pe!==n?(ao=null,so=Nt()+500,ia(e,n)):ea=ie(e,n);e:do try{if(Ne!==0&&de!==null){n=de;var u=Ft;t:switch(Ne){case 1:Ne=0,Ft=null,sa(e,n,u,1);break;case 2:case 9:if(km(u)){Ne=0,Ft=null,xg(n);break}n=function(){Ne!==2&&Ne!==9||Ue!==e||(Ne=7),xn(e)},u.then(n,n);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:km(u)?(Ne=0,Ft=null,xg(n)):(Ne=0,Ft=null,sa(e,n,u,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var _=de;if(h?u_(h):_.stateNode.complete){Ne=0,Ft=null;var v=_.sibling;if(v!==null)de=v;else{var N=_.return;N!==null?(de=N,oo(N)):de=null}break t}}Ne=0,Ft=null,sa(e,n,u,5);break;case 6:Ne=0,Ft=null,sa(e,n,u,6);break;case 8:df(),Qe=6;break e;default:throw Error(l(462))}}M1();break}catch(O){bg(e,O)}while(!0);return kn=Ki=null,D.H=r,D.A=c,Ce=s,de!==null?0:(Ue=null,pe=0,Nr(),Qe)}function M1(){for(;de!==null&&!Tc();)Cg(de)}function Cg(e){var n=Xp(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,n===null?oo(e):de=n}function xg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Vp(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=Vp(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Nu(n);default:Zp(s,n),n=de=Tm(n,Pn),n=Xp(s,n,Pn)}e.memoizedProps=e.pendingProps,n===null?oo(e):de=n}function sa(e,n,s,r){kn=Ki=null,Nu(n),Qs=null,nl=0;var c=n.return;try{if(b1(e,c,n,s,pe)){Qe=1,Kr(e,en(s,e.current)),de=null;return}}catch(u){if(c!==null)throw de=c,u;Qe=1,Kr(e,en(s,e.current)),de=null;return}n.flags&32768?(ve||r===1?e=!0:ea||(pe&536870912)!==0?e=!1:(gi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Pt.current,r!==null&&r.tag===13&&(r.flags|=16384))),wg(n,e)):oo(n)}function oo(e){var n=e;do{if((n.flags&32768)!==0){wg(n,gi);return}e=n.return;var s=T1(n.alternate,n,Pn);if(s!==null){de=s;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Qe===0&&(Qe=5)}function wg(e,n){do{var s=C1(e.alternate,e);if(s!==null){s.flags&=32767,de=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=s}while(e!==null);Qe=6,de=null}function Ng(e,n,s,r,c,u,h,_,v){e.cancelPendingCommit=null;do co();while(at!==0);if((Ce&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(u=n.lanes|n.childLanes,u|=eu,mr(e,s,u,h,_,v),e===Ue&&(de=Ue=null,pe=0),na=n,vi=e,Yn=s,cf=u,uf=c,gg=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L1(Ts,function(){return Mg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,c=B.p,B.p=2,h=Ce,Ce|=4;try{x1(e,n,s)}finally{Ce=h,B.p=c,D.T=r}}at=1,Ag(),Rg(),Dg()}}function Ag(){if(at===1){at=0;var e=vi,n=na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var r=B.p;B.p=2;var c=Ce;Ce|=4;try{og(n,e);var u=xf,h=mm(e.containerInfo),_=u.focusedElem,v=u.selectionRange;if(h!==_&&_&&_.ownerDocument&&hm(_.ownerDocument.documentElement,_)){if(v!==null&&Kc(_)){var N=v.start,O=v.end;if(O===void 0&&(O=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(O,_.value.length);else{var I=_.ownerDocument||document,A=I&&I.defaultView||window;if(A.getSelection){var R=A.getSelection(),Y=_.textContent.length,Z=Math.min(v.start,Y),Me=v.end===void 0?Z:Math.min(v.end,Y);!R.extend&&Z>Me&&(h=Me,Me=Z,Z=h);var x=dm(_,Z),T=dm(_,Me);if(x&&T&&(R.rangeCount!==1||R.anchorNode!==x.node||R.anchorOffset!==x.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var w=I.createRange();w.setStart(x.node,x.offset),R.removeAllRanges(),Z>Me?(R.addRange(w),R.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),R.addRange(w))}}}}for(I=[],R=_;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var M=I[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Eo=!!Cf,xf=Cf=null}finally{Ce=c,B.p=r,D.T=s}}e.current=n,at=2}}function Rg(){if(at===2){at=0;var e=vi,n=na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var r=B.p;B.p=2;var c=Ce;Ce|=4;try{ig(e,n.alternate,n)}finally{Ce=c,B.p=r,D.T=s}}at=3}}function Dg(){if(at===4||at===3){at=0,Cc();var e=vi,n=na,s=Yn,r=gg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?at=5:(at=0,na=vi=null,Og(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(yi=null),Ba(s),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(qi,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=D.T,c=B.p,B.p=2,D.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];u(_.value,{componentStack:_.stack})}}finally{D.T=n,B.p=c}}(Yn&3)!==0&&co(),xn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===ff?vl++:(vl=0,ff=e):vl=0,bl(0)}}function Og(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,el(n)))}function co(){return Ag(),Rg(),Dg(),Mg()}function Mg(){if(at!==5)return!1;var e=vi,n=cf;cf=0;var s=Ba(Yn),r=D.T,c=B.p;try{B.p=32>s?32:s,D.T=null,s=uf,uf=null;var u=vi,h=Yn;if(at=0,na=vi=null,Yn=0,(Ce&6)!==0)throw Error(l(331));var _=Ce;if(Ce|=4,hg(u.current),ug(u,u.current,h,s),Ce=_,bl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(qi,u)}catch{}return!0}finally{B.p=c,D.T=r,Og(e,n)}}function Ig(e,n,s){n=en(s,n),n=Vu(e.stateNode,n,2),e=di(e,n,2),e!==null&&(qt(e,2),xn(e))}function Ae(e,n,s){if(e.tag===3)Ig(e,e,s);else for(;n!==null;){if(n.tag===3){Ig(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){e=en(s,e),s=kp(2),r=di(n,s,2),r!==null&&(Up(s,r,n,e),qt(r,2),xn(r));break}}n=n.return}}function mf(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new A1;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(lf=!0,c.add(s),e=I1.bind(null,e,n,s),n.then(e,e))}function I1(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ue===e&&(pe&s)===s&&(Qe===4||Qe===3&&(pe&62914560)===pe&&300>Nt()-io?(Ce&2)===0&&ia(e,0):rf|=s,ta===pe&&(ta=0)),xn(e)}function kg(e,n){n===0&&(n=st()),e=Fi(e,n),e!==null&&(qt(e,n),xn(e))}function k1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),kg(e,s)}function U1(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),kg(e,s)}function L1(e,n){return La(e,n)}var uo=null,aa=null,pf=!1,fo=!1,gf=!1,Si=0;function xn(e){e!==aa&&e.next===null&&(aa===null?uo=aa=e:aa=aa.next=e),fo=!0,pf||(pf=!0,j1())}function bl(e,n){if(!gf&&fo){gf=!0;do for(var s=!1,r=uo;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var h=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Tt(42|e)+1)-1,u&=c&~(h&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,jg(r,u))}else u=pe,u=V(r,r===Ue?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||ie(r,u)||(s=!0,jg(r,u));r=r.next}while(s);gf=!1}}function z1(){Ug()}function Ug(){fo=pf=!1;var e=0;Si!==0&&X1()&&(e=Si);for(var n=Nt(),s=null,r=uo;r!==null;){var c=r.next,u=Lg(r,n);u===0?(r.next=null,s===null?uo=c:s.next=c,c===null&&(aa=s)):(s=r,(e!==0||(u&3)!==0)&&(fo=!0)),r=c}at!==0&&at!==5||bl(e),Si!==0&&(Si=0)}function Lg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Tt(u),_=1<<h,v=c[h];v===-1?((_&s)===0||(_&r)!==0)&&(c[h]=Se(_,n)):v<=n&&(e.expiredLanes|=_),u&=~_}if(n=Ue,s=pe,s=V(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Es(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ie(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&Es(r),Ba(s)){case 2:case 8:s=hr;break;case 32:s=Ts;break;case 268435456:s=za;break;default:s=Ts}return r=zg.bind(null,e),s=La(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&Es(r),e.callbackPriority=2,e.callbackNode=null,2}function zg(e,n){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(co()&&e.callbackNode!==s)return null;var r=pe;return r=V(e,e===Ue?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(yg(e,r,n),Lg(e,Nt()),e.callbackNode!=null&&e.callbackNode===s?zg.bind(null,e):null)}function jg(e,n){if(co())return null;yg(e,n,!0)}function j1(){Z1(function(){(Ce&6)!==0?La(dr,z1):Ug()})}function _f(){if(Si===0){var e=Ps;e===0&&(e=Cs,Cs<<=1,(Cs&261888)===0&&(Cs=256)),Si=e}return Si}function Hg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vr(""+e)}function Bg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function H1(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var u=Hg((c[At]||null).action),h=r.submitter;h&&(n=(n=h[At]||null)?Hg(n.formAction):h.getAttribute("formAction"),n!==null&&(u=n,h=null));var _=new Tr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Si!==0){var v=h?Bg(c,h):new FormData(c);Lu(s,{pending:!0,data:v,method:c.method,action:u},null,v)}}else typeof u=="function"&&(_.preventDefault(),v=h?Bg(c,h):new FormData(c),Lu(s,{pending:!0,data:v,method:c.method,action:u},u,v))},currentTarget:c}]})}}for(var yf=0;yf<$c.length;yf++){var vf=$c[yf],B1=vf.toLowerCase(),q1=vf[0].toUpperCase()+vf.slice(1);un(B1,"on"+q1)}un(_m,"onAnimationEnd"),un(ym,"onAnimationIteration"),un(vm,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(i1,"onTransitionRun"),un(s1,"onTransitionStart"),un(a1,"onTransitionCancel"),un(bm,"onTransitionEnd"),Ds("onMouseEnter",["mouseout","mouseover"]),Ds("onMouseLeave",["mouseout","mouseover"]),Ds("onPointerEnter",["pointerout","pointerover"]),Ds("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function qg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var h=r.length-1;0<=h;h--){var _=r[h],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(O){wr(O)}c.currentTarget=null,u=v}else for(h=0;h<r.length;h++){if(_=r[h],v=_.instance,N=_.currentTarget,_=_.listener,v!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(O){wr(O)}c.currentTarget=null,u=v}}}}function he(e,n){var s=n[Oc];s===void 0&&(s=n[Oc]=new Set);var r=e+"__bubble";s.has(r)||(Vg(n,e,2,!1),s.add(r))}function bf(e,n,s){var r=0;n&&(r|=4),Vg(s,e,r,n)}var ho="_reactListening"+Math.random().toString(36).slice(2);function Sf(e){if(!e[ho]){e[ho]=!0,Uh.forEach(function(s){s!=="selectionchange"&&(V1.has(s)||bf(s,!1,e),bf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ho]||(n[ho]=!0,bf("selectionchange",!1,n))}}function Vg(e,n,s,r){switch(__(n)){case 2:var c=gS;break;case 8:c=_S;break;default:c=Lf}s=c.bind(null,n,s,e),c=void 0,!Bc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Ef(e,n,s,r,c){var u=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===c)break;if(h===4)for(h=r.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;_!==null;){if(h=Ns(_),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){r=u=h;continue e}_=_.parentNode}}r=r.return}Qh(function(){var N=u,O=jc(s),I=[];e:{var A=Sm.get(e);if(A!==void 0){var R=Tr,Y=e;switch(e){case"keypress":if(Sr(s)===0)break e;case"keydown":case"keyup":R=Ub;break;case"focusin":Y="focus",R=Pc;break;case"focusout":Y="blur",R=Pc;break;case"beforeblur":case"afterblur":R=Pc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=jb;break;case _m:case ym:case vm:R=wb;break;case bm:R=Bb;break;case"scroll":case"scrollend":R=Sb;break;case"wheel":R=Vb;break;case"copy":case"cut":case"paste":R=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Jh;break;case"toggle":case"beforetoggle":R=Pb}var Z=(n&4)!==0,Me=!Z&&(e==="scroll"||e==="scrollend"),x=Z?A!==null?A+"Capture":null:A;Z=[];for(var T=N,w;T!==null;){var M=T;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||x===null||(M=Ga(T,x),M!=null&&Z.push(El(T,M,w))),Me)break;T=T.return}0<Z.length&&(A=new R(A,Y,null,s,O),I.push({event:A,listeners:Z}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&s!==zc&&(Y=s.relatedTarget||s.fromElement)&&(Ns(Y)||Y[ws]))break e;if((R||A)&&(A=O.window===O?O:(A=O.ownerDocument)?A.defaultView||A.parentWindow:window,R?(Y=s.relatedTarget||s.toElement,R=N,Y=Y?Ns(Y):null,Y!==null&&(Me=f(Y),Z=Y.tag,Y!==Me||Z!==5&&Z!==27&&Z!==6)&&(Y=null)):(R=null,Y=N),R!==Y)){if(Z=Zh,M="onMouseLeave",x="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(Z=Jh,M="onPointerLeave",x="onPointerEnter",T="pointer"),Me=R==null?A:Va(R),w=Y==null?A:Va(Y),A=new Z(M,T+"leave",R,s,O),A.target=Me,A.relatedTarget=w,M=null,Ns(O)===N&&(Z=new Z(x,T+"enter",Y,s,O),Z.target=w,Z.relatedTarget=Me,M=Z),Me=M,R&&Y)t:{for(Z=G1,x=R,T=Y,w=0,M=x;M;M=Z(M))w++;M=0;for(var Q=T;Q;Q=Z(Q))M++;for(;0<w-M;)x=Z(x),w--;for(;0<M-w;)T=Z(T),M--;for(;w--;){if(x===T||T!==null&&x===T.alternate){Z=x;break t}x=Z(x),T=Z(T)}Z=null}else Z=null;R!==null&&Gg(I,A,R,Z,!1),Y!==null&&Me!==null&&Gg(I,Me,Y,Z,!0)}}e:{if(A=N?Va(N):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var Ee=lm;else if(sm(A))if(rm)Ee=e1;else{Ee=Jb;var F=Wb}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?N&&Lc(N.elementType)&&(Ee=lm):Ee=$b;if(Ee&&(Ee=Ee(e,N))){am(I,Ee,s,O);break e}F&&F(e,A,N),e==="focusout"&&N&&A.type==="number"&&N.memoizedProps.value!=null&&Uc(A,"number",A.value)}switch(F=N?Va(N):window,e){case"focusin":(sm(F)||F.contentEditable==="true")&&(Ls=F,Zc=N,Wa=null);break;case"focusout":Wa=Zc=Ls=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,pm(I,s,O);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":pm(I,s,O)}var re;if(Fc)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Us?nm(e,s)&&(ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ge="onCompositionStart");ge&&($h&&s.locale!=="ko"&&(Us||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Us&&(re=Xh()):(ai=O,qc="value"in ai?ai.value:ai.textContent,Us=!0)),F=mo(N,ge),0<F.length&&(ge=new Wh(ge,e,null,s,O),I.push({event:ge,listeners:F}),re?ge.data=re:(re=im(s),re!==null&&(ge.data=re)))),(re=Fb?Qb(e,s):Xb(e,s))&&(ge=mo(N,"onBeforeInput"),0<ge.length&&(F=new Wh("onBeforeInput","beforeinput",null,s,O),I.push({event:F,listeners:ge}),F.data=re)),H1(I,e,N,s,O)}qg(I,n)})}function El(e,n,s){return{instance:e,listener:n,currentTarget:s}}function mo(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Ga(e,s),c!=null&&r.unshift(El(e,c,u)),c=Ga(e,n),c!=null&&r.push(El(e,c,u))),e.tag===3)return r;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gg(e,n,s,r,c){for(var u=n._reactName,h=[];s!==null&&s!==r;){var _=s,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||N===null||(v=N,c?(N=Ga(s,u),N!=null&&h.unshift(El(s,N,v))):c||(N=Ga(s,u),N!=null&&h.push(El(s,N,v)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var P1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function Pg(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(Y1,"")}function Yg(e,n){return n=Pg(n),Pg(e)===n}function Oe(e,n,s,r,c,u){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ms(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ms(e,""+r);break;case"className":_r(e,"class",r);break;case"tabIndex":_r(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,s,r);break;case"style":Yh(e,r,u);break;case"data":if(n!=="object"){_r(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=vr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&Oe(e,n,"name",c.name,c,null),Oe(e,n,"formEncType",c.formEncType,c,null),Oe(e,n,"formMethod",c.formMethod,c,null),Oe(e,n,"formTarget",c.formTarget,c,null)):(Oe(e,n,"encType",c.encType,c,null),Oe(e,n,"method",c.method,c,null),Oe(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=vr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=vr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":he("beforetoggle",e),he("toggle",e),gr(e,"popover",r);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":gr(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vb.get(s)||s,gr(e,s,r))}}function Tf(e,n,s,r,c,u){switch(s){case"style":Yh(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Ms(e,r):(typeof r=="number"||typeof r=="bigint")&&Ms(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),u=e[At]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(n,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):gr(e,s,r)}}}function yt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var h=s[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Oe(e,n,u,h,s,null)}}c&&Oe(e,n,"srcSet",s.srcSet,s,null),r&&Oe(e,n,"src",s.src,s,null);return;case"input":he("invalid",e);var _=u=h=c=null,v=null,N=null;for(r in s)if(s.hasOwnProperty(r)){var O=s[r];if(O!=null)switch(r){case"name":c=O;break;case"type":h=O;break;case"checked":v=O;break;case"defaultChecked":N=O;break;case"value":u=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:Oe(e,n,r,O,s,null)}}qh(e,u,_,v,N,h,c,!1);return;case"select":he("invalid",e),r=h=u=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:Oe(e,n,c,_,s,null)}n=u,s=h,e.multiple=!!r,n!=null?Os(e,!!r,n,!1):s!=null&&Os(e,!!r,s,!0);return;case"textarea":he("invalid",e),u=c=r=null;for(h in s)if(s.hasOwnProperty(h)&&(_=s[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Oe(e,n,h,_,s,null)}Gh(e,r,c,u);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(r=s[v],r!=null))switch(v){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Oe(e,n,v,r,s,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<Sl.length;r++)he(Sl[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Oe(e,n,N,r,s,null)}return;default:if(Lc(n)){for(O in s)s.hasOwnProperty(O)&&(r=s[O],r!==void 0&&Tf(e,n,O,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Oe(e,n,_,r,s,null))}function F1(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,h=null,_=null,v=null,N=null,O=null;for(R in s){var I=s[R];if(s.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=I;default:r.hasOwnProperty(R)||Oe(e,n,R,null,r,I)}}for(var A in r){var R=r[A];if(I=s[A],r.hasOwnProperty(A)&&(R!=null||I!=null))switch(A){case"type":u=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":O=R;break;case"value":h=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==I&&Oe(e,n,A,R,r,I)}}kc(e,h,_,v,N,O,u,c);return;case"select":R=h=_=A=null;for(u in s)if(v=s[u],s.hasOwnProperty(u)&&v!=null)switch(u){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(u)||Oe(e,n,u,null,r,v)}for(c in r)if(u=r[c],v=s[c],r.hasOwnProperty(c)&&(u!=null||v!=null))switch(c){case"value":A=u;break;case"defaultValue":_=u;break;case"multiple":h=u;default:u!==v&&Oe(e,n,c,u,r,v)}n=_,s=h,r=R,A!=null?Os(e,!!s,A,!1):!!r!=!!s&&(n!=null?Os(e,!!s,n,!0):Os(e,!!s,s?[]:"",!1));return;case"textarea":R=A=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(e,n,_,null,r,c)}for(h in r)if(c=r[h],u=s[h],r.hasOwnProperty(h)&&(c!=null||u!=null))switch(h){case"value":A=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==u&&Oe(e,n,h,c,r,u)}Vh(e,A,R);return;case"option":for(var Y in s)if(A=s[Y],s.hasOwnProperty(Y)&&A!=null&&!r.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:Oe(e,n,Y,null,r,A)}for(v in r)if(A=r[v],R=s[v],r.hasOwnProperty(v)&&A!==R&&(A!=null||R!=null))switch(v){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Oe(e,n,v,A,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in s)A=s[Z],s.hasOwnProperty(Z)&&A!=null&&!r.hasOwnProperty(Z)&&Oe(e,n,Z,null,r,A);for(N in r)if(A=r[N],R=s[N],r.hasOwnProperty(N)&&A!==R&&(A!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,n));break;default:Oe(e,n,N,A,r,R)}return;default:if(Lc(n)){for(var Me in s)A=s[Me],s.hasOwnProperty(Me)&&A!==void 0&&!r.hasOwnProperty(Me)&&Tf(e,n,Me,void 0,r,A);for(O in r)A=r[O],R=s[O],!r.hasOwnProperty(O)||A===R||A===void 0&&R===void 0||Tf(e,n,O,A,r,R);return}}for(var x in s)A=s[x],s.hasOwnProperty(x)&&A!=null&&!r.hasOwnProperty(x)&&Oe(e,n,x,null,r,A);for(I in r)A=r[I],R=s[I],!r.hasOwnProperty(I)||A===R||A==null&&R==null||Oe(e,n,I,A,r,R)}function Fg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],u=c.transferSize,h=c.initiatorType,_=c.duration;if(u&&_&&Fg(h)){for(h=0,_=c.responseEnd,r+=1;r<s.length;r++){var v=s[r],N=v.startTime;if(N>_)break;var O=v.transferSize,I=v.initiatorType;O&&Fg(I)&&(v=v.responseEnd,h+=O*(v<_?1:(_-N)/(v-N)))}if(--r,n+=8*(u+h)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cf=null,xf=null;function po(e){return e.nodeType===9?e:e.ownerDocument}function Qg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nf=null;function X1(){var e=window.event;return e&&e.type==="popstate"?e===Nf?!1:(Nf=e,!0):(Nf=null,!1)}var Kg=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,Zg=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Zg<"u"?function(e){return Zg.resolve(null).then(e).catch(W1)}:Kg;function W1(e){setTimeout(function(){throw e})}function Ei(e){return e==="head"}function Wg(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),ca(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Tl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Tl(s);for(var u=s.firstChild;u;){var h=u.nextSibling,_=u.nodeName;u[qa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=h}}else s==="body"&&Tl(e.ownerDocument.body);s=c}while(s);ca(n)}function Jg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function Af(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Af(s),Mc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function J1(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[qa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function $1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ln(e.nextSibling),e===null))return null;return e}function $g(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ln(e.nextSibling),e===null))return null;return e}function Rf(e){return e.data==="$?"||e.data==="$~"}function Df(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Of=null;function e_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function t_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function n_(e,n,s){switch(n=po(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Mc(e)}var rn=new Map,i_=new Set;function go(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=B.d;B.d={f:tS,r:nS,D:iS,C:sS,L:aS,m:lS,X:oS,S:rS,M:cS};function tS(){var e=Fn.f(),n=lo();return e||n}function nS(e){var n=As(e);n!==null&&n.tag===5&&n.type==="form"?bp(n):Fn.r(e)}var la=typeof document>"u"?null:document;function s_(e,n,s){var r=la;if(r&&typeof n=="string"&&n){var c=Jt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),i_.has(c)||(i_.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),yt(n,"link",e),ct(n),r.head.appendChild(n)))}}function iS(e){Fn.D(e),s_("dns-prefetch",e,null)}function sS(e,n){Fn.C(e,n),s_("preconnect",e,n)}function aS(e,n,s){Fn.L(e,n,s);var r=la;if(r&&e&&n){var c='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Jt(s.imageSizes)+'"]')):c+='[href="'+Jt(e)+'"]';var u=c;switch(n){case"style":u=ra(e);break;case"script":u=oa(e)}rn.has(u)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),rn.set(u,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(Cl(u))||n==="script"&&r.querySelector(xl(u))||(n=r.createElement("link"),yt(n,"link",e),ct(n),r.head.appendChild(n)))}}function lS(e,n){Fn.m(e,n);var s=la;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Jt(r)+'"][href="'+Jt(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=oa(e)}if(!rn.has(u)&&(e=b({rel:"modulepreload",href:e},n),rn.set(u,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(u)))return}r=s.createElement("link"),yt(r,"link",e),ct(r),s.head.appendChild(r)}}}function rS(e,n,s){Fn.S(e,n,s);var r=la;if(r&&e){var c=Rs(r).hoistableStyles,u=ra(e);n=n||"default";var h=c.get(u);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(Cl(u)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=rn.get(u))&&Mf(e,s);var v=h=r.createElement("link");ct(v),yt(v,"link",e),v._p=new Promise(function(N,O){v.onload=N,v.onerror=O}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,_o(h,n,r)}h={type:"stylesheet",instance:h,count:1,state:_},c.set(u,h)}}}function oS(e,n){Fn.X(e,n);var s=la;if(s&&e){var r=Rs(s).hoistableScripts,c=oa(e),u=r.get(c);u||(u=s.querySelector(xl(c)),u||(e=b({src:e,async:!0},n),(n=rn.get(c))&&If(e,n),u=s.createElement("script"),ct(u),yt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function cS(e,n){Fn.M(e,n);var s=la;if(s&&e){var r=Rs(s).hoistableScripts,c=oa(e),u=r.get(c);u||(u=s.querySelector(xl(c)),u||(e=b({src:e,async:!0,type:"module"},n),(n=rn.get(c))&&If(e,n),u=s.createElement("script"),ct(u),yt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function a_(e,n,s,r){var c=(c=le.current)?go(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ra(s.href),s=Rs(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ra(s.href);var u=Rs(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Cl(e)))&&!u._p&&(h.instance=u,h.state.loading=5),rn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},rn.set(e,s),u||uS(c,e,s,h.state))),n&&r===null)throw Error(l(528,""));return h}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=oa(s),s=Rs(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ra(e){return'href="'+Jt(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function uS(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),yt(n,"link",s),ct(n),e.head.appendChild(n))}function oa(e){return'[src="'+Jt(e)+'"]'}function xl(e){return"script[async]"+e}function r_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Jt(s.href)+'"]');if(r)return n.instance=r,ct(r),r;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ct(r),yt(r,"style",c),_o(r,s.precedence,e),n.instance=r;case"stylesheet":c=ra(s.href);var u=e.querySelector(Cl(c));if(u)return n.state.loading|=4,n.instance=u,ct(u),u;r=l_(s),(c=rn.get(c))&&Mf(r,c),u=(e.ownerDocument||e).createElement("link"),ct(u);var h=u;return h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),yt(u,"link",r),n.state.loading|=4,_o(u,s.precedence,e),n.instance=u;case"script":return u=oa(s.src),(c=e.querySelector(xl(u)))?(n.instance=c,ct(c),c):(r=s,(c=rn.get(u))&&(r=b({},s),If(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ct(c),yt(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,_o(r,s.precedence,e));return n.instance}function _o(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===n)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Mf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yo=null;function o_(e,n,s){if(yo===null){var r=new Map,c=yo=new Map;c.set(s,r)}else c=yo,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var u=s[c];if(!(u[qa]||u[mt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(n)||"";h=e+h;var _=r.get(h);_?_.push(u):r.set(h,[u])}}return r}function c_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function fS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=ra(r.href),u=n.querySelector(Cl(c));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=u,ct(u);return}u=n.ownerDocument||n,r=l_(r),(c=rn.get(c))&&Mf(r,c),u=u.createElement("link"),ct(u);var h=u;h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),yt(u,"link",r),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=vo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var kf=0;function hS(e,n){return e.stylesheets&&e.count===0&&So(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&So(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+n);0<e.imgBytes&&kf===0&&(kf=62500*Q1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&So(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>kf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function vo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)So(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bo=null;function So(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bo=new Map,n.forEach(mS,e),bo=null,vo.call(e))}function mS(e,n){if(!(n.state.loading&4)){var s=bo.get(e);if(s)var r=s.get(null);else{s=new Map,bo.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var h=c[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(s.set(h.dataset.precedence,h),r=h)}r&&s.set(null,r)}c=n.instance,h=c.getAttribute("data-precedence"),u=s.get(h)||r,u===r&&s.set(null,c),s.set(h,c),this.count++,r=vo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var wl={$$typeof:Re,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function pS(e,n,s,r,c,u,h,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function f_(e,n,s,r,c,u,h,_,v,N,O,I){return e=new pS(e,n,s,h,v,N,O,I,_),n=1,u===!0&&(n|=24),u=Gt(3,null,null,n),e.current=u,u.stateNode=e,n=du(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:s,cache:n},gu(u),e}function d_(e){return e?(e=Hs,e):Hs}function h_(e,n,s,r,c,u){c=d_(c),r.context===null?r.context=c:r.pendingContext=c,r=fi(n),r.payload={element:s},u=u===void 0?null:u,u!==null&&(r.callback=u),s=di(e,r,n),s!==null&&(kt(s,e,n),sl(s,e,n))}function m_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Uf(e,n){m_(e,n),(e=e.alternate)&&m_(e,n)}function p_(e){if(e.tag===13||e.tag===31){var n=Fi(e,67108864);n!==null&&kt(n,e,67108864),Uf(e,67108864)}}function g_(e){if(e.tag===13||e.tag===31){var n=Xt();n=Ha(n);var s=Fi(e,n);s!==null&&kt(s,e,n),Uf(e,n)}}var Eo=!0;function gS(e,n,s,r){var c=D.T;D.T=null;var u=B.p;try{B.p=2,Lf(e,n,s,r)}finally{B.p=u,D.T=c}}function _S(e,n,s,r){var c=D.T;D.T=null;var u=B.p;try{B.p=8,Lf(e,n,s,r)}finally{B.p=u,D.T=c}}function Lf(e,n,s,r){if(Eo){var c=zf(r);if(c===null)Ef(e,n,r,To,s),y_(e,r);else if(vS(c,e,n,s,r))r.stopPropagation();else if(y_(e,r),n&4&&-1<yS.indexOf(e)){for(;c!==null;){var u=As(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=G(u.pendingLanes);if(h!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var v=1<<31-Tt(h);_.entanglements[1]|=v,h&=~v}xn(u),(Ce&6)===0&&(so=Nt()+500,bl(0))}}break;case 31:case 13:_=Fi(u,2),_!==null&&kt(_,u,2),lo(),Uf(u,2)}if(u=zf(r),u===null&&Ef(e,n,r,To,s),u===c)break;c=u}c!==null&&r.stopPropagation()}else Ef(e,n,r,null,s)}}function zf(e){return e=jc(e),jf(e)}var To=null;function jf(e){if(To=null,e=Ns(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return To=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case dr:return 2;case hr:return 8;case Ts:case xc:return 32;case za:return 268435456;default:return 32}default:return 32}}var Hf=!1,Ti=null,Ci=null,xi=null,Nl=new Map,Al=new Map,wi=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y_(e,n){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Rl(e,n,s,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},n!==null&&(n=As(n),n!==null&&p_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function vS(e,n,s,r,c){switch(n){case"focusin":return Ti=Rl(Ti,e,n,s,r,c),!0;case"dragenter":return Ci=Rl(Ci,e,n,s,r,c),!0;case"mouseover":return xi=Rl(xi,e,n,s,r,c),!0;case"pointerover":var u=c.pointerId;return Nl.set(u,Rl(Nl.get(u)||null,e,n,s,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Al.set(u,Rl(Al.get(u)||null,e,n,s,r,c)),!0}return!1}function v_(e){var n=Ns(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ih(e.priority,function(){g_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,Ih(e.priority,function(){g_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Co(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);zc=r,s.target.dispatchEvent(r),zc=null}else return n=As(s),n!==null&&p_(n),e.blockedOn=s,!1;n.shift()}return!0}function b_(e,n,s){Co(e)&&s.delete(n)}function bS(){Hf=!1,Ti!==null&&Co(Ti)&&(Ti=null),Ci!==null&&Co(Ci)&&(Ci=null),xi!==null&&Co(xi)&&(xi=null),Nl.forEach(b_),Al.forEach(b_)}function xo(e,n){e.blockedOn===n&&(e.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bS)))}var wo=null;function S_(e){wo!==e&&(wo=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){wo===e&&(wo=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(jf(r||s)===null)continue;break}var u=As(s);u!==null&&(e.splice(n,3),n-=3,Lu(u,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ca(e){function n(v){return xo(v,e)}Ti!==null&&xo(Ti,e),Ci!==null&&xo(Ci,e),xi!==null&&xo(xi,e),Nl.forEach(n),Al.forEach(n);for(var s=0;s<wi.length;s++){var r=wi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wi.length&&(s=wi[0],s.blockedOn===null);)v_(s),s.blockedOn===null&&wi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],u=s[r+1],h=c[At]||null;if(typeof u=="function")h||S_(s);else if(h){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,h=u[At]||null)_=h.formAction;else if(jf(c)!==null)continue}else _=h.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),S_(s)}}}function E_(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Bf(e){this._internalRoot=e}No.prototype.render=Bf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Xt();h_(s,r,e,n,null,null)},No.prototype.unmount=Bf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;h_(e.current,2,null,e,null,null),lo(),n[ws]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var n=Mh();e={blockedOn:null,target:e,priority:n};for(var s=0;s<wi.length&&n!==0&&n<wi[s].priority;s++);wi.splice(s,0,e),s===0&&v_(e)}};var T_=t.version;if(T_!=="19.2.0")throw Error(l(527,T_,"19.2.0"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var SS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{qi=Ao.inject(SS),Et=Ao}catch{}}return Ol.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=Dp,u=Op,h=Mp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=f_(e,1,!1,null,null,s,r,null,c,u,h,E_),e[ws]=n.current,Sf(e),new Bf(n)},Ol.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",u=Dp,h=Op,_=Mp,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=f_(e,1,!0,n,s??null,r,c,v,u,h,_,E_),n.context=d_(null),s=n.current,r=Xt(),r=Ha(r),c=fi(r),c.callback=null,di(s,c,r),s=r,n.current.lanes=s,qt(n,s),xn(n),e[ws]=n.current,Sf(e),new No(n)},Ol.version="19.2.0",Ol}var I_;function MS(){if(I_)return Gf.exports;I_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Gf.exports=OS(),Gf.exports}var IS=MS();const kS=()=>{};var k_={};const t0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const j=function(a,t){if(!a)throw Ca(t)},Ca=function(a){return new Error("Firebase Database ("+t0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const n0=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},US=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],m=a[i++],g=((o&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const f=a[i++],d=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return t.join("")},Ud={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,m=d?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,S=f>>2,b=(f&3)<<4|m>>4;let E=(m&15)<<2|p>>6,z=p&63;g||(z=64,d||(E=64)),l.push(i[S],i[b],i[E],i[z])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(n0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):US(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||p==null||b==null)throw new LS;const E=f<<2|m>>4;if(l.push(E),p!==64){const z=m<<4&240|p>>2;if(l.push(z),b!==64){const L=p<<6&192|b;l.push(L)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i0=function(a){const t=n0(a);return Ud.encodeByteArray(t,!0)},Ho=function(a){return i0(a).replace(/\./g,"")},Bo=function(a){try{return Ud.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function zS(a){return s0(void 0,a)}function s0(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!jS(i)||(a[i]=s0(a[i],t[i]));return a}function jS(a){return a!=="__proto__"}function HS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const BS=()=>HS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof k_>"u")return;const a=k_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},VS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Bo(a[1]);return t&&JSON.parse(t)},Ld=()=>{try{return kS()||BS()||qS()||VS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},a0=a=>Ld()?.emulatorHosts?.[a],GS=a=>{const t=a0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},l0=()=>Ld()?.config,r0=a=>Ld()?.[`_${a}`];class cc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function xa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o0(a){return(await fetch(a,{credentials:"include"})).ok}function PS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ho(JSON.stringify(i)),Ho(JSON.stringify(d)),""].join(".")}const Hl={};function YS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Hl))Hl[t]?a.emulator.push(t):a.prod.push(t);return a}function FS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let U_=!1;function c0(a,t){if(typeof window>"u"||typeof document>"u"||!xa(window.location.host)||Hl[a]===t||Hl[a]||U_)return;Hl[a]=t;function i(E){return`__firebase__banner__${E}`}const l="__firebase__banner",f=YS().prod.length>0;function d(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,z){E.setAttribute("width","24"),E.setAttribute("id",z),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{U_=!0,d()},E}function S(E,z){E.setAttribute("id",z),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=FS(l),z=i("text"),L=document.getElementById(z)||document.createElement("span"),K=i("learnmore"),fe=document.getElementById(K)||document.createElement("a"),_e=i("preprendIcon"),ae=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Re=E.element;m(Re),S(fe,K);const ye=p();g(ae,_e),Re.append(ae,L,fe,ye),document.body.appendChild(Re)}f?(L.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const a=wt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function ZS(){return t0.NODE_ADMIN===!0}function WS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const $S="FirebaseError";class ji extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=$S,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}}class nr{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],d=f?eE(f,l):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new ji(o,m,l)}}function eE(a,t){return a.replace(tE,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const tE=/\{\$([^}]+)}/g;function Fl(a){return JSON.parse(a)}function ht(a){return JSON.stringify(a)}const f0=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=Fl(Bo(f[0])||""),i=Fl(Bo(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},nE=function(a){const t=f0(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},iE=function(a){const t=f0(a).claims;return typeof t=="object"&&t.admin===!0};function ii(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function ya(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function cd(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function qo(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function hs(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],d=t[o];if(L_(f)&&L_(d)){if(!hs(f,d))return!1}else if(f!==d)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function L_(a){return a!==null&&typeof a=="object"}function wa(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class sE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)l[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)l[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const E=l[b-3]^l[b-8]^l[b-14]^l[b-16];l[b]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,S;for(let b=0;b<80;b++){b<40?b<20?(p=m^f&(d^m),S=1518500249):(p=f^d^m,S=1859775393):b<60?(p=f&d|m&(f|d),S=2400959708):(p=f^d^m,S=3395469782);const E=(o<<5|o>>>27)+p+g+S+l[b]&4294967295;g=m,m=d,d=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}else for(;o<i;)if(f[d]=t[o],++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function aE(a,t){const i=new lE(a,t);return i.subscribe.bind(i)}class lE{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");rE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Qf),o.error===void 0&&(o.error=Qf),o.complete===void 0&&(o.complete=Qf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rE(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Qf(){}function jd(a,t){return`${a} failed: ${t} argument `}const oE=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,j(l<a.length,"Surrogate pair missing trail surrogate.");const d=a.charCodeAt(l)-56320;o=65536+(f<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},uc=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function Ht(a){return a&&a._delegate?a._delegate:a}class ms{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const rs="[DEFAULT]";class cE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new cc;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fE(t))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rs){return this.instances.has(t)}getOptions(t=rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&d.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:uE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=rs){return this.component?this.component.multipleInstances?t:rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uE(a){return a===rs?void 0:a}function fE(a){return a.instantiationMode==="EAGER"}class dE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ie;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ie||(Ie={}));const hE={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},mE=Ie.INFO,pE={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},gE=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=pE[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Hd{constructor(t){this.name=t,this._logLevel=mE,this._logHandler=gE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const _E=(a,t)=>t.some(i=>a instanceof i);let z_,j_;function yE(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vE(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d0=new WeakMap,ud=new WeakMap,h0=new WeakMap,Xf=new WeakMap,Bd=new WeakMap;function bE(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(Mi(a.result)),o()},d=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&d0.set(i,a)}).catch(()=>{}),Bd.set(t,a),t}function SE(a){if(ud.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});ud.set(a,t)}let fd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return ud.get(a);if(t==="objectStoreNames")return a.objectStoreNames||h0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function EE(a){fd=a(fd)}function TE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Kf(this),t,...i);return h0.set(l,t.sort?t.sort():[t]),Mi(l)}:vE().includes(a)?function(...t){return a.apply(Kf(this),t),Mi(d0.get(this))}:function(...t){return Mi(a.apply(Kf(this),t))}}function CE(a){return typeof a=="function"?TE(a):(a instanceof IDBTransaction&&SE(a),_E(a,yE())?new Proxy(a,fd):a)}function Mi(a){if(a instanceof IDBRequest)return bE(a);if(Xf.has(a))return Xf.get(a);const t=CE(a);return t!==a&&(Xf.set(a,t),Bd.set(t,a)),t}const Kf=a=>Bd.get(a);function xE(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const d=indexedDB.open(a,t),m=Mi(d);return l&&d.addEventListener("upgradeneeded",g=>{l(Mi(d.result),g.oldVersion,g.newVersion,Mi(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const wE=["get","getKey","getAll","getAllKeys","count"],NE=["put","add","delete","clear"],Zf=new Map;function H_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Zf.get(t))return Zf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=NE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||wE.includes(i)))return;const f=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return Zf.set(t,f),f}EE(a=>({...a,get:(t,i,l)=>H_(t,i)||a.get(t,i,l),has:(t,i)=>!!H_(t,i)||a.has(t,i)}));class AE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RE(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function RE(a){return a.getComponent()?.type==="VERSION"}const dd="@firebase/app",B_="0.14.6";const $n=new Hd("@firebase/app"),DE="@firebase/app-compat",OE="@firebase/analytics-compat",ME="@firebase/analytics",IE="@firebase/app-check-compat",kE="@firebase/app-check",UE="@firebase/auth",LE="@firebase/auth-compat",zE="@firebase/database",jE="@firebase/data-connect",HE="@firebase/database-compat",BE="@firebase/functions",qE="@firebase/functions-compat",VE="@firebase/installations",GE="@firebase/installations-compat",PE="@firebase/messaging",YE="@firebase/messaging-compat",FE="@firebase/performance",QE="@firebase/performance-compat",XE="@firebase/remote-config",KE="@firebase/remote-config-compat",ZE="@firebase/storage",WE="@firebase/storage-compat",JE="@firebase/firestore",$E="@firebase/ai",eT="@firebase/firestore-compat",tT="firebase",nT="12.6.0";const hd="[DEFAULT]",iT={[dd]:"fire-core",[DE]:"fire-core-compat",[ME]:"fire-analytics",[OE]:"fire-analytics-compat",[kE]:"fire-app-check",[IE]:"fire-app-check-compat",[UE]:"fire-auth",[LE]:"fire-auth-compat",[zE]:"fire-rtdb",[jE]:"fire-data-connect",[HE]:"fire-rtdb-compat",[BE]:"fire-fn",[qE]:"fire-fn-compat",[VE]:"fire-iid",[GE]:"fire-iid-compat",[PE]:"fire-fcm",[YE]:"fire-fcm-compat",[FE]:"fire-perf",[QE]:"fire-perf-compat",[XE]:"fire-rc",[KE]:"fire-rc-compat",[ZE]:"fire-gcs",[WE]:"fire-gcs-compat",[JE]:"fire-fst",[eT]:"fire-fst-compat",[$E]:"fire-vertex","fire-js":"fire-js",[tT]:"fire-js-all"};const Vo=new Map,sT=new Map,md=new Map;function q_(a,t){try{a.container.addComponent(t)}catch(i){$n.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function va(a){const t=a.name;if(md.has(t))return $n.debug(`There were multiple attempts to register component ${t}.`),!1;md.set(t,a);for(const i of Vo.values())q_(i,a);for(const i of sT.values())q_(i,a);return!0}function qd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function hn(a){return a==null?!1:a.settings!==void 0}const aT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new nr("app","Firebase",aT);class lT{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const Na=nT;function m0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:hd,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(i||(i=l0()),!i)throw Ii.create("no-options");const f=Vo.get(o);if(f){if(hs(i,f.options)&&hs(l,f.config))return f;throw Ii.create("duplicate-app",{appName:o})}const d=new dE(o);for(const g of md.values())d.addComponent(g);const m=new lT(i,l,d);return Vo.set(o,m),m}function p0(a=hd){const t=Vo.get(a);if(!t&&a===hd&&l0())return m0();if(!t)throw Ii.create("no-app",{appName:a});return t}function ki(a,t,i){let l=iT[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const d=[`Unable to register library "${l}" with version "${t}":`];o&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}va(new ms(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const rT="firebase-heartbeat-database",oT=1,Ql="firebase-heartbeat-store";let Wf=null;function g0(){return Wf||(Wf=xE(rT,oT,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ii.create("idb-open",{originalErrorMessage:a.message})})),Wf}async function cT(a){try{const i=(await g0()).transaction(Ql),l=await i.objectStore(Ql).get(_0(a));return await i.done,l}catch(t){if(t instanceof ji)$n.warn(t.message);else{const i=Ii.create("idb-get",{originalErrorMessage:t?.message});$n.warn(i.message)}}}async function V_(a,t){try{const l=(await g0()).transaction(Ql,"readwrite");await l.objectStore(Ql).put(t,_0(a)),await l.done}catch(i){if(i instanceof ji)$n.warn(i.message);else{const l=Ii.create("idb-set",{originalErrorMessage:i?.message});$n.warn(l.message)}}}function _0(a){return`${a.name}!${a.options.appId}`}const uT=1024,fT=30;class dT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mT(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>fT){const o=pT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$n.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:l}=hT(this._heartbeatsCache.heartbeats),o=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $n.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function hT(a,t=uT){const i=[];let l=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),P_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),P_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class mT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function P_(a){return Ho(JSON.stringify({version:2,heartbeats:a})).length}function pT(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function gT(a){va(new ms("platform-logger",t=>new AE(t),"PRIVATE")),va(new ms("heartbeat",t=>new dT(t),"PRIVATE")),ki(dd,B_,a),ki(dd,B_,"esm2020"),ki("fire-js","")}gT("");var _T="firebase",yT="12.6.0";ki(_T,yT,"app");function y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vT=y0,v0=new nr("auth","Firebase",y0());const Go=new Hd("@firebase/auth");function bT(a,...t){Go.logLevel<=Ie.WARN&&Go.warn(`Auth (${Na}): ${a}`,...t)}function Io(a,...t){Go.logLevel<=Ie.ERROR&&Go.error(`Auth (${Na}): ${a}`,...t)}function Nn(a,...t){throw Gd(a,...t)}function yn(a,...t){return Gd(a,...t)}function Vd(a,t,i){const l={...vT(),[t]:i};return new nr("auth","Firebase",l).create(t,{appName:a.name})}function ds(a){return Vd(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ST(a,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&Nn(a,"argument-error"),Vd(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Gd(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return v0.create(a,...t)}function $(a,t,...i){if(!a)throw Gd(t,...i)}function Kn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Io(t),new Error(t)}function ei(a,t){a||Kn(t)}function pd(){return typeof self<"u"&&self.location?.href||""}function ET(){return Y_()==="http:"||Y_()==="https:"}function Y_(){return typeof self<"u"&&self.location?.protocol||null}function TT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ET()||XS()||"connection"in navigator)?navigator.onLine:!0}function CT(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class ir{constructor(t,i){this.shortDelay=t,this.longDelay=i,ei(i>t,"Short delay should be less than long delay!"),this.isMobile=zd()||u0()}get(){return TT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pd(a,t){ei(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class b0{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NT=new ir(3e4,6e4);function Yd(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Aa(a,t,i,l,o={}){return S0(a,o,async()=>{let f={},d={};l&&(t==="GET"?d=l:f={body:JSON.stringify(l)});const m=wa({key:a.config.apiKey,...d}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...f};return QS()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&xa(a.emulatorConfig.host)&&(p.credentials="include"),b0.fetch()(await E0(a,a.config.apiHost,i,m),p)})}async function S0(a,t,i){a._canInitEmulator=!1;const l={...xT,...t};try{const o=new RT(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await f.json();if("needConfirmation"in d)throw Ro(a,"account-exists-with-different-credential",d);if(f.ok&&!("errorMessage"in d))return d;{const m=f.ok?d.errorMessage:d.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ro(a,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Ro(a,"email-already-in-use",d);if(g==="USER_DISABLED")throw Ro(a,"user-disabled",d);const S=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Vd(a,S,p);Nn(a,S)}}catch(o){if(o instanceof ji)throw o;Nn(a,"network-request-failed",{message:String(o)})}}async function AT(a,t,i,l,o={}){const f=await Aa(a,t,i,l,o);return"mfaPendingCredential"in f&&Nn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function E0(a,t,i,l){const o=`${t}${i}?${l}`,f=a,d=f.config.emulator?Pd(a.config,o):`${a.config.apiScheme}://${o}`;return wT.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(d).toString():d}class RT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(yn(this.auth,"network-request-failed")),NT.get())})}}function Ro(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=yn(a,t,l);return o.customData._tokenResponse=i,o}async function DT(a,t){return Aa(a,"POST","/v1/accounts:delete",t)}async function Po(a,t){return Aa(a,"POST","/v1/accounts:lookup",t)}function Bl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OT(a,t=!1){const i=Ht(a),l=await i.getIdToken(t),o=Fd(l);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,d=f?.sign_in_provider;return{claims:o,token:l,authTime:Bl(Jf(o.auth_time)),issuedAtTime:Bl(Jf(o.iat)),expirationTime:Bl(Jf(o.exp)),signInProvider:d||null,signInSecondFactor:f?.sign_in_second_factor||null}}function Jf(a){return Number(a)*1e3}function Fd(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return Io("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bo(i);return o?JSON.parse(o):(Io("Failed to decode base64 JWT payload"),null)}catch(o){return Io("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F_(a){const t=Fd(a);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Xl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof ji&&MT(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function MT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class IT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yo(a){const t=a.auth,i=await a.getIdToken(),l=await Xl(a,Po(t,{idToken:i}));$(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?T0(o.providerUserInfo):[],d=UT(a.providerData,f),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!d?.length,p=m?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new gd(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,S)}async function kT(a){const t=Ht(a);await Yo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UT(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function T0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LT(a,t){const i=await S0(a,{},async()=>{const l=wa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,d=await E0(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return a.emulatorConfig&&xa(a.emulatorConfig.host)&&(g.credentials="include"),b0.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zT(a,t){return Aa(a,"POST","/v2/accounts:revokeToken",Yd(a,t))}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):F_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=F_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await LT(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,d=new da;return l&&($(typeof l=="string","internal-error",{appName:t}),d.refreshToken=l),o&&($(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),f&&($(typeof f=="number","internal-error",{appName:t}),d.expirationTime=f),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Kn("not implemented")}}function Ai(a,t){$(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class pn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new IT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Xl(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OT(this,t)}reload(){return kT(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new pn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Yo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await Xl(this,DT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,d=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:z,providerData:L,stsTokenManager:K}=i;$(b&&K,t,"internal-error");const fe=da.fromJSON(this.name,K);$(typeof b=="string",t,"internal-error"),Ai(l,t.name),Ai(o,t.name),$(typeof E=="boolean",t,"internal-error"),$(typeof z=="boolean",t,"internal-error"),Ai(f,t.name),Ai(d,t.name),Ai(m,t.name),Ai(g,t.name),Ai(p,t.name),Ai(S,t.name);const _e=new pn({uid:b,auth:t,email:o,emailVerified:E,displayName:l,isAnonymous:z,photoURL:d,phoneNumber:f,tenantId:m,stsTokenManager:fe,createdAt:p,lastLoginAt:S});return L&&Array.isArray(L)&&(_e.providerData=L.map(ae=>({...ae}))),g&&(_e._redirectEventId=g),_e}static async _fromIdTokenResponse(t,i,l=!1){const o=new da;o.updateFromServerResponse(i);const f=new pn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Yo(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];$(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?T0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!f?.length,m=new da;m.updateFromIdToken(l);const g=new pn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(g,p),g}}const Q_=new Map;function Zn(a){ei(a instanceof Function,"Expected a class definition");let t=Q_.get(a);return t?(ei(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Q_.set(a,t),t)}class C0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}C0.type="NONE";const X_=C0;function ko(a,t,i){return`firebase:${a}:${t}:${i}`}class ha{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=ko(this.userKey,o.apiKey,f),this.fullPersistenceKey=ko("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Po(this.auth,{idToken:t}).catch(()=>{});return i?pn._fromGetAccountInfoResponse(this.auth,i,t):null}return pn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ha(Zn(X_),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let f=o[0]||Zn(X_);const d=ko(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const S=await p._get(d);if(S){let b;if(typeof S=="string"){const E=await Po(t,{idToken:S}).catch(()=>{});if(!E)break;b=await pn._fromGetAccountInfoResponse(t,E,S)}else b=pn._fromJSON(t,S);p!==f&&(m=b),f=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!f._shouldAllowMigration||!g.length?new ha(f,t,l):(f=g[0],m&&await f._set(d,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==f)try{await p._remove(d)}catch{}})),new ha(f,t,l))}}function K_(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(A0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(D0(t))return"Blackberry";if(O0(t))return"Webos";if(w0(t))return"Safari";if((t.includes("chrome/")||N0(t))&&!t.includes("edge/"))return"Chrome";if(R0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function x0(a=wt()){return/firefox\//i.test(a)}function w0(a=wt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function N0(a=wt()){return/crios\//i.test(a)}function A0(a=wt()){return/iemobile/i.test(a)}function R0(a=wt()){return/android/i.test(a)}function D0(a=wt()){return/blackberry/i.test(a)}function O0(a=wt()){return/webos/i.test(a)}function Qd(a=wt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function jT(a=wt()){return Qd(a)&&!!window.navigator?.standalone}function HT(){return KS()&&document.documentMode===10}function M0(a=wt()){return Qd(a)||R0(a)||O0(a)||D0(a)||/windows phone/i.test(a)||A0(a)}function I0(a,t=[]){let i;switch(a){case"Browser":i=K_(wt());break;case"Worker":i=`${K_(wt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Na}/${l}`}class BT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((d,m)=>{try{const g=t(f);d(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function qT(a,t={}){return Aa(a,"GET","/v2/passwordPolicy",Yd(a,t))}const VT=6;class GT{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class PT{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z_(this),this.idTokenSubscription=new Z_(this),this.beforeStateQueue=new BT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Po(this,{idToken:t}),l=await pn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,d=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===d)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hn(this.app))return Promise.reject(ds(this));const i=t?Ht(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qT(this),i=new GT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nr("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await zT(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zn(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[Zn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if($(m,this,"internal-error"),m.then(()=>{d||f(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function fc(a){return Ht(a)}class Z_{constructor(t){this.auth=t,this.observer=null,this.addObserver=aE(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YT(a){Xd=a}function FT(a){return Xd.loadJS(a)}function QT(){return Xd.gapiScript}function XT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function KT(a,t){const i=qd(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(hs(f,t??{}))return o;Nn(o,"already-initialized")}return i.initialize({options:t})}function ZT(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Zn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function WT(a,t,i){const l=fc(a);$(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=k0(t),{host:d,port:m}=JT(t),g=m===null?"":`:${m}`,p={url:`${f}//${d}${g}/`},S=Object.freeze({host:d,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){$(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),$(hs(p,l.config.emulator)&&hs(S,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=S,l.settings.appVerificationDisabledForTesting=!0,xa(d)?(o0(`${f}//${d}${g}`),c0("Auth",!0)):$T()}function k0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function JT(a){const t=k0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:W_(l.substr(f.length+1))}}else{const[f,d]=l.split(":");return{host:f,port:W_(d)}}}function W_(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function $T(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class U0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Kn("not implemented")}_getIdTokenResponse(t){return Kn("not implemented")}_linkToIdToken(t,i){return Kn("not implemented")}_getReauthenticationResolver(t){return Kn("not implemented")}}async function ma(a,t){return AT(a,"POST","/v1/accounts:signInWithIdp",Yd(a,t))}const eC="http://localhost";class ps extends U0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Nn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const d=new ps(l,o);return d.idToken=f.idToken||void 0,d.accessToken=f.accessToken||void 0,d.secret=f.secret,d.nonce=f.nonce,d.pendingToken=f.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ma(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ma(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ma(t,i)}buildRequest(){const t={requestUri:eC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=wa(i)}return t}}class Kd{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class sr extends Kd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ri extends sr{constructor(){super("facebook.com")}static credential(t){return ps._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";class Qn extends sr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ps._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qn.credentialFromTaggedObject(t)}static credentialFromError(t){return Qn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Qn.credential(i,l)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";class Di extends sr{constructor(){super("github.com")}static credential(t){return ps._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";class Oi extends sr{constructor(){super("twitter.com")}static credential(t,i){return ps._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Oi.credential(i,l)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";class ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await pn._fromIdTokenResponse(t,l,o),d=J_(l);return new ba({user:f,providerId:d,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=J_(l);return new ba({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function J_(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Fo extends ji{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Fo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Fo(t,i,l,o)}}function L0(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Fo._fromErrorAndOperation(a,f,t,l):f})}async function tC(a,t,i=!1){const l=await Xl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ba._forOperation(a,"link",l)}async function nC(a,t,i=!1){const{auth:l}=a;if(hn(l.app))return Promise.reject(ds(l));const o="reauthenticate";try{const f=await Xl(a,L0(l,o,t,a),i);$(f.idToken,l,"internal-error");const d=Fd(f.idToken);$(d,l,"internal-error");const{sub:m}=d;return $(a.uid===m,l,"user-mismatch"),ba._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&Nn(l,"user-mismatch"),f}}async function iC(a,t,i=!1){if(hn(a.app))return Promise.reject(ds(a));const l="signIn",o=await L0(a,l,t),f=await ba._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function sC(a,t,i,l){return Ht(a).onIdTokenChanged(t,i,l)}function aC(a,t,i){return Ht(a).beforeAuthStateChanged(t,i)}function lC(a,t,i,l){return Ht(a).onAuthStateChanged(t,i,l)}function rC(a){return Ht(a).signOut()}const Qo="__sak";class z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Qo,"1"),this.storage.removeItem(Qo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oC=1e3,cC=10;class j0 extends z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(l);!i&&this.localCache[l]===d||this.notifyListeners(l,d)},f=this.storage.getItem(l);HT()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,cC):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}j0.type="LOCAL";const uC=j0;class H0 extends z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}H0.type="SESSION";const B0=H0;function fC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new dc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(d).map(async p=>p(i.origin,f)),g=await fC(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dc.receivers=[];function Zd(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class dC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,d;return new Promise((m,g)=>{const p=Zd("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},l);d={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(S),f=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(E.data.response);break;default:clearTimeout(S),clearTimeout(f),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wn(){return window}function hC(a){wn().location.href=a}function q0(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function mC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){return navigator?.serviceWorker?.controller||null}function gC(){return q0()?self:null}const V0="firebaseLocalStorageDb",_C=1,Xo="firebaseLocalStorage",G0="fbase_key";class ar{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hc(a,t){return a.transaction([Xo],t?"readwrite":"readonly").objectStore(Xo)}function yC(){const a=indexedDB.deleteDatabase(V0);return new ar(a).toPromise()}function _d(){const a=indexedDB.open(V0,_C);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Xo,{keyPath:G0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Xo)?t(l):(l.close(),await yC(),t(await _d()))})})}async function $_(a,t,i){const l=hc(a,!0).put({[G0]:t,value:i});return new ar(l).toPromise()}async function vC(a,t){const i=hc(a,!1).get(t),l=await new ar(i).toPromise();return l===void 0?null:l.value}function ey(a,t){const i=hc(a,!0).delete(t);return new ar(i).toPromise()}const bC=800,SC=3;class P0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>SC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dc._getInstance(gC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _d();return await $_(t,Qo,"1"),await ey(t,Qo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>$_(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>vC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ey(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=hc(o,!1).getAll();return new ar(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}P0.type="LOCAL";const EC=P0;new ir(3e4,6e4);function Y0(a,t){return t?Zn(t):($(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Wd extends U0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ma(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ma(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ma(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function TC(a){return iC(a.auth,new Wd(a),a.bypassAuthState)}function CC(a){const{auth:t,user:i}=a;return $(i,t,"internal-error"),nC(i,new Wd(a),a.bypassAuthState)}async function xC(a){const{auth:t,user:i}=a;return $(i,t,"internal-error"),tC(i,new Wd(a),a.bypassAuthState)}class F0{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:d,type:m}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TC;case"linkViaPopup":case"linkViaRedirect":return xC;case"reauthViaPopup":case"reauthViaRedirect":return CC;default:Nn(this.auth,"internal-error")}}resolve(t){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wC=new ir(2e3,1e4);async function NC(a,t,i){if(hn(a.app))return Promise.reject(yn(a,"operation-not-supported-in-this-environment"));const l=fc(a);ST(a,t,Kd);const o=Y0(l,i);return new cs(l,"signInViaPopup",t,o).executeNotNull()}class cs extends F0{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const t=Zd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wC.get())};t()}}cs.currentPopupAction=null;const AC="pendingRedirect",Uo=new Map;class RC extends F0{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Uo.get(this.auth._key());if(!t){try{const l=await DC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Uo.set(this.auth._key(),t)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(a,t){const i=IC(t),l=MC(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function OC(a,t){Uo.set(a._key(),t)}function MC(a){return Zn(a._redirectPersistence)}function IC(a){return ko(AC,a.config.apiKey,a.name)}async function kC(a,t,i=!1){if(hn(a.app))return Promise.reject(ds(a));const l=fc(a),o=Y0(l,t),d=await new RC(l,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await l._persistUserIfCurrent(d.user),await l._setRedirectUser(null,t)),d}const UC=600*1e3;class LC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Q0(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ty(t))}saveEventToCache(t){this.cachedEventUids.add(ty(t)),this.lastProcessedEventTime=Date.now()}}function ty(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Q0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function zC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Q0(a);default:return!1}}async function jC(a,t={}){return Aa(a,"GET","/v1/projects",t)}const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function qC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await jC(a);for(const i of t)try{if(VC(i))return}catch{}Nn(a,"unauthorized-domain")}function VC(a){const t=pd(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===l}if(!BC.test(i))return!1;if(HC.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const GC=new ir(3e4,6e4);function ny(){const a=wn().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function PC(a){return new Promise((t,i)=>{function l(){ny(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ny(),i(yn(a,"network-request-failed"))},timeout:GC.get()})}if(wn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wn().gapi?.load)l();else{const o=XT("iframefcb");return wn()[o]=()=>{gapi.load?l():i(yn(a,"network-request-failed"))},FT(`${QT()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw Lo=null,t})}let Lo=null;function YC(a){return Lo=Lo||PC(a),Lo}const FC=new ir(5e3,15e3),QC="__/auth/iframe",XC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(a){const t=a.config;$(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Pd(t,XC):`https://${a.config.authDomain}/${QC}`,l={apiKey:t.apiKey,appName:a.name,v:Na},o=ZC.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${wa(l).slice(1)}`}async function JC(a){const t=await YC(a),i=wn().gapi;return $(i,a,"internal-error"),t.open({where:document.body,url:WC(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const d=yn(a,"network-request-failed"),m=wn().setTimeout(()=>{f(d)},FC.get());function g(){wn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{f(d)})}))}const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ex=500,tx=600,nx="_blank",ix="http://localhost";class iy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sx(a,t,i,l=ex,o=tx){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...$C,width:l.toString(),height:o.toString(),top:f,left:d},p=wt().toLowerCase();i&&(m=N0(p)?nx:i),x0(p)&&(t=t||ix,g.scrollbars="yes");const S=Object.entries(g).reduce((E,[z,L])=>`${E}${z}=${L},`,"");if(jT(p)&&m!=="_self")return ax(t||"",m),new iy(null);const b=window.open(t||"",m,S);$(b,a,"popup-blocked");try{b.focus()}catch{}return new iy(b)}function ax(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const lx="__/auth/handler",rx="emulator/auth/handler",ox=encodeURIComponent("fac");async function sy(a,t,i,l,o,f){$(a.config.authDomain,a,"auth-domain-config-required"),$(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:Na,eventId:o};if(t instanceof Kd){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",cd(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof sr){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const m=d;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const g=await a._getAppCheckToken(),p=g?`#${ox}=${encodeURIComponent(g)}`:"";return`${cx(a)}?${wa(m).slice(1)}${p}`}function cx({config:a}){return a.emulator?Pd(a,rx):`https://${a.authDomain}/${lx}`}const $f="webStorageSupport";class ux{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B0,this._completeRedirectFn=kC,this._overrideRedirectResult=OC}async _openPopup(t,i,l,o){ei(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await sy(t,i,l,pd(),o);return sx(t,f,Zd())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await sy(t,i,l,pd(),o);return hC(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(ei(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await JC(t),l=new LC(t);return i.register("authEvent",o=>($(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($f,{type:$f},o=>{const f=o?.[0]?.[$f];f!==void 0&&i(!!f),Nn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=qC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return M0()||w0()||Qd()}}const fx=ux;var ay="@firebase/auth",ly="1.11.1";class dx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hx(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mx(a){va(new ms("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=l.options;$(d&&!d.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:d,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(a)},p=new PT(l,o,f,g);return ZT(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),va(new ms("auth-internal",t=>{const i=fc(t.getProvider("auth").getImmediate());return(l=>new dx(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(ay,ly,hx(a)),ki(ay,ly,"esm2020")}const px=300,gx=r0("authIdTokenMaxAge")||px;let ry=null;const _x=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>gx)return;const o=i?.token;ry!==o&&(ry=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yx(a=p0()){const t=qd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=KT(a,{popupRedirectResolver:fx,persistence:[EC,uC,B0]}),l=r0("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const d=_x(f.toString());aC(i,d,()=>d(i.currentUser)),sC(i,m=>d(m))}}const o=a0("auth");return o&&WT(i,`http://${o}`),i}function vx(){return document.getElementsByTagName("head")?.[0]??document}YT({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=yn("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",vx().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mx("Browser");var oy={};const cy="@firebase/database",uy="1.1.0";let X0="";function bx(a){X0=a}class Sx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ht(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Fl(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Ex{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return ii(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const K0=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sx(t)}}catch{}return new Ex},us=K0("localStorage"),Tx=K0("sessionStorage");const pa=new Hd("@firebase/database"),Cx=(function(){let a=1;return function(){return a++}})(),Z0=function(a){const t=oE(a),i=new sE;i.update(t);const l=i.digest();return Ud.encodeByteArray(l)},lr=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=lr.apply(null,l):typeof l=="object"?t+=ht(l):t+=l,t+=" "}return t};let ql=null,fy=!0;const xx=function(a,t){j(!0,"Can't turn on custom loggers persistently."),pa.logLevel=Ie.VERBOSE,ql=pa.log.bind(pa)},St=function(...a){if(fy===!0&&(fy=!1,ql===null&&Tx.get("logging_enabled")===!0&&xx()),ql){const t=lr.apply(null,a);ql(t)}},rr=function(a){return function(...t){St(a,...t)}},yd=function(...a){const t="FIREBASE INTERNAL ERROR: "+lr(...a);pa.error(t)},ti=function(...a){const t=`FIREBASE FATAL ERROR: ${lr(...a)}`;throw pa.error(t),new Error(t)},zt=function(...a){const t="FIREBASE WARNING: "+lr(...a);pa.warn(t)},wx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},W0=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Nx=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Sa="[MIN_NAME]",gs="[MAX_NAME]",Ra=function(a,t){if(a===t)return 0;if(a===Sa||t===gs)return-1;if(t===Sa||a===gs)return 1;{const i=dy(a),l=dy(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},Ax=function(a,t){return a===t?0:a<t?-1:1},Ml=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+ht(t))},Jd=function(a){if(typeof a!="object"||a===null)return ht(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=ht(t[l]),i+=":",i+=Jd(a[t[l]]);return i+="}",i},J0=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function jt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const $0=function(a){j(!W0(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,d,m,g;a===0?(f=0,d=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,d=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,d=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(d%2?1:0),d=Math.floor(d/2);for(g=t;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const S=p.join("");let b="";for(g=0;g<64;g+=8){let E=parseInt(S.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),b=b+E}return b.toLowerCase()},Rx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ox(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const Mx=new RegExp("^-?(0*)\\d{1,10}$"),Ix=-2147483648,kx=2147483647,dy=function(a){if(Mx.test(a)){const t=Number(a);if(t>=Ix&&t<=kx)return t}return null},Da=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw zt("Exception was thrown by user callback.",i),t},Math.floor(0))}},Ux=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Lx{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,hn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zx{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(t)}}class zo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}zo.OWNER="owner";const $d="5",ev="v",tv="s",nv="r",iv="f",sv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,av="ls",lv="p",vd="ac",rv="websocket",ov="long_polling";class cv{constructor(t,i,l,o,f=!1,d="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function jx(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function uv(a,t,i){j(typeof t=="string","typeof type must == string"),j(typeof i=="object","typeof params must == object");let l;if(t===rv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===ov)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);jx(a)&&(i.ns=a.namespace);const o=[];return jt(i,(f,d)=>{o.push(f+"="+d)}),l+o.join("&")}class Hx{constructor(){this.counters_={}}incrementCounter(t,i=1){ii(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return zS(this.counters_)}}const ed={},td={};function eh(a){const t=a.toString();return ed[t]||(ed[t]=new Hx),ed[t]}function Bx(a,t){const i=a.toString();return td[i]||(td[i]=t()),td[i]}class qx{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&Da(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const hy="start",Vx="close",Gx="pLPCommand",Px="pRTLPCB",fv="id",dv="pw",hv="ser",Yx="cb",Fx="seg",Qx="ts",Xx="d",Kx="dframe",mv=1870,pv=30,Zx=mv-pv,Wx=25e3,Jx=3e4;class fa{constructor(t,i,l,o,f,d,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rr(t),this.stats_=eh(i),this.urlFn=g=>(this.appCheckToken&&(g[vd]=this.appCheckToken),uv(i,ov,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new qx(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jx)),Nx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new th((...f)=>{const[d,m,g,p,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===hy)this.id=m,this.password=g;else if(d===Vx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[hy]="t",l[hv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[Yx]=this.scriptTagHolder.uniqueCallbackIdentifier),l[ev]=$d,this.transportSessionId&&(l[tv]=this.transportSessionId),this.lastSessionId&&(l[av]=this.lastSessionId),this.applicationId&&(l[lv]=this.applicationId),this.appCheckToken&&(l[vd]=this.appCheckToken),typeof location<"u"&&location.hostname&&sv.test(location.hostname)&&(l[nv]=iv);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){fa.forceAllow_=!0}static forceDisallow(){fa.forceDisallow_=!0}static isAvailable(){return fa.forceAllow_?!0:!fa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rx()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=ht(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=i0(i),o=J0(l,Zx);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[Kx]="t",l[fv]=t,l[dv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=ht(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class th{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Cx(),window[Gx+this.uniqueCallbackIdentifier]=t,window[Px+this.uniqueCallbackIdentifier]=i,this.myIFrame=th.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){St("frame writing exception"),m.stack&&St(m.stack),St(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||St("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[fv]=this.myID,t[dv]=this.myPW,t[hv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pv+l.length<=mv;){const d=this.pendingSegs.shift();l=l+"&"+Fx+o+"="+d.seg+"&"+Qx+o+"="+d.ts+"&"+Xx+o+"="+d.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(Wx)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{St("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const $x=16384,ew=45e3;let Ko=null;typeof MozWebSocket<"u"?Ko=MozWebSocket:typeof WebSocket<"u"&&(Ko=WebSocket);class mn{constructor(t,i,l,o,f,d,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rr(this.connId),this.stats_=eh(i),this.connURL=mn.connectionURL_(i,d,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const d={};return d[ev]=$d,typeof location<"u"&&location.hostname&&sv.test(location.hostname)&&(d[nv]=iv),i&&(d[tv]=i),l&&(d[av]=l),o&&(d[vd]=o),f&&(d[lv]=f),uv(t,rv,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let l;ZS(),this.mySock=new Ko(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Ko!==null&&!mn.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||us.get("previous_websocket_failure")===!0}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Fl(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(j(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=ht(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=J0(i,$x);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ew))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;class Kl{static get ALL_TRANSPORTS(){return[fa,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=mn&&mn.isAvailable();let l=i&&!mn.previouslyFailed();if(t.webSocketOnly&&(i||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[mn];else{const o=this.transports_=[];for(const f of Kl.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Kl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Kl.globalTransportInitialized_=!1;const tw=6e4,nw=5e3,iw=10*1024,sw=100*1024,nd="t",my="d",aw="s",py="r",lw="e",gy="o",_y="a",yy="n",vy="p",rw="h";class ow{constructor(t,i,l,o,f,d,m,g,p,S){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rr("c:"+this.id+":"),this.transportManager_=new Kl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>sw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>iw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(nd in t){const i=t[nd];i===_y?this.upgradeIfSecondaryHealthy_():i===py?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===gy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Ml("t",t),l=Ml("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_y,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Ml("t",t),l=Ml("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Ml(nd,t);if(my in t){const l=t[my];if(i===rw){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===yy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===aw?this.onConnectionShutdown_(l):i===py?this.onReset_(l):i===lw?yd("Server Error: "+l):i===gy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yd("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),$d!==l&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class _v{constructor(t){this.allowedEvents_=t,this.listeners_={},j(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){j(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Zo extends _v{static getInstance(){return new Zo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return j(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const by=32,Sy=768;class Le{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function xe(){return new Le("")}function ce(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Li(a){return a.pieces_.length-a.pieceNum_}function ze(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Le(a.pieces_,t)}function yv(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function cw(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function vv(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function bv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Le(t,0)}function lt(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Le)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Le(i,0)}function me(a){return a.pieceNum_>=a.pieces_.length}function Ut(a,t){const i=ce(a),l=ce(t);if(i===null)return t;if(i===l)return Ut(ze(a),ze(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function nh(a,t){if(Li(a)!==Li(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function gn(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Li(a)>Li(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class uw{constructor(t,i){this.errorPrefix_=i,this.parts_=vv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=uc(this.parts_[l]);Sv(this)}}function fw(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=uc(t),Sv(a)}function dw(a){const t=a.parts_.pop();a.byteLength_-=uc(t),a.parts_.length>0&&(a.byteLength_-=1)}function Sv(a){if(a.byteLength_>Sy)throw new Error(a.errorPrefix_+"has a key path longer than "+Sy+" bytes ("+a.byteLength_+").");if(a.parts_.length>by)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+by+") or object contains a cycle "+os(a))}function os(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class ih extends _v{static getInstance(){return new ih}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return j(t==="visible","Unknown event type: "+t),[this.visible_]}}const Il=1e3,hw=300*1e3,Ey=30*1e3,mw=1.3,pw=3e4,gw="server_kill",Ty=3;class Jn extends gv{constructor(t,i,l,o,f,d,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Jn.nextPersistentConnectionId_++,this.log_=rr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Il,this.maxReconnectDelay_=hw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ih.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Zo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(ht(f)),j(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new cc,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),j(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},d="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(d,f,m=>{const g=m.d,p=m.s;Jn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&ii(t,"w")){const l=ya(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||iE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ey)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=nE(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,d=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),j(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},d="n";o&&(f.q=l,f.t=o),this.sendRequest(d,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const d={p:i,d:l};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ht(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):yd("Unrecognized action received from server: "+ht(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){j(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>pw&&(this.reconnectDelay_=Il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Jn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const g=function(){m?m.close():(d=!0,l())},p=function(b){j(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:g,sendRequest:p};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=E&&E.token,m=new ow(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,z=>{zt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(gw)},f))}catch(b){this.log_("Failed to get token: "+b),d||(this.repoInfo_.nodeAdmin&&zt(b),g())}}}interrupt(t){St("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){St("Resuming connection for reason: "+t),delete this.interruptReasons_[t],cd(this.interruptReasons_)&&(this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>Jd(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Le(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){St("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ty&&(this.reconnectDelay_=Ey,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){St("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ty&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+X0.replace(/\./g,"-")]=1,zd()?t["framework.cordova"]=1:u0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Zo.getInstance().currentlyOnline();return cd(this.interruptReasons_)&&t}}Jn.nextPersistentConnectionId_=0;Jn.nextConnectionId_=0;class ue{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ue(t,i)}}class mc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new ue(Sa,t),o=new ue(Sa,i);return this.compare(l,o)!==0}minPost(){return ue.MIN}}let Do;class Ev extends mc{static get __EMPTY_NODE(){return Do}static set __EMPTY_NODE(t){Do=t}compare(t,i){return Ra(t.name,i.name)}isDefinedOn(t){throw Ca("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ue.MIN}maxPost(){return new ue(gs,Do)}makePost(t,i){return j(typeof t=="string","KeyIndex indexValue must always be a string."),new ue(t,Do)}toString(){return".key"}}const ga=new Ev;class Oo{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?l(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class dt{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??dt.RED,this.left=o??Lt.EMPTY_NODE,this.right=f??Lt.EMPTY_NODE}copy(t,i,l,o,f){return new dt(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Lt.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class _w{copy(t,i,l,o,f){return this}insert(t,i,l){return new dt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(t,i=Lt.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Lt(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(t){return new Lt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Oo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Oo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Oo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Oo(this.root_,null,this.comparator_,!0,t)}}Lt.EMPTY_NODE=new _w;function yw(a,t){return Ra(a.name,t.name)}function sh(a,t){return Ra(a,t)}let bd;function vw(a){bd=a}const Tv=function(a){return typeof a=="number"?"number:"+$0(a):"string:"+a},Cv=function(a){if(a.isLeafNode()){const t=a.val();j(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ii(t,".sv"),"Priority must be a string or number.")}else j(a===bd||a.isEmpty(),"priority of unexpected type.");j(a===bd||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Cy;class ft{static set __childrenNodeConstructor(t){Cy=t}static get __childrenNodeConstructor(){return Cy}constructor(t,i=ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,j(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ft(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return me(t)?this:ce(t)===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ce(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(j(l!==".priority"||Li(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=$0(this.value_):t+=this.value_,this.lazyHash_=Z0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ft.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ft.__childrenNodeConstructor?-1:(j(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=ft.VALUE_TYPE_ORDER.indexOf(i),f=ft.VALUE_TYPE_ORDER.indexOf(l);return j(o>=0,"Unknown leaf type: "+i),j(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];let xv,wv;function bw(a){xv=a}function Sw(a){wv=a}class Ew extends mc{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?Ra(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(gs,new ft("[PRIORITY-POST]",wv))}makePost(t,i){const l=xv(t);return new ue(i,new ft("[PRIORITY-POST]",l))}toString(){return".priority"}}const Xe=new Ew;const Tw=Math.log(2);class Cw{constructor(t){const i=f=>parseInt(Math.log(f)/Tw,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wo=function(a,t,i,l){a.sort(t);const o=function(g,p){const S=p-g;let b,E;if(S===0)return null;if(S===1)return b=a[g],E=i?i(b):b,new dt(E,b.node,dt.BLACK,null,null);{const z=parseInt(S/2,10)+g,L=o(g,z),K=o(z+1,p);return b=a[z],E=i?i(b):b,new dt(E,b.node,dt.BLACK,L,K)}},f=function(g){let p=null,S=null,b=a.length;const E=function(L,K){const fe=b-L,_e=b;b-=L;const ae=o(fe+1,_e),Re=a[fe],ye=i?i(Re):Re;z(new dt(ye,Re.node,K,null,ae))},z=function(L){p?(p.left=L,p=L):(S=L,p=L)};for(let L=0;L<g.count;++L){const K=g.nextBitIsOne(),fe=Math.pow(2,g.count-(L+1));K?E(fe,dt.BLACK):(E(fe,dt.BLACK),E(fe,dt.RED))}return S},d=new Cw(a.length),m=f(d);return new Lt(l||t,m)};let id;const ua={};class Wn{static get Default(){return j(ua&&Xe,"ChildrenNode.ts has not been loaded"),id=id||new Wn({".priority":ua},{".priority":Xe}),id}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=ya(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Lt?i:null}hasIndex(t){return ii(this.indexSet_,t.toString())}addIndex(t,i){j(t!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(ue.Wrap);let d=f.getNext();for(;d;)o=o||t.isDefinedOn(d.node),l.push(d),d=f.getNext();let m;o?m=Wo(l,t.getCompare()):m=ua;const g=t.toString(),p={...this.indexSet_};p[g]=t;const S={...this.indexes_};return S[g]=m,new Wn(S,p)}addToIndexes(t,i){const l=qo(this.indexes_,(o,f)=>{const d=ya(this.indexSet_,f);if(j(d,"Missing index implementation for "+f),o===ua)if(d.isDefinedOn(t.node)){const m=[],g=i.getIterator(ue.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Wo(m,d.getCompare())}else return ua;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new ue(t.name,m))),g.insert(t,t.node)}});return new Wn(l,this.indexSet_)}removeFromIndexes(t,i){const l=qo(this.indexes_,o=>{if(o===ua)return o;{const f=i.get(t.name);return f?o.remove(new ue(t.name,f)):o}});return new Wn(l,this.indexSet_)}}let kl;class J{static get EMPTY_NODE(){return kl||(kl=new J(new Lt(sh),null,Wn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Cv(this.priorityNode_),this.children_.isEmpty()&&j(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kl}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?kl:i}}getChild(t){const i=ce(t);return i===null?this:this.getImmediateChild(i).getChild(ze(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(j(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new ue(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const d=o.isEmpty()?kl:this.priorityNode_;return new J(o,d,f)}}updateChild(t,i){const l=ce(t);if(l===null)return i;{j(ce(t)!==".priority"||Li(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(ze(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(Xe,(d,m)=>{i[d]=m.val(t),l++,f&&J.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):f=!1}),!t&&f&&o<2*l){const d=[];for(const m in i)d[m]=i[m];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Tv(this.getPriority().val())+":"),this.forEachChild(Xe,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Z0(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new ue(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ue(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ue(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ue.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ue.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===or?-1:0}withIndex(t){if(t===ga||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ga||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Xe),o=i.getIterator(Xe);let f=l.getNext(),d=o.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=l.getNext(),d=o.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===ga?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class xw extends J{constructor(){super(new Lt(sh),J.EMPTY_NODE,Wn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const or=new xw;Object.defineProperties(ue,{MIN:{value:new ue(Sa,J.EMPTY_NODE)},MAX:{value:new ue(gs,or)}});Ev.__EMPTY_NODE=J.EMPTY_NODE;ft.__childrenNodeConstructor=J;vw(or);Sw(or);const ww=!0;function vt(a,t=null){if(a===null)return J.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),j(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new ft(i,vt(t))}if(!(a instanceof Array)&&ww){const i=[];let l=!1;if(jt(a,(d,m)=>{if(d.substring(0,1)!=="."){const g=vt(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new ue(d,g)))}}),i.length===0)return J.EMPTY_NODE;const f=Wo(i,yw,d=>d.name,sh);if(l){const d=Wo(i,Xe.getCompare());return new J(f,vt(t),new Wn({".priority":d},{".priority":Xe}))}else return new J(f,vt(t),Wn.Default)}else{let i=J.EMPTY_NODE;return jt(a,(l,o)=>{if(ii(a,l)&&l.substring(0,1)!=="."){const f=vt(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(vt(t))}}bw(vt);class Nw extends mc{constructor(t){super(),this.indexPath_=t,j(!me(t)&&ce(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?Ra(t.name,i.name):f}makePost(t,i){const l=vt(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,l);return new ue(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,or);return new ue(gs,t)}toString(){return vv(this.indexPath_,0).join("/")}}class Aw extends mc{compare(t,i){const l=t.node.compareTo(i.node);return l===0?Ra(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(t,i){const l=vt(t);return new ue(i,l)}toString(){return".value"}}const Rw=new Aw;function Nv(a){return{type:"value",snapshotNode:a}}function Ea(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Zl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Wl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function Dw(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class ah{constructor(t){this.index_=t}updateChild(t,i,l,o,f,d){j(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(d!=null&&(l.isEmpty()?t.hasChild(i)?d.trackChildChange(Zl(i,m)):j(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Ea(i,l)):d.trackChildChange(Wl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Xe,(o,f)=>{i.hasChild(o)||l.trackChildChange(Zl(o,f))}),i.isLeafNode()||i.forEachChild(Xe,(o,f)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(f)||l.trackChildChange(Wl(o,f,d))}else l.trackChildChange(Ea(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Jl{constructor(t){this.indexedFilter_=new ah(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Jl.getStartPost_(t),this.endPost_=Jl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,d){return this.matches(new ue(i,l))||(l=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,d)}updateFullNode(t,i,l){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const f=this;return i.forEachChild(Xe,(d,m)=>{f.matches(new ue(d,m))||(o=o.updateImmediateChild(d,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class Ow{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Jl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,d){return this.rangedFilter_.matches(new ue(i,l))||(l=J.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,d):this.fullLimitUpdateChild_(t,i,l,f,d)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let d;if(this.reverse_){const b=this.index_.getCompare();d=(E,z)=>b(z,E)}else d=this.index_.getCompare();const m=t;j(m.numChildren()===this.limit_,"");const g=new ue(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(g);if(m.hasChild(i)){const b=m.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const z=E==null?1:d(E,g);if(S&&!l.isEmpty()&&z>=0)return f?.trackChildChange(Wl(i,l,b)),m.updateImmediateChild(i,l);{f?.trackChildChange(Zl(i,b));const K=m.updateImmediateChild(i,J.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Ea(E.name,E.node)),K.updateImmediateChild(E.name,E.node)):K}}else return l.isEmpty()?t:S&&d(p,g)>=0?(f!=null&&(f.trackChildChange(Zl(p.name,p.node)),f.trackChildChange(Ea(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,J.EMPTY_NODE)):t}}class lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return j(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return j(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Sa}hasEnd(){return this.endSet_}getIndexEndValue(){return j(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return j(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return j(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const t=new lh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Mw(a){return a.loadsAllData()?new ah(a.getIndex()):a.hasLimit()?new Ow(a):new Jl(a)}function xy(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Xe?i="$priority":a.index_===Rw?i="$value":a.index_===ga?i="$key":(j(a.index_ instanceof Nw,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=ht(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=ht(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+ht(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=ht(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+ht(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function wy(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Xe&&(t.i=a.index_.toString()),t}class Jo extends gv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(j(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=rr("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const d=Jo.getListenId_(t,l),m={};this.listens_[d]=m;const g=xy(t._queryParams);this.restRequest_(f+".json",g,(p,S)=>{let b=S;if(p===404&&(b=null,p=null),p===null&&this.onDataUpdate_(f,b,!1,l),ya(this.listens_,d)===m){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(t,i){const l=Jo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=xy(t._queryParams),l=t._path.toString(),o=new cc;return this.restRequest_(l+".json",i,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+wa(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Fl(m.responseText)}catch{zt("Failed to parse JSON response for "+d+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&zt("Got unsuccessful REST response for "+d+" Status: "+m.status),l(m.status);l=null}},m.open("GET",d,!0),m.send()})}}class Iw{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function $o(){return{value:null,children:new Map}}function Av(a,t,i){if(me(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ce(t);a.children.has(l)||a.children.set(l,$o());const o=a.children.get(l);t=ze(t),Av(o,t,i)}}function Sd(a,t,i){a.value!==null?i(t,a.value):kw(a,(l,o)=>{const f=new Le(t.toString()+"/"+l);Sd(o,f,i)})}function kw(a,t){a.children.forEach((i,l)=>{t(l,i)})}class Uw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&jt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const Ny=10*1e3,Lw=30*1e3,zw=300*1e3;class jw{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new Uw(t);const l=Ny+(Lw-Ny)*Math.random();Vl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;jt(t,(o,f)=>{f>0&&ii(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),Vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*zw))}}var _n;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_n||(_n={}));function Rv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class ec{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=_n.ACK_USER_WRITE,this.source=Rv()}operationForChild(t){if(me(this.path)){if(this.affectedTree.value!=null)return j(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Le(t));return new ec(xe(),i,this.revert)}}else return j(ce(this.path)===t,"operationForChild called for unrelated child."),new ec(ze(this.path),this.affectedTree,this.revert)}}class $l{constructor(t,i){this.source=t,this.path=i,this.type=_n.LISTEN_COMPLETE}operationForChild(t){return me(this.path)?new $l(this.source,xe()):new $l(this.source,ze(this.path))}}class _s{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=_n.OVERWRITE}operationForChild(t){return me(this.path)?new _s(this.source,xe(),this.snap.getImmediateChild(t)):new _s(this.source,ze(this.path),this.snap)}}class er{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=_n.MERGE}operationForChild(t){if(me(this.path)){const i=this.children.subtree(new Le(t));return i.isEmpty()?null:i.value?new _s(this.source,xe(),i.value):new er(this.source,xe(),i)}else return j(ce(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new er(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ys{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;const i=ce(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Hw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Bw(a,t,i,l){const o=[],f=[];return t.forEach(d=>{d.type==="child_changed"&&a.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Dw(d.childName,d.snapshotNode))}),Ul(a,o,"child_removed",t,l,i),Ul(a,o,"child_added",t,l,i),Ul(a,o,"child_moved",f,l,i),Ul(a,o,"child_changed",t,l,i),Ul(a,o,"value",t,l,i),o}function Ul(a,t,i,l,o,f){const d=l.filter(m=>m.type===i);d.sort((m,g)=>Vw(a,m,g)),d.forEach(m=>{const g=qw(a,m,f);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function qw(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function Vw(a,t,i){if(t.childName==null||i.childName==null)throw Ca("Should only compare child_ events.");const l=new ue(t.childName,t.snapshotNode),o=new ue(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function pc(a,t){return{eventCache:a,serverCache:t}}function Gl(a,t,i,l){return pc(new ys(t,i,l),a.serverCache)}function Dv(a,t,i,l){return pc(a.eventCache,new ys(t,i,l))}function Ed(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function vs(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let sd;const Gw=()=>(sd||(sd=new Lt(Ax)),sd);class Be{static fromObject(t){let i=new Be(null);return jt(t,(l,o)=>{i=i.set(new Le(l),o)}),i}constructor(t,i=Gw()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(me(t))return null;{const l=ce(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(ze(t),i);return f!=null?{path:lt(new Le(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(me(t))return this;{const i=ce(t),l=this.children.get(i);return l!==null?l.subtree(ze(t)):new Be(null)}}set(t,i){if(me(t))return new Be(i,this.children);{const l=ce(t),f=(this.children.get(l)||new Be(null)).set(ze(t),i),d=this.children.insert(l,f);return new Be(this.value,d)}}remove(t){if(me(t))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const i=ce(t),l=this.children.get(i);if(l){const o=l.remove(ze(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new Be(null):new Be(this.value,f)}else return this}}get(t){if(me(t))return this.value;{const i=ce(t),l=this.children.get(i);return l?l.get(ze(t)):null}}setTree(t,i){if(me(t))return i;{const l=ce(t),f=(this.children.get(l)||new Be(null)).setTree(ze(t),i);let d;return f.isEmpty()?d=this.children.remove(l):d=this.children.insert(l,f),new Be(this.value,d)}}fold(t){return this.fold_(xe(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(lt(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,xe(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(me(t))return null;{const f=ce(t),d=this.children.get(f);return d?d.findOnPath_(ze(t),lt(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,xe(),i)}foreachOnPath_(t,i,l){if(me(t))return this;{this.value&&l(i,this.value);const o=ce(t),f=this.children.get(o);return f?f.foreachOnPath_(ze(t),lt(i,o),l):new Be(null)}}foreach(t){this.foreach_(xe(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(lt(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new Be(null))}}function Pl(a,t,i){if(me(t))return new vn(new Be(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const d=Ut(o,t);return f=f.updateChild(d,i),new vn(a.writeTree_.set(o,f))}else{const o=new Be(i),f=a.writeTree_.setTree(t,o);return new vn(f)}}}function Ay(a,t,i){let l=a;return jt(i,(o,f)=>{l=Pl(l,lt(t,o),f)}),l}function Ry(a,t){if(me(t))return vn.empty();{const i=a.writeTree_.setTree(t,new Be(null));return new vn(i)}}function Td(a,t){return bs(a,t)!=null}function bs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(Ut(i.path,t)):null}function Dy(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xe,(l,o)=>{t.push(new ue(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new ue(l,o.value))}),t}function Ui(a,t){if(me(t))return a;{const i=bs(a,t);return i!=null?new vn(new Be(i)):new vn(a.writeTree_.subtree(t))}}function Cd(a){return a.writeTree_.isEmpty()}function Ta(a,t){return Ov(xe(),a.writeTree_,t)}function Ov(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(j(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=Ov(lt(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(lt(a,".priority"),l)),i}}function ch(a,t){return Uv(t,a)}function Pw(a,t,i,l,o){j(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Pl(a.visibleWrites,t,i)),a.lastWriteId=l}function Yw(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function Fw(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);j(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,d=a.allWrites.length-1;for(;o&&d>=0;){const m=a.allWrites[d];m.visible&&(d>=i&&Qw(m,l.path)?o=!1:gn(l.path,m.path)&&(f=!0)),d--}if(o){if(f)return Xw(a),!0;if(l.snap)a.visibleWrites=Ry(a.visibleWrites,l.path);else{const m=l.children;jt(m,g=>{a.visibleWrites=Ry(a.visibleWrites,lt(l.path,g))})}return!0}else return!1}function Qw(a,t){if(a.snap)return gn(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&gn(lt(a.path,i),t))return!0;return!1}function Xw(a){a.visibleWrites=Mv(a.allWrites,Kw,xe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function Kw(a){return a.visible}function Mv(a,t,i){let l=vn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const d=f.path;let m;if(f.snap)gn(i,d)?(m=Ut(i,d),l=Pl(l,m,f.snap)):gn(d,i)&&(m=Ut(d,i),l=Pl(l,xe(),f.snap.getChild(m)));else if(f.children){if(gn(i,d))m=Ut(i,d),l=Ay(l,m,f.children);else if(gn(d,i))if(m=Ut(d,i),me(m))l=Ay(l,xe(),f.children);else{const g=ya(f.children,ce(m));if(g){const p=g.getChild(ze(m));l=Pl(l,xe(),p)}}}else throw Ca("WriteRecord should have .snap or .children")}}return l}function Iv(a,t,i,l,o){if(!l&&!o){const f=bs(a.visibleWrites,t);if(f!=null)return f;{const d=Ui(a.visibleWrites,t);if(Cd(d))return i;if(i==null&&!Td(d,xe()))return null;{const m=i||J.EMPTY_NODE;return Ta(d,m)}}}else{const f=Ui(a.visibleWrites,t);if(!o&&Cd(f))return i;if(!o&&i==null&&!Td(f,xe()))return null;{const d=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(gn(p.path,t)||gn(t,p.path))},m=Mv(a.allWrites,d,t),g=i||J.EMPTY_NODE;return Ta(m,g)}}}function Zw(a,t,i){let l=J.EMPTY_NODE;const o=bs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Xe,(f,d)=>{l=l.updateImmediateChild(f,d)}),l;if(i){const f=Ui(a.visibleWrites,t);return i.forEachChild(Xe,(d,m)=>{const g=Ta(Ui(f,new Le(d)),m);l=l.updateImmediateChild(d,g)}),Dy(f).forEach(d=>{l=l.updateImmediateChild(d.name,d.node)}),l}else{const f=Ui(a.visibleWrites,t);return Dy(f).forEach(d=>{l=l.updateImmediateChild(d.name,d.node)}),l}}function Ww(a,t,i,l,o){j(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=lt(t,i);if(Td(a.visibleWrites,f))return null;{const d=Ui(a.visibleWrites,f);return Cd(d)?o.getChild(i):Ta(d,o.getChild(i))}}function Jw(a,t,i,l){const o=lt(t,i),f=bs(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const d=Ui(a.visibleWrites,o);return Ta(d,l.getNode().getImmediateChild(i))}else return null}function $w(a,t){return bs(a.visibleWrites,t)}function eN(a,t,i,l,o,f,d){let m;const g=Ui(a.visibleWrites,t),p=bs(g,xe());if(p!=null)m=p;else if(i!=null)m=Ta(g,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const S=[],b=d.getCompare(),E=f?m.getReverseIteratorFrom(l,d):m.getIteratorFrom(l,d);let z=E.getNext();for(;z&&S.length<o;)b(z,l)!==0&&S.push(z),z=E.getNext();return S}else return[]}function tN(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function tc(a,t,i,l){return Iv(a.writeTree,a.treePath,t,i,l)}function uh(a,t){return Zw(a.writeTree,a.treePath,t)}function Oy(a,t,i,l){return Ww(a.writeTree,a.treePath,t,i,l)}function nc(a,t){return $w(a.writeTree,lt(a.treePath,t))}function nN(a,t,i,l,o,f){return eN(a.writeTree,a.treePath,t,i,l,o,f)}function fh(a,t,i){return Jw(a.writeTree,a.treePath,t,i)}function kv(a,t){return Uv(lt(a.treePath,t),a.writeTree)}function Uv(a,t){return{treePath:a,writeTree:t}}class iN{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;j(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),j(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,Wl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,Zl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,Ea(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,Wl(l,t.snapshotNode,o.oldSnap));else throw Ca("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class sN{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const Lv=new sN;class dh{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),f=nN(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function aN(a){return{filter:a}}function lN(a,t){j(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),j(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function rN(a,t,i,l,o){const f=new iN;let d,m;if(i.type===_n.OVERWRITE){const p=i;p.source.fromUser?d=xd(a,t,p.path,p.snap,l,o,f):(j(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!me(p.path),d=ic(a,t,p.path,p.snap,l,o,m,f))}else if(i.type===_n.MERGE){const p=i;p.source.fromUser?d=cN(a,t,p.path,p.children,l,o,f):(j(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),d=wd(a,t,p.path,p.children,l,o,m,f))}else if(i.type===_n.ACK_USER_WRITE){const p=i;p.revert?d=dN(a,t,p.path,l,o,f):d=uN(a,t,p.path,p.affectedTree,l,o,f)}else if(i.type===_n.LISTEN_COMPLETE)d=fN(a,t,i.path,l,f);else throw Ca("Unknown operation type: "+i.type);const g=f.getChanges();return oN(t,d,g),{viewCache:d,changes:g}}function oN(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Ed(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(Nv(Ed(t)))}}function zv(a,t,i,l,o,f){const d=t.eventCache;if(nc(l,i)!=null)return t;{let m,g;if(me(i))if(j(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=vs(t),S=p instanceof J?p:J.EMPTY_NODE,b=uh(l,S);m=a.filter.updateFullNode(t.eventCache.getNode(),b,f)}else{const p=tc(l,vs(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,f)}else{const p=ce(i);if(p===".priority"){j(Li(i)===1,"Can't have a priority with additional path components");const S=d.getNode();g=t.serverCache.getNode();const b=Oy(l,i,S,g);b!=null?m=a.filter.updatePriority(S,b):m=d.getNode()}else{const S=ze(i);let b;if(d.isCompleteForChild(p)){g=t.serverCache.getNode();const E=Oy(l,i,d.getNode(),g);E!=null?b=d.getNode().getImmediateChild(p).updateChild(S,E):b=d.getNode().getImmediateChild(p)}else b=fh(l,p,t.serverCache);b!=null?m=a.filter.updateChild(d.getNode(),p,b,S,o,f):m=d.getNode()}}return Gl(t,m,d.isFullyInitialized()||me(i),a.filter.filtersNodes())}}function ic(a,t,i,l,o,f,d,m){const g=t.serverCache;let p;const S=d?a.filter:a.filter.getIndexedFilter();if(me(i))p=S.updateFullNode(g.getNode(),l,null);else if(S.filtersNodes()&&!g.isFiltered()){const z=g.getNode().updateChild(i,l);p=S.updateFullNode(g.getNode(),z,null)}else{const z=ce(i);if(!g.isCompleteForPath(i)&&Li(i)>1)return t;const L=ze(i),fe=g.getNode().getImmediateChild(z).updateChild(L,l);z===".priority"?p=S.updatePriority(g.getNode(),fe):p=S.updateChild(g.getNode(),z,fe,L,Lv,null)}const b=Dv(t,p,g.isFullyInitialized()||me(i),S.filtersNodes()),E=new dh(o,b,f);return zv(a,b,i,o,E,m)}function xd(a,t,i,l,o,f,d){const m=t.eventCache;let g,p;const S=new dh(o,t,f);if(me(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,d),g=Gl(t,p,!0,a.filter.filtersNodes());else{const b=ce(i);if(b===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=Gl(t,p,m.isFullyInitialized(),m.isFiltered());else{const E=ze(i),z=m.getNode().getImmediateChild(b);let L;if(me(E))L=l;else{const K=S.getCompleteChild(b);K!=null?yv(E)===".priority"&&K.getChild(bv(E)).isEmpty()?L=K:L=K.updateChild(E,l):L=J.EMPTY_NODE}if(z.equals(L))g=t;else{const K=a.filter.updateChild(m.getNode(),b,L,E,S,d);g=Gl(t,K,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function My(a,t){return a.eventCache.isCompleteForChild(t)}function cN(a,t,i,l,o,f,d){let m=t;return l.foreach((g,p)=>{const S=lt(i,g);My(t,ce(S))&&(m=xd(a,m,S,p,o,f,d))}),l.foreach((g,p)=>{const S=lt(i,g);My(t,ce(S))||(m=xd(a,m,S,p,o,f,d))}),m}function Iy(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function wd(a,t,i,l,o,f,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;me(i)?p=l:p=new Be(null).setTree(i,l);const S=t.serverCache.getNode();return p.children.inorderTraversal((b,E)=>{if(S.hasChild(b)){const z=t.serverCache.getNode().getImmediateChild(b),L=Iy(a,z,E);g=ic(a,g,new Le(b),L,o,f,d,m)}}),p.children.inorderTraversal((b,E)=>{const z=!t.serverCache.isCompleteForChild(b)&&E.value===null;if(!S.hasChild(b)&&!z){const L=t.serverCache.getNode().getImmediateChild(b),K=Iy(a,L,E);g=ic(a,g,new Le(b),K,o,f,d,m)}}),g}function uN(a,t,i,l,o,f,d){if(nc(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(me(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return ic(a,t,i,g.getNode().getChild(i),o,f,m,d);if(me(i)){let p=new Be(null);return g.getNode().forEachChild(ga,(S,b)=>{p=p.set(new Le(S),b)}),wd(a,t,i,p,o,f,m,d)}else return t}else{let p=new Be(null);return l.foreach((S,b)=>{const E=lt(i,S);g.isCompleteForPath(E)&&(p=p.set(S,g.getNode().getChild(E)))}),wd(a,t,i,p,o,f,m,d)}}function fN(a,t,i,l,o){const f=t.serverCache,d=Dv(t,f.getNode(),f.isFullyInitialized()||me(i),f.isFiltered());return zv(a,d,i,l,Lv,o)}function dN(a,t,i,l,o,f){let d;if(nc(l,i)!=null)return t;{const m=new dh(l,t,o),g=t.eventCache.getNode();let p;if(me(i)||ce(i)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=tc(l,vs(t));else{const b=t.serverCache.getNode();j(b instanceof J,"serverChildren would be complete if leaf node"),S=uh(l,b)}S=S,p=a.filter.updateFullNode(g,S,f)}else{const S=ce(i);let b=fh(l,S,t.serverCache);b==null&&t.serverCache.isCompleteForChild(S)&&(b=g.getImmediateChild(S)),b!=null?p=a.filter.updateChild(g,S,b,ze(i),m,f):t.eventCache.getNode().hasChild(S)?p=a.filter.updateChild(g,S,J.EMPTY_NODE,ze(i),m,f):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=tc(l,vs(t)),d.isLeafNode()&&(p=a.filter.updateFullNode(p,d,f)))}return d=t.serverCache.isFullyInitialized()||nc(l,xe())!=null,Gl(t,p,d,a.filter.filtersNodes())}}class hN{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new ah(l.getIndex()),f=Mw(l);this.processor_=aN(f);const d=i.serverCache,m=i.eventCache,g=o.updateFullNode(J.EMPTY_NODE,d.getNode(),null),p=f.updateFullNode(J.EMPTY_NODE,m.getNode(),null),S=new ys(g,d.isFullyInitialized(),o.filtersNodes()),b=new ys(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=pc(b,S),this.eventGenerator_=new Hw(this.query_)}get query(){return this.query_}}function mN(a){return a.viewCache_.serverCache.getNode()}function pN(a,t){const i=vs(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!me(t)&&!i.getImmediateChild(ce(t)).isEmpty())?i.getChild(t):null}function ky(a){return a.eventRegistrations_.length===0}function gN(a,t){a.eventRegistrations_.push(t)}function Uy(a,t,i){const l=[];if(i){j(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(i,o);d&&l.push(d)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const d=a.eventRegistrations_[f];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function Ly(a,t,i,l){t.type===_n.MERGE&&t.source.queryId!==null&&(j(vs(a.viewCache_),"We should always have a full cache before handling merges"),j(Ed(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=rN(a.processor_,o,t,i,l);return lN(a.processor_,f.viewCache),j(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,jv(a,f.changes,f.viewCache.eventCache.getNode(),null)}function _N(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Xe,(f,d)=>{l.push(Ea(f,d))}),i.isFullyInitialized()&&l.push(Nv(i.getNode())),jv(a,l,i.getNode(),t)}function jv(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return Bw(a.eventGenerator_,t,i,o)}let sc;class yN{constructor(){this.views=new Map}}function vN(a){j(!sc,"__referenceConstructor has already been defined"),sc=a}function bN(){return j(sc,"Reference.ts has not been loaded"),sc}function SN(a){return a.views.size===0}function hh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return j(f!=null,"SyncTree gave us an op for an invalid query."),Ly(f,t,i,l)}else{let f=[];for(const d of a.views.values())f=f.concat(Ly(d,t,i,l));return f}}function EN(a,t,i,l,o){const f=t._queryIdentifier,d=a.views.get(f);if(!d){let m=tc(i,o?l:null),g=!1;m?g=!0:l instanceof J?(m=uh(i,l),g=!1):(m=J.EMPTY_NODE,g=!1);const p=pc(new ys(m,g,!1),new ys(l,o,!1));return new hN(t,p)}return d}function TN(a,t,i,l,o,f){const d=EN(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,d),gN(d,i),_N(d,i)}function CN(a,t,i,l){const o=t._queryIdentifier,f=[];let d=[];const m=zi(a);if(o==="default")for(const[g,p]of a.views.entries())d=d.concat(Uy(p,i,l)),ky(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=a.views.get(o);g&&(d=d.concat(Uy(g,i,l)),ky(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!zi(a)&&f.push(new(bN())(t._repo,t._path)),{removed:f,events:d}}function Hv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function _a(a,t){let i=null;for(const l of a.views.values())i=i||pN(l,t);return i}function Bv(a,t){if(t._queryParams.loadsAllData())return gc(a);{const l=t._queryIdentifier;return a.views.get(l)}}function qv(a,t){return Bv(a,t)!=null}function zi(a){return gc(a)!=null}function gc(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ac;function xN(a){j(!ac,"__referenceConstructor has already been defined"),ac=a}function wN(){return j(ac,"Reference.ts has not been loaded"),ac}let NN=1;class zy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Be(null),this.pendingWriteTree_=tN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vv(a,t,i,l,o){return Pw(a.pendingWriteTree_,t,i,l,o),o?cr(a,new _s(Rv(),t,i)):[]}function fs(a,t,i=!1){const l=Yw(a.pendingWriteTree_,t);if(Fw(a.pendingWriteTree_,t)){let f=new Be(null);return l.snap!=null?f=f.set(xe(),!0):jt(l.children,d=>{f=f.set(new Le(d),!0)}),cr(a,new ec(l.path,f,i))}else return[]}function _c(a,t,i){return cr(a,new _s(rh(),t,i))}function AN(a,t,i){const l=Be.fromObject(i);return cr(a,new er(rh(),t,l))}function RN(a,t){return cr(a,new $l(rh(),t))}function DN(a,t,i){const l=ph(a,i);if(l){const o=gh(l),f=o.path,d=o.queryId,m=Ut(f,t),g=new $l(oh(d),m);return _h(a,f,g)}else return[]}function Nd(a,t,i,l,o=!1){const f=t._path,d=a.syncPointTree_.get(f);let m=[];if(d&&(t._queryIdentifier==="default"||qv(d,t))){const g=CN(d,t,i,l);SN(d)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const S=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,b=a.syncPointTree_.findOnPath(f,(E,z)=>zi(z));if(S&&!b){const E=a.syncPointTree_.subtree(f);if(!E.isEmpty()){const z=IN(E);for(let L=0;L<z.length;++L){const K=z[L],fe=K.query,_e=Yv(a,K);a.listenProvider_.startListening(Yl(fe),lc(a,fe),_e.hashFn,_e.onComplete)}}}!b&&p.length>0&&!l&&(S?a.listenProvider_.stopListening(Yl(t),null):p.forEach(E=>{const z=a.queryToTagMap.get(yc(E));a.listenProvider_.stopListening(Yl(E),z)}))}kN(a,p)}return m}function ON(a,t,i,l){const o=ph(a,l);if(o!=null){const f=gh(o),d=f.path,m=f.queryId,g=Ut(d,t),p=new _s(oh(m),g,i);return _h(a,d,p)}else return[]}function MN(a,t,i,l){const o=ph(a,l);if(o){const f=gh(o),d=f.path,m=f.queryId,g=Ut(d,t),p=Be.fromObject(i),S=new er(oh(m),g,p);return _h(a,d,S)}else return[]}function jy(a,t,i,l=!1){const o=t._path;let f=null,d=!1;a.syncPointTree_.foreachOnPath(o,(E,z)=>{const L=Ut(E,o);f=f||_a(z,L),d=d||zi(z)});let m=a.syncPointTree_.get(o);m?(d=d||zi(m),f=f||_a(m,xe())):(m=new yN,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=J.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,L)=>{const K=_a(L,xe());K&&(f=f.updateImmediateChild(z,K))}));const p=qv(m,t);if(!p&&!t._queryParams.loadsAllData()){const E=yc(t);j(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const z=UN();a.queryToTagMap.set(E,z),a.tagToQueryMap.set(z,E)}const S=ch(a.pendingWriteTree_,o);let b=TN(m,t,i,S,f,g);if(!p&&!d&&!l){const E=Bv(m,t);b=b.concat(LN(a,t,E))}return b}function mh(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(d,m)=>{const g=Ut(d,t),p=_a(m,g);if(p)return p});return Iv(o,t,f,i,!0)}function cr(a,t){return Gv(t,a.syncPointTree_,null,ch(a.pendingWriteTree_,xe()))}function Gv(a,t,i,l){if(me(a.path))return Pv(a,t,i,l);{const o=t.get(xe());i==null&&o!=null&&(i=_a(o,xe()));let f=[];const d=ce(a.path),m=a.operationForChild(d),g=t.children.get(d);if(g&&m){const p=i?i.getImmediateChild(d):null,S=kv(l,d);f=f.concat(Gv(m,g,p,S))}return o&&(f=f.concat(hh(o,a,l,i))),f}}function Pv(a,t,i,l){const o=t.get(xe());i==null&&o!=null&&(i=_a(o,xe()));let f=[];return t.children.inorderTraversal((d,m)=>{const g=i?i.getImmediateChild(d):null,p=kv(l,d),S=a.operationForChild(d);S&&(f=f.concat(Pv(S,m,g,p)))}),o&&(f=f.concat(hh(o,a,l,i))),f}function Yv(a,t){const i=t.query,l=lc(a,i);return{hashFn:()=>(mN(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?DN(a,i._path,l):RN(a,i._path);{const f=Ox(o,i);return Nd(a,i,null,f)}}}}function lc(a,t){const i=yc(t);return a.queryToTagMap.get(i)}function yc(a){return a._path.toString()+"$"+a._queryIdentifier}function ph(a,t){return a.tagToQueryMap.get(t)}function gh(a){const t=a.indexOf("$");return j(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Le(a.substr(0,t))}}function _h(a,t,i){const l=a.syncPointTree_.get(t);j(l,"Missing sync point for query tag that we're tracking");const o=ch(a.pendingWriteTree_,t);return hh(l,i,o,null)}function IN(a){return a.fold((t,i,l)=>{if(i&&zi(i))return[gc(i)];{let o=[];return i&&(o=Hv(i)),jt(l,(f,d)=>{o=o.concat(d)}),o}})}function Yl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(wN())(a._repo,a._path):a}function kN(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=yc(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function UN(){return NN++}function LN(a,t,i){const l=t._path,o=lc(a,t),f=Yv(a,i),d=a.listenProvider_.startListening(Yl(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)j(!zi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,S,b)=>{if(!me(p)&&S&&zi(S))return[gc(S).query];{let E=[];return S&&(E=E.concat(Hv(S).map(z=>z.query))),jt(b,(z,L)=>{E=E.concat(L)}),E}});for(let p=0;p<g.length;++p){const S=g[p];a.listenProvider_.stopListening(Yl(S),lc(a,S))}}return d}class yh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new yh(i)}node(){return this.node_}}class vh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=lt(this.path_,t);return new vh(this.syncTree_,i)}node(){return mh(this.syncTree_,this.path_)}}const zN=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Hy=function(a,t,i){if(!a||typeof a!="object")return a;if(j(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return jN(a[".sv"],t,i);if(typeof a[".sv"]=="object")return HN(a[".sv"],t);j(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},jN=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:j(!1,"Unexpected server value: "+a)}},HN=function(a,t,i){a.hasOwnProperty("increment")||j(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&j(!1,"Unexpected increment value: "+l);const o=t.node();if(j(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const d=o.getValue();return typeof d!="number"?l:d+l},BN=function(a,t,i,l){return bh(t,new vh(i,a),l)},Fv=function(a,t,i){return bh(a,new yh(t),i)};function bh(a,t,i){const l=a.getPriority().val(),o=Hy(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const d=a,m=Hy(d.getValue(),t,i);return m!==d.getValue()||o!==d.getPriority().val()?new ft(m,vt(o)):a}else{const d=a;return f=d,o!==d.getPriority().val()&&(f=f.updatePriority(new ft(o))),d.forEachChild(Xe,(m,g)=>{const p=bh(g,t.getImmediateChild(m),i);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}class Sh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Eh(a,t){let i=t instanceof Le?t:new Le(t),l=a,o=ce(i);for(;o!==null;){const f=ya(l.node.children,o)||{children:{},childCount:0};l=new Sh(o,l,f),i=ze(i),o=ce(i)}return l}function Oa(a){return a.node.value}function Qv(a,t){a.node.value=t,Ad(a)}function Xv(a){return a.node.childCount>0}function qN(a){return Oa(a)===void 0&&!Xv(a)}function vc(a,t){jt(a.node.children,(i,l)=>{t(new Sh(i,a,l))})}function Kv(a,t,i,l){i&&t(a),vc(a,o=>{Kv(o,t,!0)})}function VN(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function ur(a){return new Le(a.parent===null?a.name:ur(a.parent)+"/"+a.name)}function Ad(a){a.parent!==null&&GN(a.parent,a.name,a)}function GN(a,t,i){const l=qN(i),o=ii(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,Ad(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,Ad(a))}const PN=/[\[\].#$\/\u0000-\u001F\u007F]/,YN=/[\[\].#$\u0000-\u001F\u007F]/,ad=10*1024*1024,Zv=function(a){return typeof a=="string"&&a.length!==0&&!PN.test(a)},Wv=function(a){return typeof a=="string"&&a.length!==0&&!YN.test(a)},FN=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Wv(a)},Jv=function(a,t,i,l){l&&t===void 0||Th(jd(a,"value"),t,i)},Th=function(a,t,i){const l=i instanceof Le?new uw(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+os(l));if(typeof t=="function")throw new Error(a+"contains a function "+os(l)+" with contents = "+t.toString());if(W0(t))throw new Error(a+"contains "+t.toString()+" "+os(l));if(typeof t=="string"&&t.length>ad/3&&uc(t)>ad)throw new Error(a+"contains a string greater than "+ad+" utf8 bytes "+os(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(jt(t,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!Zv(d)))throw new Error(a+" contains an invalid key ("+d+") "+os(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fw(l,d),Th(a,m,l),dw(l)}),o&&f)throw new Error(a+' contains ".value" child '+os(l)+" in addition to actual children.")}},$v=function(a,t,i,l){if(!Wv(i))throw new Error(jd(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QN=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$v(a,t,i)},Ch=function(a,t){if(ce(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},XN=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Zv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!FN(i))throw new Error(jd(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class KN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xh(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!nh(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function eb(a,t,i){xh(a,i),tb(a,l=>nh(l,t))}function ni(a,t,i){xh(a,i),tb(a,l=>gn(l,t)||gn(t,l))}function tb(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?(ZN(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function ZN(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();ql&&St("event: "+i.toString()),Da(l)}}}const WN="repo_interrupt",JN=25;class $N{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$o(),this.transactionQueueTree_=new Sh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function e2(a,t,i){if(a.stats_=eh(a.repoInfo_),a.forceRestClient_||Ux())a.server_=new Jo(a.repoInfo_,(l,o,f,d)=>{By(a,l,o,f,d)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>qy(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ht(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Jn(a.repoInfo_,t,(l,o,f,d)=>{By(a,l,o,f,d)},l=>{qy(a,l)},l=>{t2(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=Bx(a.repoInfo_,()=>new jw(a.stats_,a.server_)),a.infoData_=new Iw,a.infoSyncTree_=new zy({startListening:(l,o,f,d)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=_c(a.infoSyncTree_,l._path,g),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),Nh(a,"connected",!1),a.serverSyncTree_=new zy({startListening:(l,o,f,d)=>(a.server_.listen(l,f,o,(m,g)=>{const p=d(m,g);ni(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function nb(a){const i=a.infoData_.getNode(new Le(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function wh(a){return zN({timestamp:nb(a)})}function By(a,t,i,l,o){a.dataUpdateCount++;const f=new Le(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(l){const g=qo(i,p=>vt(p));d=MN(a.serverSyncTree_,f,g,o)}else{const g=vt(i);d=ON(a.serverSyncTree_,f,g,o)}else if(l){const g=qo(i,p=>vt(p));d=AN(a.serverSyncTree_,f,g)}else{const g=vt(i);d=_c(a.serverSyncTree_,f,g)}let m=f;d.length>0&&(m=bc(a,f)),ni(a.eventQueue_,m,d)}function qy(a,t){Nh(a,"connected",t),t===!1&&i2(a)}function t2(a,t){jt(t,(i,l)=>{Nh(a,i,l)})}function Nh(a,t,i){const l=new Le("/.info/"+t),o=vt(i);a.infoData_.updateSnapshot(l,o);const f=_c(a.infoSyncTree_,l,o);ni(a.eventQueue_,l,f)}function ib(a){return a.nextWriteId_++}function n2(a,t,i,l,o){Ah(a,"set",{path:t.toString(),value:i,priority:l});const f=wh(a),d=vt(i,l),m=mh(a.serverSyncTree_,t),g=Fv(d,m,f),p=ib(a),S=Vv(a.serverSyncTree_,t,g,p,!0);xh(a.eventQueue_,S),a.server_.put(t.toString(),d.val(!0),(E,z)=>{const L=E==="ok";L||zt("set at "+t+" failed: "+E);const K=fs(a.serverSyncTree_,p,!L);ni(a.eventQueue_,t,K),l2(a,o,E,z)});const b=ob(a,t);bc(a,b),ni(a.eventQueue_,b,[])}function i2(a){Ah(a,"onDisconnectEvents");const t=wh(a),i=$o();Sd(a.onDisconnect_,xe(),(o,f)=>{const d=BN(o,f,a.serverSyncTree_,t);Av(i,o,d)});let l=[];Sd(i,xe(),(o,f)=>{l=l.concat(_c(a.serverSyncTree_,o,f));const d=ob(a,o);bc(a,d)}),a.onDisconnect_=$o(),ni(a.eventQueue_,xe(),l)}function s2(a,t,i){let l;ce(t._path)===".info"?l=jy(a.infoSyncTree_,t,i):l=jy(a.serverSyncTree_,t,i),eb(a.eventQueue_,t._path,l)}function Rd(a,t,i){let l;ce(t._path)===".info"?l=Nd(a.infoSyncTree_,t,i):l=Nd(a.serverSyncTree_,t,i),eb(a.eventQueue_,t._path,l)}function a2(a){a.persistentConnection_&&a.persistentConnection_.interrupt(WN)}function Ah(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),St(i,...t)}function l2(a,t,i,l){t&&Da(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const d=new Error(f);d.code=o,t(d)}})}function sb(a,t,i){return mh(a.serverSyncTree_,t,i)||J.EMPTY_NODE}function Rh(a,t=a.transactionQueueTree_){if(t||Sc(a,t),Oa(t)){const i=lb(a,t);j(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&r2(a,ur(t),i)}else Xv(t)&&vc(t,i=>{Rh(a,i)})}function r2(a,t,i){const l=i.map(p=>p.currentWriteId),o=sb(a,t,l);let f=o;const d=o.hash();for(let p=0;p<i.length;p++){const S=i[p];j(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const b=Ut(t,S.path);f=f.updateChild(b,S.currentOutputSnapshotRaw)}const m=f.val(!0),g=t;a.server_.put(g.toString(),m,p=>{Ah(a,"transaction put response",{path:g.toString(),status:p});let S=[];if(p==="ok"){const b=[];for(let E=0;E<i.length;E++)i[E].status=2,S=S.concat(fs(a.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&b.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Sc(a,Eh(a.transactionQueueTree_,t)),Rh(a,a.transactionQueueTree_),ni(a.eventQueue_,t,S);for(let E=0;E<b.length;E++)Da(b[E])}else{if(p==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{zt("transaction at "+g.toString()+" failed: "+p);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=p}bc(a,t)}},d)}function bc(a,t){const i=ab(a,t),l=ur(i),o=lb(a,i);return o2(a,o,l),l}function o2(a,t,i){if(t.length===0)return;const l=[];let o=[];const d=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=Ut(i,g.path);let S=!1,b;if(j(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)S=!0,b=g.abortReason,o=o.concat(fs(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=JN)S=!0,b="maxretry",o=o.concat(fs(a.serverSyncTree_,g.currentWriteId,!0));else{const E=sb(a,g.path,d);g.currentInputSnapshot=E;const z=t[m].update(E.val());if(z!==void 0){Th("transaction failed: Data returned ",z,g.path);let L=vt(z);typeof z=="object"&&z!=null&&ii(z,".priority")||(L=L.updatePriority(E.getPriority()));const fe=g.currentWriteId,_e=wh(a),ae=Fv(L,E,_e);g.currentOutputSnapshotRaw=L,g.currentOutputSnapshotResolved=ae,g.currentWriteId=ib(a),d.splice(d.indexOf(fe),1),o=o.concat(Vv(a.serverSyncTree_,g.path,ae,g.currentWriteId,g.applyLocally)),o=o.concat(fs(a.serverSyncTree_,fe,!0))}else S=!0,b="nodata",o=o.concat(fs(a.serverSyncTree_,g.currentWriteId,!0))}ni(a.eventQueue_,i,o),o=[],S&&(t[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(b==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(b),!1,null))))}Sc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)Da(l[m]);Rh(a,a.transactionQueueTree_)}function ab(a,t){let i,l=a.transactionQueueTree_;for(i=ce(t);i!==null&&Oa(l)===void 0;)l=Eh(l,i),t=ze(t),i=ce(t);return l}function lb(a,t){const i=[];return rb(a,t,i),i.sort((l,o)=>l.order-o.order),i}function rb(a,t,i){const l=Oa(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);vc(t,o=>{rb(a,o,i)})}function Sc(a,t){const i=Oa(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,Qv(t,i.length>0?i:void 0)}vc(t,l=>{Sc(a,l)})}function ob(a,t){const i=ur(ab(a,t)),l=Eh(a.transactionQueueTree_,t);return VN(l,o=>{ld(a,o)}),ld(a,l),Kv(l,o=>{ld(a,o)}),i}function ld(a,t){const i=Oa(t);if(i){const l=[];let o=[],f=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(j(f===d-1,"All SENT items should be at beginning of queue."),f=d,i[d].status=3,i[d].abortReason="set"):(j(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(fs(a.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&l.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Qv(t,void 0):i.length=f+1,ni(a.eventQueue_,ur(t),o);for(let d=0;d<l.length;d++)Da(l[d])}}function c2(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function u2(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):zt(`Invalid query segment '${i}' in query '${a}'`)}return t}const Vy=function(a,t){const i=f2(a),l=i.namespace;i.domain==="firebase.com"&&ti(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||wx();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new cv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Le(i.pathString)}},f2=function(a){let t="",i="",l="",o="",f="",d=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let S=a.indexOf("/");S===-1&&(S=a.length);let b=a.indexOf("?");b===-1&&(b=a.length),t=a.substring(0,Math.min(S,b)),S<b&&(o=c2(a.substring(S,b)));const E=u2(a.substring(Math.min(a.length,b)));p=t.indexOf(":"),p>=0?(d=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const z=t.slice(0,p);if(z.toLowerCase()==="localhost")i="localhost";else if(z.split(".").length<=2)i=z;else{const L=t.indexOf(".");l=t.substring(0,L).toLowerCase(),i=t.substring(L+1),f=l}"ns"in E&&(f=E.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:d,scheme:m,pathString:o,namespace:f}};const Gy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",d2=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Gy.charAt(i%64),i=Math.floor(i/64);j(i===0,"Cannot push at time == 0");let d=f.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=Gy.charAt(t[o]);return j(d.length===20,"nextPushId: Length should be 20."),d}})();class h2{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ht(this.snapshot.exportVal())}}class m2{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class p2{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return j(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Dh{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return me(this._path)?null:yv(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const t=wy(this._queryParams),i=Jd(t);return i==="{}"?"default":i}get _queryObject(){return wy(this._queryParams)}isEqual(t){if(t=Ht(t),!(t instanceof Dh))return!1;const i=this._repo===t._repo,l=nh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+cw(this._path)}}class Hi extends Dh{constructor(t,i){super(t,i,new lh,!1)}get parent(){const t=bv(this._path);return t===null?null:new Hi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class rc{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Le(t),l=tr(this.ref,t);return new rc(this._node.getChild(i),l,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new rc(o,tr(this.ref,l),Xe)))}hasChild(t){const i=new Le(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function as(a,t){return a=Ht(a),a._checkNotDeleted("ref"),t!==void 0?tr(a._root,t):a._root}function tr(a,t){return a=Ht(a),ce(a._path)===null?QN("child","path",t):$v("child","path",t),new Hi(a._repo,lt(a._path,t))}function rd(a,t){a=Ht(a),Ch("push",a._path),Jv("push",t,a._path,!0);const i=nb(a._repo),l=d2(i),o=tr(a,l),f=tr(a,l);let d;return d=Promise.resolve(f),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function Py(a){return Ch("remove",a._path),Ll(a,null)}function Ll(a,t){a=Ht(a),Ch("set",a._path),Jv("set",t,a._path,!1);const i=new cc;return n2(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}class Oh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new h2("value",this,new rc(t.snapshotNode,new Hi(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new m2(this,t,i):null}matches(t){return t instanceof Oh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function g2(a,t,i,l,o){let f;if(typeof l=="object"&&(f=void 0,o=l),typeof l=="function"&&(f=l),o&&o.onlyOnce){const g=i,p=(S,b)=>{Rd(a._repo,a,m),g(S,b)};p.userCallback=i.userCallback,p.context=i.context,i=p}const d=new p2(i,f||void 0),m=new Oh(d);return s2(a._repo,a,m),()=>Rd(a._repo,a,m)}function _2(a,t,i,l){return g2(a,"value",t,i,l)}function y2(a,t,i){Rd(a._repo,a,null)}vN(Hi);xN(Hi);const v2="FIREBASE_DATABASE_EMULATOR_HOST",Dd={};let b2=!1;function S2(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),d=xa(f);a.repoInfo_=new cv(t,d,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function E2(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let d=Vy(f,o),m=d.repoInfo,g;typeof process<"u"&&oy&&(g=oy[v2]),g?(f=`http://${g}?ns=${m.namespace}`,d=Vy(f,o),m=d.repoInfo):d.repoInfo.secure;const p=new zx(a.name,a.options,t);XN("Invalid Firebase Database URL",d),me(d.path)||ti("Database URL must point to the root of a Firebase Database (not including a child path).");const S=C2(m,a,p,new Lx(a,i));return new x2(S,a)}function T2(a,t){const i=Dd[t];(!i||i[a.key]!==a)&&ti(`Database ${t}(${a.repoInfo_}) has already been deleted.`),a2(a),delete i[a.key]}function C2(a,t,i,l){let o=Dd[t.name];o||(o={},Dd[t.name]=o);let f=o[a.toURLString()];return f&&ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new $N(a,b2,i,l),o[a.toURLString()]=f,f}class x2{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(e2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(T2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ti("Cannot call "+t+" on a deleted database.")}}function w2(a=p0(),t){const i=qd(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=GS("database");l&&N2(i,...l)}return i}function N2(a,t,i,l={}){a=Ht(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&hs(l,f.repoInfo_.emulatorOptions))return;ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new zo(zo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:PS(l.mockUserToken,a.app.options.projectId);d=new zo(m)}xa(t)&&(o0(t),c0("Database",!0)),S2(f,o,l,d)}function A2(a){bx(Na),va(new ms("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return E2(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),ki(cy,uy,a),ki(cy,uy,"esm2020")}Jn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Jn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};A2();const R2=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D2=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,l)=>l?l.toUpperCase():i.toLowerCase()),Yy=a=>{const t=D2(a);return t.charAt(0).toUpperCase()+t.slice(1)},cb=(...a)=>a.filter((t,i,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===i).join(" ").trim(),O2=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var M2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I2=oe.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:f,iconNode:d,...m},g)=>oe.createElement("svg",{ref:g,...M2,width:t,height:t,stroke:a,strokeWidth:l?Number(i)*24/Number(t):i,className:cb("lucide",o),...!f&&!O2(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,S])=>oe.createElement(p,S)),...Array.isArray(f)?f:[f]]));const rt=(a,t)=>{const i=oe.forwardRef(({className:l,...o},f)=>oe.createElement(I2,{ref:f,iconNode:t,className:cb(`lucide-${R2(Yy(a))}`,`lucide-${a}`,l),...o}));return i.displayName=Yy(a),i};const k2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fy=rt("arrow-left",k2);const U2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qy=rt("arrow-right",U2);const L2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Xy=rt("calendar",L2);const z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ub=rt("circle-plus",z2);const j2=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],H2=rt("cloud-off",j2);const B2=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Ky=rt("cloud",B2);const q2=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Od=rt("dollar-sign",q2);const V2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Md=rt("download",V2);const G2=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],P2=rt("hard-drive",G2);const Y2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zy=rt("lock",Y2);const F2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Q2=rt("log-out",F2);const X2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],K2=rt("save",X2);const Z2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W2=rt("search",Z2);const J2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wy=rt("settings",J2);const $2=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],eA=rt("tag",$2);const tA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fb=rt("trash-2",tA);const nA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jo=rt("triangle-alert",nA);const iA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sA=rt("upload",iA);const aA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jy=rt("user",aA),$y={apiKey:"AIzaSyCchJ0xoRHhNC7NcuWdzmLxlbEyH3fOZA0",authDomain:"expense-manaeger.firebaseapp.com",databaseURL:"https://expense-manaeger-default-rtdb.firebaseio.com",projectId:"expense-manaeger",storageBucket:"expense-manaeger.firebasestorage.app",messagingSenderId:"773230073358",appId:"1:773230073358:web:2cf7feee179a90c85c4e5f"},oc="moneytrack_local_expenses",zl=["Shopping","Food","Travel","Hospital","Wife","Baby","Me","Bills","Other"],Id=["id","userId","amount","currency","description","tag","timestamp","dateStr","timeStr","syncStatus"],ls=a=>`users/${a}/expenses`,od=a=>typeof a=="number"?new Date(a):new Date(a),jl=(a,t)=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(a)}catch{return`${t} ${parseFloat(a.toFixed(2))}`}},Pe=(a,t,i=!1,l=()=>{},o=()=>{})=>{const f=()=>{const m=document.getElementById("custom-alert-modal");m&&document.body.removeChild(m)};f();const d=document.createElement("div");d.id="custom-alert-modal",d.className="fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4",d.innerHTML=`
        <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm transform transition-all">
            <h3 class="text-xl font-bold mb-3 text-indigo-700">${a}</h3>
            <p class="text-gray-700 mb-6 text-sm whitespace-pre-wrap">${t}</p>
            <div class="flex justify-end space-x-2">
              ${i?`
                <button id="cancel-modal-btn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-150">
                    Cancel
                </button>
                <button id="confirm-modal-btn" class="px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 transition duration-150">
                    Confirm
                </button>
              `:`
                <button id="close-modal-btn" class="w-full py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150">
                    OK
                </button>
              `}
            </div>
        </div>
    `,document.body.appendChild(d),i?(document.getElementById("cancel-modal-btn")?.addEventListener("click",()=>{o(),f()}),document.getElementById("confirm-modal-btn")?.addEventListener("click",()=>{l(),f()})):document.getElementById("close-modal-btn")?.addEventListener("click",f)},e0=({expense:a,onDelete:t,showDate:i=!1,currency:l,isOnline:o})=>{const f=a.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),d=a.timestamp.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=a.syncStatus==="pending",g=a.syncStatus==="synced"&&!o,p=Xn.useMemo(()=>({Shopping:"bg-pink-100 text-pink-700",Food:"bg-green-100 text-green-700",Travel:"bg-blue-100 text-blue-700",Hospital:"bg-red-100 text-red-700",Wife:"bg-purple-100 text-purple-700",Baby:"bg-yellow-100 text-yellow-700",Me:"bg-indigo-100 text-indigo-700",Bills:"bg-cyan-100 text-cyan-700",Other:"bg-gray-100 text-gray-700"})[a.tag]||"bg-gray-100 text-gray-700",[a.tag]);return y.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg shadow-sm hover:shadow-md transition duration-200 ${m?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex-grow min-w-0",children:[y.jsx("div",{className:"text-xs font-semibold text-gray-500 mb-1",children:i?d:f}),y.jsx("p",{className:"text-sm font-medium truncate text-gray-800",children:a.description}),y.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[y.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${p}`,children:a.tag}),m&&y.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-orange-500 text-white flex items-center",children:[y.jsx(K2,{className:"w-3 h-3 mr-1"})," Pending"]}),a.currency!==l&&y.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["(",a.currency,")"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[y.jsx("span",{className:"text-lg font-extrabold text-red-600 flex-shrink-0",children:jl(a.amount,a.currency)}),y.jsx("button",{onClick:()=>t(a.id),className:"p-1 text-red-400 hover:text-red-600 transition duration-150 hover:bg-red-50 rounded-full disabled:opacity-50","aria-label":"Delete Expense",disabled:g,children:y.jsx(fb,{className:"w-5 h-5"})})]})]})},lA=({form:a,handleFormClose:t,handleFormChange:i,handleAddExpense:l,loading:o,isAuthenticated:f,isOnline:d,currency:m})=>y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center",children:[y.jsx(ub,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Add New Expense"]}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"amount",children:["Amount (",m,")"]}),y.jsxs("div",{className:"relative",children:[y.jsx(Od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"number",id:"amount",name:"amount",value:a.amount,onChange:i,step:"0.01",min:"0.01",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., 49.99"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"date",children:"Date"}),y.jsx("input",{type:"date",id:"date",name:"date",value:a.date,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"time",children:"Time"}),y.jsx("input",{type:"time",id:"time",name:"time",value:a.time,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"description",children:"Description (Why)"}),y.jsx("input",{type:"text",id:"description",name:"description",value:a.description,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., Groceries at Whole Foods"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"tag",children:"Category Tag"}),y.jsxs("div",{className:"relative",children:[y.jsx(eA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("select",{id:"tag",name:"tag",value:a.tag,onChange:i,required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 appearance-none transition duration-150",children:zl.map(g=>y.jsx("option",{value:g,children:g},g))}),y.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),y.jsxs("div",{className:"flex justify-end pt-4",children:[y.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 mr-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-150",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:o||!f&&!d,className:"px-6 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-150 disabled:opacity-50",children:o?"Processing...":d&&f?"Save to Cloud":"Save Locally"})]})]}),!d&&y.jsxs("p",{className:"mt-4 p-2 text-xs text-orange-600 bg-orange-100 rounded-lg flex items-center",children:[y.jsx(jo,{className:"w-4 h-4 mr-1"}),"You are offline. This expense will be saved locally and sync automatically when you reconnect."]})]}),rA=(a,t)=>{try{const i=localStorage.getItem(oc);if(i){const l=JSON.parse(i).map(d=>({...d,timestamp:new Date(d.timestamp),syncStatus:d.syncStatus||"synced"})),o=l.filter(d=>d.syncStatus==="synced"),f=l.filter(d=>d.syncStatus==="pending");o.sort((d,m)=>m.timestamp.getTime()-d.timestamp.getTime()),f.sort((d,m)=>m.timestamp.getTime()-d.timestamp.getTime()),a(o),t(f)}}catch(i){console.error("Error loading from localStorage:",i)}},Mo=(a,t)=>{try{const i=[...a,...t];localStorage.setItem(oc,JSON.stringify(i))}catch(i){console.error("Error saving to localStorage:",i)}},oA=a=>{const t=Id.join(",")+`
`,i=a.map(l=>[l.id||"",l.userId,l.amount.toString(),l.currency,`"${l.description.replace(/"/g,'""')}"`,l.tag,l.timestamp.toISOString(),l.dateStr,l.timeStr,l.syncStatus].join(",")).join(`
`);return t+i},cA=a=>{const t=a.trim().split(`
`);if(t.length<2)return[];if(t[0].split(",").map(o=>o.trim()).slice(0,9).join(",")!==Id.slice(0,9).join(","))throw new Error("Invalid CSV format. Headers do not match expected schema.");const l=[];for(let o=1;o<t.length;o++){const f=t[o].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(f.length>=Id.length-1){const d=parseFloat(f[2]);if(isNaN(d))continue;l.push({id:f[0],userId:f[1],amount:d,currency:f[3],description:f[4].replace(/^"|"$/g,"").replace(/""/g,'"'),tag:f[5],timestamp:new Date(f[6]),dateStr:f[7],timeStr:f[8],syncStatus:f[9]==="synced"?"synced":"pending"})}}return l},uA=()=>{const[a,t]=Xn.useState(()=>localStorage.getItem("moneytrack_export_url")||""),[i,l]=Xn.useState(()=>localStorage.getItem("moneytrack_currency")||"USD"),o=Xn.useCallback(d=>{localStorage.setItem("moneytrack_export_url",d),t(d)},[]),f=Xn.useCallback(d=>{const m=d.toUpperCase().substring(0,3);localStorage.setItem("moneytrack_currency",m),l(m)},[]);return{exportUrl:a,currency:i,updateExportUrl:o,updateCurrency:f}},fA=()=>{const{exportUrl:a,currency:t,updateExportUrl:i,updateCurrency:l}=uA(),[o,f]=oe.useState([]),[d,m]=oe.useState([]),[g,p]=oe.useState(!0),[S,b]=oe.useState(null),[E,z]=oe.useState(null),[L,K]=oe.useState(navigator.onLine),[fe,_e]=oe.useState(null),[ae,Re]=oe.useState(null),ye=!!ae,[We,ke]=oe.useState("list"),[ne,ot]=oe.useState(new Date().getMonth()),[Je,on]=oe.useState(new Date().getFullYear()),[Bt,$e]=oe.useState(30),[Kt,cn]=oe.useState([`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`]),[Ye,D]=oe.useState("all"),[B,W]=oe.useState(""),[be,we]=oe.useState(""),[C,k]=oe.useState(""),[q,P]=oe.useState([]),[ee,le]=oe.useState({amount:"",description:"",tag:zl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),X=oe.useMemo(()=>[...o,...d].sort((U,H)=>H.timestamp.getTime()-U.timestamp.getTime()),[o,d]),qe=oe.useMemo(()=>{let U=[...X];if(Ye==="current"){const H=new Date;U=U.filter(G=>{const V=G.timestamp;return V.getMonth()===H.getMonth()&&V.getFullYear()===H.getFullYear()})}else if(Ye==="selected"&&Kt.length>0)U=U.filter(H=>{const G=H.timestamp,V=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`;return Kt.includes(V)});else if(Ye==="custom"&&B&&be){const H=new Date(B),G=new Date(be);G.setHours(23,59,59,999),U=U.filter(V=>{const ie=V.timestamp;return ie>=H&&ie<=G})}return C.trim()&&(U=U.filter(H=>H.description.toLowerCase().includes(C.toLowerCase()))),q.length>0&&(U=U.filter(H=>q.includes(H.tag))),U},[X,Ye,Kt,B,be,C,q]),Ve=Xn.useRef(o),Zt=Xn.useRef(d);Xn.useEffect(()=>{Ve.current=o,Zt.current=d},[o,d]);const An=Xn.useRef(!1);oe.useEffect(()=>{const U=()=>{K(!0),console.log("App is Online")},H=()=>{K(!1),console.log("App is Offline")};return window.addEventListener("online",U),window.addEventListener("offline",H),rA(f,m),()=>{window.removeEventListener("online",U),window.removeEventListener("offline",H)}},[]);const Ma=oe.useCallback(async()=>{if(E){p(!0);try{const U=new Qn;await NC(E,U)}catch(U){console.error("Google Sign-In Failed:",U),Pe("Sign-In Failed",`Could not sign in with Google. Details: ${U.message||"Unknown error"}`)}finally{p(!1)}}},[E]),Ss=oe.useCallback(async()=>{if(E)try{await rC(E),localStorage.removeItem(oc),Re(null),f([]),m([]),_e(null),ke("auth")}catch(U){console.error("Sign-Out Failed:",U)}},[E]);oe.useEffect(()=>{(async()=>{if(Object.keys($y).length===0){console.error("Firebase config is empty. Cannot initialize."),p(!1),ke("auth");return}const H=m0($y),G=w2(H),V=yx(H);b(G),z(V);const ie=lC(V,Se=>{Se?(Re(Se),ke("list")):(Re(null),p(!1),X.length===0&&ke("auth"))});return()=>ie()})()},[]);const bn=async(U,H)=>{if(!S||An.current)return;An.current=!0,p(!0);const G=as(S,ls(H)),V=U.map(ie=>{const{id:Se,syncStatus:st,...Ct}=ie,qt=rd(G);return Ll(qt,{...Ct,timestamp:ie.timestamp.getTime()})});try{await Promise.all(V),m([]),Zt.current=[],Mo(Ve.current,[])}catch(ie){console.error("Error during sync of pending data:",ie),Pe("Sync Failed",`Failed to upload offline data: ${ie.message}.`)}finally{p(!1),An.current=!1}};oe.useEffect(()=>{L&&ye&&S&&ae&&Zt.current.length>0&&!An.current&&(console.log(`Auto-sync triggered: ${Zt.current.length} pending items.`),bn(Zt.current,ae.uid))},[L,ye,S,ae]),oe.useEffect(()=>{if(!S||!ae||!L){p(!1);return}p(!0);const U=as(S,ls(ae.uid));return _2(U,H=>{const G=H.val(),V=[];G&&Object.keys(G).forEach(ie=>{V.push({id:ie,...G[ie],timestamp:od(G[ie].timestamp),syncStatus:"synced"})}),V.sort((ie,Se)=>Se.timestamp.getTime()-ie.timestamp.getTime()),f(V),p(!1),Mo(V,Zt.current)},H=>{console.error("Error fetching documents:",H),p(!1),ye&&L&&Pe("Access Denied","Could not load data. Check auth/rules.",!1,()=>Ss())}),()=>y2(U)},[S,ae,L,ye,Ss]);const Ia=U=>{const{name:H,value:G}=U.target;le(V=>({...V,[H]:G}))},ka=()=>{le({amount:"",description:"",tag:zl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),ke("list")},Ec=async U=>{U.preventDefault();const{amount:H,description:G,tag:V,date:ie,time:Se}=ee,st=parseFloat(H),Ct=ae?.uid||"offline-user";if(isNaN(st)||st<=0||!G||!ie||!Se){Pe("Invalid Input","Please ensure the amount is positive and all fields are filled.");return}try{p(!0);const qt=new Date(`${ie}T${Se}:00`),mr={id:L?"":`local-${Date.now()}`,userId:Ct,amount:st,currency:t,description:G,tag:V,timestamp:qt,dateStr:ie,timeStr:Se,syncStatus:L&&ye?"synced":"pending"};if(L&&ye&&S&&ae){const{id:ja,syncStatus:xs,...pr}=mr,Ha=as(S,ls(ae.uid)),Ba=rd(Ha);await Ll(Ba,{...pr,timestamp:qt.getTime()})}else m(ja=>{const xs=[...ja,mr];return Mo(o,xs),xs});le({amount:"",description:"",tag:zl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),ke("list")}catch(qt){console.error("Error adding expense:",qt),Pe("Save Error",`Failed to save expense: ${qt.message}`)}finally{p(!1)}},Ua=async U=>{if(U){if(U.startsWith("local-")){Pe("Confirm Local Deletion","Are you sure you want to delete this pending expense? It has not been synced to the cloud.",!0,()=>{m(H=>{const G=H.filter(V=>V.id!==U);return Mo(o,G),G}),Pe("Expense Deleted","Locally pending expense removed.")});return}if(!S||!ae){Pe("Permission Denied","Cannot delete synced item without authentication.");return}Pe("Confirm Cloud Deletion","Are you sure you want to permanently delete this expense from the cloud?",!0,async()=>{try{if(p(!0),!L){Pe("Offline Warning","Cannot delete a synced item while offline. Please try again when online."),p(!1);return}const H=as(S,`${ls(ae.uid)}/${U}`);await Py(H)}catch(H){console.error("Error deleting expense:",H),Pe("Delete Error",`Failed to delete expense: ${H.message}`)}finally{p(!1)}})}},{filteredExpenses:Bi,monthlyTotal:La}=oe.useMemo(()=>{const U=X.filter(G=>{const V=G.timestamp;return V.getMonth()===ne&&V.getFullYear()===Je}),H=U.reduce((G,V)=>G+V.amount,0);return{filteredExpenses:U,monthlyTotal:H}},[X,ne,Je]),Es=oe.useMemo(()=>{const U={},H=X.filter(G=>od(G.timestamp).getFullYear()===Je);for(let G=0;G<12;G++)U[G]={total:0,count:0,monthName:new Date(Je,G).toLocaleString("en-US",{month:"short"})};return H.forEach(G=>{const V=od(G.timestamp).getMonth();U[V].total+=G.amount,U[V].count+=1}),Object.values(U)},[X,Je]),Tc=()=>{const U=new Date(Je,ne-1,1);ot(U.getMonth()),on(U.getFullYear())},Cc=()=>{const U=new Date(Je,ne+1,1);ot(U.getMonth()),on(U.getFullYear())},fr=new Date(Je,ne).toLocaleString("en-US",{month:"long",year:"numeric"}),dr=oe.useMemo(()=>{const U=new Set;return X.forEach(H=>{const G=H.timestamp,V=`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`;U.add(V)}),Array.from(U).sort().reverse()},[X]),hr=U=>{cn(H=>H.includes(U)?H.filter(G=>G!==U):[...H,U])},Ts=U=>{P(H=>H.includes(U)?H.filter(G=>G!==U):[...H,U])},xc=oe.useMemo(()=>qe.reduce((U,H)=>U+H.amount,0),[qe]),za=oe.useMemo(()=>{const U=new Set;return X.forEach(H=>{U.add(H.timestamp.getFullYear())}),Array.from(U).sort((H,G)=>G-H)},[X]),wc=()=>{const U=qe.slice(0,Bt),H=Bt<qe.length,G=V=>{const ie=V.target;ie.scrollHeight-ie.scrollTop<=ie.clientHeight+50&&H&&$e(st=>st+30)};return y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[y.jsx(Od,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Transactions"]}),y.jsx("div",{className:`flex items-center text-sm font-medium p-2 rounded-full ${L?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:L?y.jsxs(y.Fragment,{children:[y.jsx(Ky,{className:"w-4 h-4 mr-1"}),"Online",d.length>0&&y.jsx("span",{className:"ml-2 font-bold",children:`(${d.length} Pending)`})]}):y.jsxs(y.Fragment,{children:[y.jsx(H2,{className:"w-4 h-4 mr-1"}),"Offline"]})})]}),y.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-md",children:y.jsxs("div",{className:"text-white",children:[y.jsx("p",{className:"text-sm font-medium opacity-90",children:"Total Amount"}),y.jsx("p",{className:"text-3xl font-extrabold",children:jl(xc,t)}),y.jsxs("p",{className:"text-xs opacity-80 mt-1",children:[qe.length," transaction",qe.length!==1?"s":""]})]})}),y.jsxs("div",{className:"mb-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex gap-2 flex-wrap",children:[y.jsx("button",{onClick:()=>{D("all"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"All Time"}),y.jsx("button",{onClick:()=>{D("current"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="current"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Current Month"}),y.jsx("button",{onClick:()=>{D("selected"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="selected"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Select Months"}),y.jsx("button",{onClick:()=>{D("custom"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="custom"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Custom Range"})]}),Ye==="selected"&&y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Select months to view:"}),y.jsx("div",{className:"flex gap-2 flex-wrap max-h-32 overflow-y-auto",children:dr.map(V=>{const[ie,Se]=V.split("-"),st=new Date(parseInt(ie),parseInt(Se)-1).toLocaleString("en-US",{month:"short",year:"numeric"});return y.jsx("button",{onClick:()=>hr(V),className:`px-2 py-1 text-xs font-medium rounded transition ${Kt.includes(V)?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:st},V)})})]}),Ye==="custom"&&y.jsxs("div",{className:"pt-2 border-t border-gray-200 grid grid-cols-2 gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Date"}),y.jsx("input",{type:"date",value:B,onChange:V=>W(V.target.value),className:"w-full p-1.5 text-xs border border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Date"}),y.jsx("input",{type:"date",value:be,onChange:V=>we(V.target.value),className:"w-full p-1.5 text-xs border border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500"})]})]}),y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Search by Description"}),y.jsxs("div",{className:"relative",children:[y.jsx(W2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",value:C,onChange:V=>k(V.target.value),placeholder:"Type to search...",className:"w-full pl-10 pr-4 p-2 text-sm border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"})]})]}),y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Filter by Tags"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:zl.map(V=>{const ie={Shopping:"bg-pink-100 text-pink-700 border-pink-300",Food:"bg-green-100 text-green-700 border-green-300",Travel:"bg-blue-100 text-blue-700 border-blue-300",Hospital:"bg-red-100 text-red-700 border-red-300",Wife:"bg-purple-100 text-purple-700 border-purple-300",Baby:"bg-yellow-100 text-yellow-700 border-yellow-300",Me:"bg-indigo-100 text-indigo-700 border-indigo-300",Bills:"bg-cyan-100 text-cyan-700 border-cyan-300",Other:"bg-gray-100 text-gray-700 border-gray-300"}[V]||"bg-gray-100 text-gray-700 border-gray-300",Se=q.includes(V);return y.jsx("button",{onClick:()=>Ts(V),className:`px-3 py-1 text-xs font-medium rounded-full border-2 transition ${Se?ie+" ring-2 ring-offset-1 ring-indigo-400":"bg-white text-gray-600 border-gray-200 hover:"+ie}`,children:V},V)})}),q.length>0&&y.jsx("button",{onClick:()=>P([]),className:"mt-2 text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"Clear tag filters"})]})]}),y.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:["Showing ",U.length," of ",qe.length," transactions"]}),g&&ye?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading cloud expenses..."}):qe.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500 border border-dashed rounded-lg",children:[y.jsx(P2,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),"No expenses found for the selected filter."]}):y.jsxs("div",{className:"space-y-3",style:{maxHeight:"50vh",overflowY:"auto"},onScroll:G,children:[U.map(V=>y.jsx(e0,{showDate:!0,expense:V,onDelete:Ua,currency:t,isOnline:L},V.id)),H&&y.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Scroll for more..."})]})]})},Nc=()=>{on(U=>U-1)},qi=()=>{on(U=>U+1)},Et=()=>{const U=H=>{ot(H)};return y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-800 flex items-center",children:[y.jsx(Xy,{className:"w-5 h-5 mr-2 text-green-500"}),"Financial Overview"]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 p-3 bg-indigo-50 rounded-lg shadow-inner",children:[y.jsx("button",{onClick:Nc,className:"p-2 text-indigo-700 hover:bg-indigo-200 rounded-full transition duration-150",children:y.jsx(Fy,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-grow text-center",children:[y.jsx("h3",{className:"text-xl font-bold text-indigo-800",children:Je}),za.length>0&&y.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:["Available: ",za.join(", ")]})]}),y.jsx("button",{onClick:qi,className:"p-2 text-indigo-700 hover:bg-indigo-200 rounded-full transition duration-150",children:y.jsx(Qy,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"mb-8 border border-gray-200 rounded-xl p-4 bg-gray-50",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:"Yearly Snapshot"}),y.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Click on any month to view transactions below"}),y.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-3",children:Es.map((H,G)=>{const V=ne===G;return y.jsxs("button",{onClick:()=>U(G),className:`p-2 text-center bg-white rounded-lg shadow-sm border-2 transition cursor-pointer ${V?"border-indigo-500 ring-2 ring-indigo-300 shadow-md":"border-indigo-100 hover:shadow-md hover:border-indigo-300"}`,children:[y.jsx("div",{className:"text-xs font-medium text-indigo-600",children:H.monthName}),y.jsx("div",{className:"text-sm font-bold text-gray-900",children:jl(H.total,t)}),y.jsxs("div",{className:"text-xs text-gray-500",children:[H.count," items"]})]},G)})}),y.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Year Total Expense:",y.jsx("span",{className:"font-bold text-indigo-600 ml-1",children:jl(Es.reduce((H,G)=>H+G.total,0),t)})]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 p-3 bg-green-50 rounded-lg shadow-inner",children:[y.jsx("button",{onClick:Tc,className:"p-2 text-green-700 hover:bg-green-200 rounded-full transition duration-150",children:y.jsx(Fy,{className:"w-5 h-5"})}),y.jsxs("h3",{className:"lg:text-lg font-semibold text-green-800 flex-grow text-center",children:[fr," Total:",y.jsx("span",{className:"font-extrabold ml-2",children:jl(La,t)})]}),y.jsx("button",{onClick:Cc,className:"p-2 text-green-700 hover:bg-green-200 rounded-full transition duration-150",children:y.jsx(Qy,{className:"w-5 h-5"})})]}),y.jsxs("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:["Transactions in ",fr," (",Bi.length,")"]}),Bi.length===0?y.jsx("p",{className:"text-center text-gray-500 py-6 border border-dashed rounded-lg",children:"No expenses recorded for this month."}):y.jsx("div",{className:"space-y-3",style:{maxHeight:"50vh",overflowY:"auto"},children:Bi.map(H=>y.jsx(e0,{expense:H,onDelete:Ua,showDate:!0,currency:t,isOnline:L},H.id))})]})},Sn=()=>y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center",children:[y.jsx(Wy,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Application Settings"]}),y.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-indigo-50 p-2 rounded-full font-medium",children:[y.jsx(Jy,{className:"w-4 h-4 text-indigo-500"}),y.jsx("span",{className:"truncate max-w-[80px] sm:max-w-none text-xs",children:ae?.email||"OFFLINE / ANONYMOUS"})]}),ye&&y.jsxs("button",{onClick:Ss,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150",children:[y.jsx(Q2,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"border-b pb-6 border-gray-100",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"General Settings"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"currency",children:"Default Currency Code (e.g., USD, EUR, INR)"}),y.jsx("input",{type:"text",id:"currency",value:t,onChange:U=>l(U.target.value),maxLength:3,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 uppercase",placeholder:"e.g., USD, EUR, INR",required:!0}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sets the default 3-letter currency code for new expenses."})]})]}),y.jsxs("div",{className:"border-b pb-6 border-gray-100",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"Cloud & Data Sync"}),d.length>0&&y.jsxs("div",{className:"mt-4 p-4 bg-orange-100 border-l-4 border-orange-500 text-orange-800 rounded-lg mb-4",children:[y.jsxs("p",{className:"font-semibold flex items-center mb-2",children:[y.jsx(jo,{className:"w-5 h-5 mr-2"}),"Offline Data: ",d.length," records pending cloud sync."]}),y.jsx("p",{className:"text-sm",children:"These records will automatically sync when you are online and signed in."}),!L&&y.jsx("p",{className:"text-xs mt-2 text-red-600",children:"You must be online to trigger synchronization."}),L&&ye&&y.jsxs("button",{onClick:()=>bn(d,ae.uid),disabled:g||!L,className:"mt-3 px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 disabled:opacity-50 w-full",children:[y.jsx(Ky,{className:"w-4 h-4 mr-2 inline"}),"Force Sync Now"]})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"exportUrl",children:"Google Sheets Web App URL"}),y.jsx("input",{type:"url",id:"exportUrl",value:a,onChange:U=>i(U.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., https://script.google.com/macros/s/...",required:!0,disabled:!ye}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL for manual export to Google Sheets. Requires sign-in."}),y.jsxs("button",{onClick:()=>Pe("Not Implemented","The Google Sheets Export function is not implemented in this version, but the URL is saved."),className:"mt-2 flex items-center px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transition duration-150 disabled:opacity-50 w-full",disabled:!ye||!L||X.length===0,children:[y.jsx(Md,{className:"w-4 h-4 mr-2"}),"Manual Export to Sheets"]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"CSV Backup & Restore"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use CSV files for manual local backups of ALL data (synced + pending)."}),y.jsxs("div",{className:"flex space-x-4",children:[y.jsxs("button",{onClick:()=>Ac(),disabled:g||X.length===0,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 transition duration-150 disabled:opacity-50 flex-grow justify-center",children:[y.jsx(Md,{className:"w-4 h-4 mr-2"}),"Backup (",X.length,")"]}),y.jsxs("button",{onClick:Rc,disabled:g,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150 disabled:opacity-50 flex-grow justify-center",children:[y.jsx(sA,{className:"w-4 h-4 mr-2"}),"Load CSV"]})]}),fe&&ye&&y.jsxs("div",{className:"mt-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded-lg",children:[y.jsxs("p",{className:"font-semibold flex items-center mb-2",children:[y.jsx(jo,{className:"w-5 h-5 mr-2"}),"Awaiting Sync: ",fe.length," records loaded from CSV."]}),y.jsx("p",{className:"text-sm",children:"Clicking 'Sync' will attempt to save these records to your cloud database."}),y.jsx("button",{onClick:()=>Tt(fe,ae.uid),disabled:g,className:"mt-3 px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transition duration-150 disabled:opacity-50 w-full",children:"Sync Loaded CSV Data to Cloud"})]}),fe&&!ye&&y.jsxs("div",{className:"mt-6 p-4 bg-red-100 border-l-4 border-red-500 text-red-800 rounded-lg",children:[y.jsx("p",{className:"font-semibold",children:"Sign In Required:"}),y.jsxs("p",{className:"text-sm",children:["Please sign in to save the ",fe.length," records loaded from CSV to your private cloud storage."]})]})]}),y.jsxs("div",{className:"mt-8 border-t-4 border-red-200 pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-3 text-red-700 flex items-center",children:[y.jsx(jo,{className:"w-5 h-5 mr-2"}),"Danger Zone"]}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete all your expense data. This action cannot be undone."}),y.jsxs("button",{onClick:Dc,disabled:g||X.length===0,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150 disabled:opacity-50 w-full justify-center",children:[y.jsx(fb,{className:"w-4 h-4 mr-2"}),"Delete All Data (",X.length," records)"]}),X.length===0&&y.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"No data to delete"})]})]})]}),Tt=async(U,H)=>{!S||!ae||Pe("Confirm CSV Import",`This will attempt to upload ${U.length} records from the CSV file. IDs will be used to prevent duplicates if they match existing records.`,!0,async()=>{p(!0);try{const G=as(S,ls(H)),V=new Set(o.map(Se=>Se.id)),ie=U.map(Se=>{const st={userId:H,amount:Se.amount,currency:Se.currency,description:Se.description,tag:Se.tag,timestamp:Se.timestamp.getTime(),dateStr:Se.dateStr,timeStr:Se.timeStr};if(Se.id&&!Se.id.startsWith("local-")&&V.has(Se.id)){const Ct=as(S,`${ls(H)}/${Se.id}`);return Ll(Ct,st)}else{const Ct=rd(G);return Ll(Ct,st)}});await Promise.all(ie),_e(null),Pe("Import Complete",`${ie.length} records processed and synchronized with the cloud.`)}catch(G){console.error("Error during CSV import sync:",G),Pe("Import Failed",`Failed to complete synchronization: ${G.message}.`)}finally{p(!1)}})},Ac=()=>{if(X.length===0){Pe("No Data","There are no expenses to backup.");return}const U=oA(X),H=new Blob([U],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(H),V=document.createElement("a");V.setAttribute("href",G),V.setAttribute("download",`moneytrack_backup_${new Date().toISOString().substring(0,10)}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V),Pe("Backup Successful",`${X.length} expenses downloaded as CSV.`)},Rc=()=>{const U=document.createElement("input");U.type="file",U.accept=".csv",U.style.display="none",U.onchange=H=>{const V=H.target.files?.[0];if(!V)return;const ie=new FileReader;ie.onload=Se=>{try{const st=Se.target?.result,Ct=cA(st);if(Ct.length===0){Pe("Restore Failed","The selected file contained no valid expense records."),_e(null);return}_e(Ct),Pe("Backup Loaded",`${Ct.length} records loaded from CSV. Go to Settings > Cloud & Data Sync to import them.`),ke("settings")}catch(st){console.error("CSV Parsing Error:",st),Pe("Restore Failed",`Error parsing CSV: ${st.message}`),_e(null)}},ie.onerror=()=>{Pe("Restore Failed","Could not read the file."),_e(null)},ie.readAsText(V)},U.click()},Dc=async()=>{Pe("Delete All Data",`WARNING: This will permanently delete ALL your expenses from both cloud and local storage. This action cannot be undone!

Are you sure you want to continue?`,!0,async()=>{try{if(p(!0),S&&ae&&L){const U=as(S,ls(ae.uid));await Py(U)}localStorage.removeItem(oc),f([]),m([]),_e(null),Pe("Data Deleted","All expense data has been permanently deleted.")}catch(U){console.error("Error deleting all data:",U),Pe("Delete Failed",`Failed to delete all data: ${U.message}`)}finally{p(!1)}})},Cs=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded-xl shadow-lg text-center h-full min-h-[300px]",children:[y.jsx(Zy,{className:"w-12 h-12 mb-4 text-indigo-500"}),y.jsx("h2",{className:"text-2xl font-bold mb-3 text-indigo-700",children:"Secure Access Required"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in with Google to enable cloud sync for your private expense data."}),g?y.jsxs("button",{disabled:!0,className:"flex items-center px-6 py-3 text-sm font-semibold text-white bg-gray-500 rounded-lg disabled:opacity-70",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):y.jsxs("button",{onClick:Ma,className:"flex items-center px-6 py-3 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150",children:[y.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M44 24.896c0-1.636-.14-3.232-.408-4.792H24v9.063h11.136c-.476 2.376-1.764 4.412-3.552 5.864l7.668 5.928c4.544-4.204 7.156-10.372 7.156-17.064z",fill:"#4285F4"}),y.jsx("path",{d:"M24 44c5.58 0 10.288-1.856 13.72-5.064l-7.668-5.928c-2.124 1.436-4.856 2.276-7.052 2.276-5.46 0-10.088-3.708-11.756-8.688H3.32l-.088 6.132c3.556 7.04 10.74 11.964 19.332 11.964z",fill:"#34A853"}),y.jsx("path",{d:"M12.244 27.656c-.512-1.536-.796-3.176-.796-4.896s.284-3.36.796-4.896l-.048-6.056H3.32C1.652 16.036.796 19.956.796 24c0 4.044.856 7.964 2.524 11.096l8.92-6.056z",fill:"#FBBC05"}),y.jsx("path",{d:"M24 15.312c2.964 0 5.612 1.056 7.708 2.972l6.572-6.572C33.84 5.956 29.324 4 24 4c-8.592 0-15.776 4.924-19.332 11.964l8.92 6.056C13.912 19.02 18.54 15.312 24 15.312z",fill:"#EA4335"})]}),"Sign In with Google"]})]});return g&&!ye&&X.length===0?y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans flex flex-col items-center justify-center p-4",children:[y.jsx("h1",{className:"text-4xl font-extrabold text-indigo-700 mb-4",children:"Sai"}),y.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500",children:[y.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("span",{children:"Loading App..."})]})]}):!ye&&We==="auth"&&X.length===0?y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans p-4 sm:p-6 flex flex-col items-center justify-center",children:[y.jsx("header",{className:"w-full max-w-2xl mb-6 text-center",children:y.jsx("h1",{className:"text-4xl font-extrabold text-indigo-700",children:"Sai"})}),y.jsx("main",{className:"w-full max-w-2xl flex-grow flex items-center justify-center",children:Cs()})]}):y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans p-4 sm:p-6 flex flex-col items-center w-full",children:[y.jsxs("header",{className:"w-full max-w-2xl flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h1",{className:"text-3xl font-extrabold text-indigo-700",children:"Sai"}),y.jsxs("span",{className:"text-sm text-gray-500",children:["(v",t,")"]})]}),ye&&y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-white p-2 rounded-full shadow-md",children:[y.jsx(Jy,{className:"w-4 h-4 text-indigo-500"}),y.jsx("span",{className:"truncate max-w-[80px] sm:max-w-none font-medium text-xs",children:ae?.email?ae.email.split("@")[0]:"UID"})]})]}),y.jsx("main",{className:"w-full max-w-2xl flex-grow mb-20 sm:mb-6",children:y.jsxs("div",{className:"mb-4",children:[We==="list"&&wc(),We==="add"&&y.jsx(lA,{form:ee,handleFormChange:Ia,handleFormClose:ka,handleAddExpense:Ec,loading:g,isAuthenticated:ye,isOnline:L,setView:ke,currency:t}),We==="stats"&&Et(),We==="settings"&&Sn(),We==="auth"&&!ye&&X.length>0&&y.jsxs("div",{className:"p-4 mb-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-lg",children:[y.jsxs("p",{className:"font-semibold flex items-center mb-1",children:[y.jsx(Zy,{className:"w-5 h-5 mr-2"}),"Cloud Sync Disabled"]}),y.jsx("p",{className:"text-sm",children:"You are viewing local data. Please go to **Settings** and sign in to access cloud features and sync pending items."})]})]})}),y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-xl sm:static sm:w-full sm:max-w-2xl sm:rounded-xl",children:y.jsxs("div",{className:"flex justify-around py-3",children:[y.jsxs("button",{onClick:()=>ke("list"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${We==="list"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx(Od,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Transactions"})]}),y.jsxs("button",{onClick:()=>ke("add"),className:"flex flex-col items-center justify-center -mt-6 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transform hover:scale-105 transition duration-200 ease-in-out border-4 border-white",children:[y.jsx(ub,{className:"w-8 h-8"}),y.jsx("span",{className:"sr-only",children:"Add Expense"})]}),y.jsxs("button",{onClick:()=>ke("stats"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${We==="stats"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx(Xy,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Stats"})]}),y.jsxs("button",{onClick:()=>ke("settings"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${We==="settings"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx(Wy,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Settings"})]})]})})]})},dA=a=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="UPDATE_AVAILABLE"?(console.log("[App] Received UPDATE_AVAILABLE message"),a()):t.data&&t.data.type==="APP_UPDATED"&&console.log("[App] App has been updated, reloading page")})})},hA=({onUpdate:a,onDismiss:t})=>y.jsx("div",{className:"fixed bottom-20 left-4 right-4 sm:left-auto sm:right-8 sm:bottom-8 sm:w-96 z-50 animate-slide-up",children:y.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl shadow-2xl p-4 border-2 border-white",children:y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx("div",{className:"flex-shrink-0 bg-white rounded-full p-2",children:y.jsx(Md,{className:"w-5 h-5 text-indigo-600"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h3",{className:"font-bold text-lg mb-1",children:"Update Available!"}),y.jsx("p",{className:"text-sm text-indigo-100 mb-3",children:"A new version of MoneyTrack is ready. Update now to get the latest features and improvements."}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:a,className:"flex-1 bg-white text-indigo-600 font-semibold py-2 px-4 rounded-lg hover:bg-indigo-50 transition duration-150",children:"Update Now"}),y.jsx("button",{onClick:t,className:"px-4 py-2 text-white hover:bg-white/20 rounded-lg transition duration-150",children:"Later"})]})]})]})})}),mA=()=>{const[a,t]=oe.useState(!1);oe.useEffect(()=>{dA(()=>{t(!0)})},[]);const i=()=>{},l=()=>{t(!1)};return y.jsxs(y.Fragment,{children:[y.jsx(fA,{}),a&&y.jsx(hA,{onUpdate:i,onDismiss:l})]})};IS.createRoot(document.getElementById("root")).render(y.jsx(oe.StrictMode,{children:y.jsx(mA,{})}));

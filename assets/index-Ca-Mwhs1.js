(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function wS(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Gf={exports:{}},Dl={};var R_;function NS(){if(R_)return Dl;R_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:d,ref:o!==void 0?o:null,props:f}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var D_;function AS(){return D_||(D_=1,Gf.exports=NS()),Gf.exports}var y=AS(),Pf={exports:{}},ne={};var O_;function RS(){if(O_)return ne;O_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,ce={};function ge(C,k,V){this.props=C,this.context=k,this.refs=ce,this.updater=V||U}ge.prototype.isReactComponent={},ge.prototype.setState=function(C,k){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,k,"setState")},ge.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ae(){}ae.prototype=ge.prototype;function De(C,k,V){this.props=C,this.context=k,this.refs=ce,this.updater=V||U}var ye=De.prototype=new ae;ye.constructor=De,K(ye,ge.prototype),ye.isPureReactComponent=!0;var Ze=Array.isArray;function Ce(){}var ie={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function Je(C,k,V){var P=V.ref;return{$$typeof:a,type:C,key:k,ref:P!==void 0?P:null,props:V}}function on(C,k){return Je(C.type,k,C.props)}function Bt(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function $e(C){var k={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(V){return k[V]})}var Kt=/\/+/g;function cn(C,k){return typeof C=="object"&&C!==null&&C.key!=null?$e(""+C.key):k.toString(36)}function Ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ce,Ce):(C.status="pending",C.then(function(k){C.status==="pending"&&(C.status="fulfilled",C.value=k)},function(k){C.status==="pending"&&(C.status="rejected",C.reason=k)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function D(C,k,V,P,ee){var le=typeof C;(le==="undefined"||le==="boolean")&&(C=null);var Q=!1;if(C===null)Q=!0;else switch(le){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(C.$$typeof){case a:case t:Q=!0;break;case S:return Q=C._init,D(Q(C._payload),k,V,P,ee)}}if(Q)return ee=ee(C),Q=P===""?"."+cn(C,0):P,Ze(ee)?(V="",Q!=null&&(V=Q.replace(Kt,"$&/")+"/"),D(ee,k,V,"",function(Wt){return Wt})):ee!=null&&(Bt(ee)&&(ee=on(ee,V+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Kt,"$&/")+"/")+Q)),k.push(ee)),1;Q=0;var Ve=P===""?".":P+":";if(Ze(C))for(var Ge=0;Ge<C.length;Ge++)P=C[Ge],le=Ve+cn(P,Ge),Q+=D(P,k,V,le,ee);else if(Ge=z(C),typeof Ge=="function")for(C=Ge.call(C),Ge=0;!(P=C.next()).done;)P=P.value,le=Ve+cn(P,Ge++),Q+=D(P,k,V,le,ee);else if(le==="object"){if(typeof C.then=="function")return D(Ye(C),k,V,P,ee);throw k=String(C),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return Q}function q(C,k,V){if(C==null)return C;var P=[],ee=0;return D(C,P,"","",function(le){return k.call(V,le,ee++)}),P}function Z(C){if(C._status===-1){var k=C._result;k=k(),k.then(function(V){(C._status===0||C._status===-1)&&(C._status=1,C._result=V)},function(V){(C._status===0||C._status===-1)&&(C._status=2,C._result=V)}),C._status===-1&&(C._status=0,C._result=k)}if(C._status===1)return C._result.default;throw C._result}var be=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ne={map:q,forEach:function(C,k,V){q(C,function(){k.apply(this,arguments)},V)},count:function(C){var k=0;return q(C,function(){k++}),k},toArray:function(C){return q(C,function(k){return k})||[]},only:function(C){if(!Bt(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ne.Activity=b,ne.Children=Ne,ne.Component=ge,ne.Fragment=i,ne.Profiler=o,ne.PureComponent=De,ne.StrictMode=l,ne.Suspense=p,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ie.H.useMemoCache(C)}},ne.cache=function(C){return function(){return C.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(C,k,V){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=K({},C.props),ee=C.key;if(k!=null)for(le in k.key!==void 0&&(ee=""+k.key),k)!rt.call(k,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&k.ref===void 0||(P[le]=k[le]);var le=arguments.length-2;if(le===1)P.children=V;else if(1<le){for(var Q=Array(le),Ve=0;Ve<le;Ve++)Q[Ve]=arguments[Ve+2];P.children=Q}return Je(C.type,ee,P)},ne.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},ne.createElement=function(C,k,V){var P,ee={},le=null;if(k!=null)for(P in k.key!==void 0&&(le=""+k.key),k)rt.call(k,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(ee[P]=k[P]);var Q=arguments.length-2;if(Q===1)ee.children=V;else if(1<Q){for(var Ve=Array(Q),Ge=0;Ge<Q;Ge++)Ve[Ge]=arguments[Ge+2];ee.children=Ve}if(C&&C.defaultProps)for(P in Q=C.defaultProps,Q)ee[P]===void 0&&(ee[P]=Q[P]);return Je(C,le,ee)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(C){return{$$typeof:m,render:C}},ne.isValidElement=Bt,ne.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:Z}},ne.memo=function(C,k){return{$$typeof:g,type:C,compare:k===void 0?null:k}},ne.startTransition=function(C){var k=ie.T,V={};ie.T=V;try{var P=C(),ee=ie.S;ee!==null&&ee(V,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Ce,be)}catch(le){be(le)}finally{k!==null&&V.types!==null&&(k.types=V.types),ie.T=k}},ne.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},ne.use=function(C){return ie.H.use(C)},ne.useActionState=function(C,k,V){return ie.H.useActionState(C,k,V)},ne.useCallback=function(C,k){return ie.H.useCallback(C,k)},ne.useContext=function(C){return ie.H.useContext(C)},ne.useDebugValue=function(){},ne.useDeferredValue=function(C,k){return ie.H.useDeferredValue(C,k)},ne.useEffect=function(C,k){return ie.H.useEffect(C,k)},ne.useEffectEvent=function(C){return ie.H.useEffectEvent(C)},ne.useId=function(){return ie.H.useId()},ne.useImperativeHandle=function(C,k,V){return ie.H.useImperativeHandle(C,k,V)},ne.useInsertionEffect=function(C,k){return ie.H.useInsertionEffect(C,k)},ne.useLayoutEffect=function(C,k){return ie.H.useLayoutEffect(C,k)},ne.useMemo=function(C,k){return ie.H.useMemo(C,k)},ne.useOptimistic=function(C,k){return ie.H.useOptimistic(C,k)},ne.useReducer=function(C,k,V){return ie.H.useReducer(C,k,V)},ne.useRef=function(C){return ie.H.useRef(C)},ne.useState=function(C){return ie.H.useState(C)},ne.useSyncExternalStore=function(C,k,V){return ie.H.useSyncExternalStore(C,k,V)},ne.useTransition=function(){return ie.H.useTransition()},ne.version="19.2.0",ne}var M_;function Hd(){return M_||(M_=1,Pf.exports=RS()),Pf.exports}var oe=Hd();const Xn=wS(oe);var Yf={exports:{}},Ol={},Ff={exports:{}},Qf={};var I_;function DS(){return I_||(I_=1,(function(a){function t(D,q){var Z=D.length;D.push(q);e:for(;0<Z;){var be=Z-1>>>1,Ne=D[be];if(0<o(Ne,q))D[be]=q,D[Z]=Ne,Z=be;else break e}}function i(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var q=D[0],Z=D.pop();if(Z!==q){D[0]=Z;e:for(var be=0,Ne=D.length,C=Ne>>>1;be<C;){var k=2*(be+1)-1,V=D[k],P=k+1,ee=D[P];if(0>o(V,Z))P<Ne&&0>o(ee,V)?(D[be]=ee,D[P]=Z,be=P):(D[be]=V,D[k]=Z,be=k);else if(P<Ne&&0>o(ee,Z))D[be]=ee,D[P]=Z,be=P;else break e}}return q}function o(D,q){var Z=D.sortIndex-q.sortIndex;return Z!==0?Z:D.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],g=[],S=1,b=null,E=3,z=!1,U=!1,K=!1,ce=!1,ge=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,De=typeof setImmediate<"u"?setImmediate:null;function ye(D){for(var q=i(g);q!==null;){if(q.callback===null)l(g);else if(q.startTime<=D)l(g),q.sortIndex=q.expirationTime,t(p,q);else break;q=i(g)}}function Ze(D){if(K=!1,ye(D),!U)if(i(p)!==null)U=!0,Ce||(Ce=!0,$e());else{var q=i(g);q!==null&&Ye(Ze,q.startTime-D)}}var Ce=!1,ie=-1,rt=5,Je=-1;function on(){return ce?!0:!(a.unstable_now()-Je<rt)}function Bt(){if(ce=!1,Ce){var D=a.unstable_now();Je=D;var q=!0;try{e:{U=!1,K&&(K=!1,ae(ie),ie=-1),z=!0;var Z=E;try{t:{for(ye(D),b=i(p);b!==null&&!(b.expirationTime>D&&on());){var be=b.callback;if(typeof be=="function"){b.callback=null,E=b.priorityLevel;var Ne=be(b.expirationTime<=D);if(D=a.unstable_now(),typeof Ne=="function"){b.callback=Ne,ye(D),q=!0;break t}b===i(p)&&l(p),ye(D)}else l(p);b=i(p)}if(b!==null)q=!0;else{var C=i(g);C!==null&&Ye(Ze,C.startTime-D),q=!1}}break e}finally{b=null,E=Z,z=!1}q=void 0}}finally{q?$e():Ce=!1}}}var $e;if(typeof De=="function")$e=function(){De(Bt)};else if(typeof MessageChannel<"u"){var Kt=new MessageChannel,cn=Kt.port2;Kt.port1.onmessage=Bt,$e=function(){cn.postMessage(null)}}else $e=function(){ge(Bt,0)};function Ye(D,q){ie=ge(function(){D(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var Z=E;E=q;try{return D()}finally{E=Z}},a.unstable_requestPaint=function(){ce=!0},a.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=E;E=D;try{return q()}finally{E=Z}},a.unstable_scheduleCallback=function(D,q,Z){var be=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?be+Z:be):Z=be,D){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=Z+Ne,D={id:S++,callback:q,priorityLevel:D,startTime:Z,expirationTime:Ne,sortIndex:-1},Z>be?(D.sortIndex=Z,t(g,D),i(p)===null&&D===i(g)&&(K?(ae(ie),ie=-1):K=!0,Ye(Ze,Z-be))):(D.sortIndex=Ne,t(p,D),U||z||(U=!0,Ce||(Ce=!0,$e()))),D},a.unstable_shouldYield=on,a.unstable_wrapCallback=function(D){var q=E;return function(){var Z=E;E=q;try{return D.apply(this,arguments)}finally{E=Z}}}})(Qf)),Qf}var k_;function OS(){return k_||(k_=1,Ff.exports=DS()),Ff.exports}var Xf={exports:{}},bt={};var L_;function MS(){if(L_)return bt;L_=1;var a=Hd();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(p,g,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,bt.createPortal=function(p,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(p,g,null,S)},bt.flushSync=function(p){var g=d.T,S=l.p;try{if(d.T=null,l.p=2,p)return p()}finally{d.T=g,l.p=S,l.d.f()}},bt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(p,g))},bt.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},bt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var S=g.as,b=m(S,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?l.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:z}):S==="script"&&l.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=m(g.as,g.crossOrigin);l.d.M(p,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(p)},bt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,b=m(S,g.crossOrigin);l.d.L(p,S,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(p,g){if(typeof p=="string")if(g){var S=m(g.as,g.crossOrigin);l.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(p)},bt.requestFormReset=function(p){l.d.r(p)},bt.unstable_batchedUpdates=function(p,g){return p(g)},bt.useFormState=function(p,g,S){return d.H.useFormState(p,g,S)},bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},bt.version="19.2.0",bt}var U_;function IS(){if(U_)return Xf.exports;U_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Xf.exports=MS(),Xf.exports}var z_;function kS(){if(z_)return Ol;z_=1;var a=OS(),t=Hd(),i=IS();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(l(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(r=c.return,r!==null){s=r;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return p(c),e;if(u===r)return p(c),n;u=u.sibling}throw Error(l(188))}if(s.return!==r.return)s=c,r=u;else{for(var h=!1,_=c.child;_;){if(_===s){h=!0,s=c,r=u;break}if(_===r){h=!0,r=c,s=u;break}_=_.sibling}if(!h){for(_=u.child;_;){if(_===s){h=!0,s=u,r=c;break}if(_===r){h=!0,r=u,s=c;break}_=_.sibling}if(!h)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),ae=Symbol.for("react.consumer"),De=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ze=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Je=Symbol.for("react.activity"),on=Symbol.for("react.memo_cache_sentinel"),Bt=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Bt&&e[Bt]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Symbol.for("react.client.reference");function cn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case ge:return"Profiler";case ce:return"StrictMode";case Ze:return"Suspense";case Ce:return"SuspenseList";case Je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case De:return e.displayName||"Context";case ae:return(e._context.displayName||"Context")+".Consumer";case ye:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return n=e.displayName||null,n!==null?n:cn(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return cn(e(n))}catch{}}return null}var Ye=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},be=[],Ne=-1;function C(e){return{current:e}}function k(e){0>Ne||(e.current=be[Ne],be[Ne]=null,Ne--)}function V(e,n){Ne++,be[Ne]=e.current,e.current=n}var P=C(null),ee=C(null),le=C(null),Q=C(null);function Ve(e,n){switch(V(le,n),V(ee,e),V(P,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jp(n),e=$p(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(P),V(P,e)}function Ge(){k(P),k(ee),k(le)}function Wt(e){e.memoizedState!==null&&V(Q,e);var n=P.current,s=$p(n,e.type);n!==s&&(V(ee,e),V(P,s))}function An(e){ee.current===e&&(k(P),k(ee)),Q.current===e&&(k(Q),wl._currentValue=Z)}var Ss,Es;function bn(e){if(Ss===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",Es=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+e+Es}var Ia=!1;function ka(e,n){if(!e||Ia)return"";Ia=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(R){var A=R}Reflect.construct(e,[],I)}else{try{I.call()}catch(R){A=R}e.call(I.prototype)}}else{try{throw Error()}catch(R){A=R}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(R){if(R&&A&&typeof R.stack=="string")return[R.stack,A.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=r.DetermineComponentFrameRoot(),h=u[0],_=u[1];if(h&&_){var v=h.split(`
`),N=_.split(`
`);for(c=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(r===v.length||c===N.length)for(r=v.length-1,c=N.length-1;1<=r&&0<=c&&v[r]!==N[c];)c--;for(;1<=r&&0<=c;r--,c--)if(v[r]!==N[c]){if(r!==1||c!==1)do if(r--,c--,0>c||v[r]!==N[c]){var O=`
`+v[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=c);break}}}finally{Ia=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?bn(s):""}function Cc(e,n){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return e.child!==n&&n!==null?bn("Suspense Fallback"):bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return ka(e.type,!1);case 11:return ka(e.type.render,!1);case 1:return ka(e.type,!0);case 31:return bn("Activity");default:return""}}function La(e){try{var n="",s=null;do n+=Cc(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Bi=Object.prototype.hasOwnProperty,Ua=a.unstable_scheduleCallback,Ts=a.unstable_cancelCallback,xc=a.unstable_shouldYield,wc=a.unstable_requestPaint,Nt=a.unstable_now,dr=a.unstable_getCurrentPriorityLevel,hr=a.unstable_ImmediatePriority,mr=a.unstable_UserBlockingPriority,Cs=a.unstable_NormalPriority,Nc=a.unstable_LowPriority,za=a.unstable_IdlePriority,Ac=a.log,Rc=a.unstable_setDisableYieldValue,qi=null,Et=null;function Sn(e){if(typeof Ac=="function"&&Rc(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(qi,e)}catch{}}var Tt=Math.clz32?Math.clz32:Mc,Dc=Math.log,Oc=Math.LN2;function Mc(e){return e>>>=0,e===0?32:31-(Dc(e)/Oc|0)|0}var xs=256,L=262144,j=4194304;function B(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function G(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var c=0,u=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~u,r!==0?c=B(r):(h&=_,h!==0?c=B(h):s||(s=_&~e,s!==0&&(c=B(s))))):(_=r&~u,_!==0?c=B(_):h!==0?c=B(h):s||(s=r&~e,s!==0&&(c=B(s)))),c===0?0:n!==0&&n!==c&&(n&u)===0&&(u=c&-c,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:c}function te(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Se(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var e=j;return j<<=1,(j&62914560)===0&&(j=4194304),e}function Ct(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function qt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gr(e,n,s,r,c,u){var h=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,N=e.hiddenUpdates;for(s=h&~s;0<s;){var O=31-Tt(s),I=1<<O;_[O]=0,v[O]=-1;var A=N[O];if(A!==null)for(N[O]=null,O=0;O<A.length;O++){var R=A[O];R!==null&&(R.lane&=-536870913)}s&=~I}r!==0&&ja(e,r,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(h&~n))}function ja(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Tt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function ws(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Tt(s),c=1<<r;c&n|e[r]&n&&(e[r]|=n),s&=~c}}function pr(e,n){var s=n&-n;return s=(s&42)!==0?1:Ha(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ha(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ba(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zh(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:E_(e.type))}function jh(e,n){var s=q.p;try{return q.p=e,n()}finally{q.p=s}}var si=Math.random().toString(36).slice(2),mt="__reactFiber$"+si,At="__reactProps$"+si,Ns="__reactContainer$"+si,Ic="__reactEvents$"+si,gb="__reactListeners$"+si,pb="__reactHandles$"+si,Hh="__reactResources$"+si,qa="__reactMarker$"+si;function kc(e){delete e[mt],delete e[At],delete e[Ic],delete e[gb],delete e[pb]}function As(e){var n=e[mt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ns]||s[mt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[mt])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function Rs(e){if(e=e[mt]||e[Ns]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Va(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function Ds(e){var n=e[Hh];return n||(n=e[Hh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ot(e){e[qa]=!0}var Bh=new Set,qh={};function Vi(e,n){Os(e,n),Os(e+"Capture",n)}function Os(e,n){for(qh[e]=n,e=0;e<n.length;e++)Bh.add(n[e])}var _b=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vh={},Gh={};function yb(e){return Bi.call(Gh,e)?!0:Bi.call(Vh,e)?!1:_b.test(e)?Gh[e]=!0:(Vh[e]=!0,!1)}function _r(e,n,s){if(yb(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function yr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Rn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ph(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vb(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,u=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Lc(e){if(!e._valueTracker){var n=Ph(e)?"checked":"value";e._valueTracker=vb(e,n,""+e[n])}}function Yh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Ph(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bb=/[\n"\\]/g;function Jt(e){return e.replace(bb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Uc(e,n,s,r,c,u,h,_){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),n!=null?h==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Zt(n)):e.value!==""+Zt(n)&&(e.value=""+Zt(n)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),n!=null?zc(e,h,Zt(n)):s!=null?zc(e,h,Zt(s)):r!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Zt(_):e.removeAttribute("name")}function Fh(e,n,s,r,c,u,h,_){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){Lc(e);return}s=s!=null?""+Zt(s):"",n=n!=null?""+Zt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Lc(e)}function zc(e,n,s){n==="number"&&vr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ms(e,n,s,r){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Zt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qh(e,n,s){if(n!=null&&(n=""+Zt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Zt(s):""}function Xh(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(Ye(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Zt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Lc(e)}function Is(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||Sb.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Wh(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&s[c]!==r&&Kh(e,c,r)}else for(var u in n)n.hasOwnProperty(u)&&Kh(e,u,n[u])}function jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function br(e){return Tb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var Hc=null;function Bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ks=null,Ls=null;function Zh(e){var n=Rs(e);if(n&&(e=n.stateNode)){var s=e[At]||null;e:switch(e=n.stateNode,n.type){case"input":if(Uc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Jt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var c=r[At]||null;if(!c)throw Error(l(90));Uc(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Yh(r)}break e;case"textarea":Qh(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ms(e,!!s.multiple,n,!1)}}}var qc=!1;function Jh(e,n,s){if(qc)return e(n,s);qc=!0;try{var r=e(n);return r}finally{if(qc=!1,(ks!==null||Ls!==null)&&(ro(),ks&&(n=ks,e=Ls,Ls=ks=null,Zh(n),e)))for(n=0;n<e.length;n++)Zh(e[n])}}function Ga(e,n){var s=e.stateNode;if(s===null)return null;var r=s[At]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=!1;if(On)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Vc=!1}var ai=null,Gc=null,Sr=null;function $h(){if(Sr)return Sr;var e,n=Gc,s=n.length,r,c="value"in ai?ai.value:ai.textContent,u=c.length;for(e=0;e<s&&n[e]===c[e];e++);var h=s-e;for(r=1;r<=h&&n[s-r]===c[u-r];r++);return Sr=c.slice(e,1<r?1-r:void 0)}function Er(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Tr(){return!0}function em(){return!1}function Rt(e){function n(s,r,c,u,h){this._reactName=s,this._targetInst=c,this.type=r,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(u):u[_]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Tr:em,this.isPropagationStopped=em,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=Rt(Gi),Ya=b({},Gi,{view:0,detail:0}),Cb=Rt(Ya),Pc,Yc,Fa,xr=b({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(Pc=e.screenX-Fa.screenX,Yc=e.screenY-Fa.screenY):Yc=Pc=0,Fa=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),tm=Rt(xr),xb=b({},xr,{dataTransfer:0}),wb=Rt(xb),Nb=b({},Ya,{relatedTarget:0}),Fc=Rt(Nb),Ab=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Rb=Rt(Ab),Db=b({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ob=Rt(Db),Mb=b({},Gi,{data:0}),nm=Rt(Mb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ub(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Lb[e])?!!n[e]:!1}function Qc(){return Ub}var zb=b({},Ya,{key:function(e){if(e.key){var n=Ib[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=Rt(zb),Hb=b({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=Rt(Hb),Bb=b({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),qb=Rt(Bb),Vb=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gb=Rt(Vb),Pb=b({},xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yb=Rt(Pb),Fb=b({},Gi,{newState:0,oldState:0}),Qb=Rt(Fb),Xb=[9,13,27,32],Xc=On&&"CompositionEvent"in window,Qa=null;On&&"documentMode"in document&&(Qa=document.documentMode);var Kb=On&&"TextEvent"in window&&!Qa,sm=On&&(!Xc||Qa&&8<Qa&&11>=Qa),am=" ",lm=!1;function rm(e,n){switch(e){case"keyup":return Xb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function om(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function Wb(e,n){switch(e){case"compositionend":return om(n);case"keypress":return n.which!==32?null:(lm=!0,am);case"textInput":return e=n.data,e===am&&lm?null:e;default:return null}}function Zb(e,n){if(Us)return e==="compositionend"||!Xc&&rm(e,n)?(e=$h(),Sr=Gc=ai=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sm&&n.locale!=="ko"?null:n.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jb[e.type]:n==="textarea"}function um(e,n,s,r){ks?Ls?Ls.push(r):Ls=[r]:ks=r,n=go(n,"onChange"),0<n.length&&(s=new Cr("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Xa=null,Ka=null;function $b(e){Fp(e,0)}function wr(e){var n=Va(e);if(Yh(n))return e}function fm(e,n){if(e==="change")return n}var dm=!1;if(On){var Kc;if(On){var Wc="oninput"in document;if(!Wc){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Wc=typeof hm.oninput=="function"}Kc=Wc}else Kc=!1;dm=Kc&&(!document.documentMode||9<document.documentMode)}function mm(){Xa&&(Xa.detachEvent("onpropertychange",gm),Ka=Xa=null)}function gm(e){if(e.propertyName==="value"&&wr(Ka)){var n=[];um(n,Ka,e,Bc(e)),Jh($b,n)}}function e1(e,n,s){e==="focusin"?(mm(),Xa=n,Ka=s,Xa.attachEvent("onpropertychange",gm)):e==="focusout"&&mm()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wr(Ka)}function n1(e,n){if(e==="click")return wr(n)}function i1(e,n){if(e==="input"||e==="change")return wr(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vt=typeof Object.is=="function"?Object.is:s1;function Wa(e,n){if(Vt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var c=s[r];if(!Bi.call(n,c)||!Vt(e[c],n[c]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _m(e,n){var s=pm(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pm(s)}}function ym(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ym(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=vr(e.document)}return n}function Zc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var a1=On&&"documentMode"in document&&11>=document.documentMode,zs=null,Jc=null,Za=null,$c=!1;function bm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$c||zs==null||zs!==vr(r)||(r=zs,"selectionStart"in r&&Zc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&Wa(Za,r)||(Za=r,r=go(Jc,"onSelect"),0<r.length&&(n=new Cr("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=zs)))}function Pi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var js={animationend:Pi("Animation","AnimationEnd"),animationiteration:Pi("Animation","AnimationIteration"),animationstart:Pi("Animation","AnimationStart"),transitionrun:Pi("Transition","TransitionRun"),transitionstart:Pi("Transition","TransitionStart"),transitioncancel:Pi("Transition","TransitionCancel"),transitionend:Pi("Transition","TransitionEnd")},eu={},Sm={};On&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Yi(e){if(eu[e])return eu[e];if(!js[e])return e;var n=js[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sm)return eu[e]=n[s];return e}var Em=Yi("animationend"),Tm=Yi("animationiteration"),Cm=Yi("animationstart"),l1=Yi("transitionrun"),r1=Yi("transitionstart"),o1=Yi("transitioncancel"),xm=Yi("transitionend"),wm=new Map,tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tu.push("scrollEnd");function un(e,n){wm.set(e,n),Vi(n,[e])}var Nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Hs=0,nu=0;function Ar(){for(var e=Hs,n=nu=Hs=0;n<e;){var s=$t[n];$t[n++]=null;var r=$t[n];$t[n++]=null;var c=$t[n];$t[n++]=null;var u=$t[n];if($t[n++]=null,r!==null&&c!==null){var h=r.pending;h===null?c.next=c:(c.next=h.next,h.next=c),r.pending=c}u!==0&&Nm(s,c,u)}}function Rr(e,n,s,r){$t[Hs++]=e,$t[Hs++]=n,$t[Hs++]=s,$t[Hs++]=r,nu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function iu(e,n,s,r){return Rr(e,n,s,r),Dr(e)}function Fi(e,n){return Rr(e,null,null,n),Dr(e)}function Nm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var c=!1,u=e.return;u!==null;)u.childLanes|=s,r=u.alternate,r!==null&&(r.childLanes|=s),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&n!==null&&(c=31-Tt(s),e=u.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=s|536870912),u):null}function Dr(e){if(50<vl)throw vl=0,hf=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Bs={};function c1(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,n,s,r){return new c1(e,n,s,r)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,n){var s=e.alternate;return s===null?(s=Gt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Am(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Or(e,n,s,r,c,u){var h=0;if(r=e,typeof e=="function")su(e)&&(h=1);else if(typeof e=="string")h=mS(e,s,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Je:return e=Gt(31,s,n,c),e.elementType=Je,e.lanes=u,e;case K:return Qi(s.children,c,u,n);case ce:h=8,c|=24;break;case ge:return e=Gt(12,s,n,c|2),e.elementType=ge,e.lanes=u,e;case Ze:return e=Gt(13,s,n,c),e.elementType=Ze,e.lanes=u,e;case Ce:return e=Gt(19,s,n,c),e.elementType=Ce,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case De:h=10;break e;case ae:h=9;break e;case ye:h=11;break e;case ie:h=14;break e;case rt:h=16,r=null;break e}h=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Gt(h,s,n,c),n.elementType=e,n.type=r,n.lanes=u,n}function Qi(e,n,s,r){return e=Gt(7,e,r,n),e.lanes=s,e}function au(e,n,s){return e=Gt(6,e,null,n),e.lanes=s,e}function Rm(e){var n=Gt(18,null,null,0);return n.stateNode=e,n}function lu(e,n,s){return n=Gt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dm=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var s=Dm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:La(n)},Dm.set(e,n),n)}return{value:e,source:n,stack:La(n)}}var qs=[],Vs=0,Mr=null,Ja=0,tn=[],nn=0,li=null,En=1,Tn="";function In(e,n){qs[Vs++]=Ja,qs[Vs++]=Mr,Mr=e,Ja=n}function Om(e,n,s){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=li,li=e;var r=En;e=Tn;var c=32-Tt(r)-1;r&=~(1<<c),s+=1;var u=32-Tt(n)+c;if(30<u){var h=c-c%5;u=(r&(1<<h)-1).toString(32),r>>=h,c-=h,En=1<<32-Tt(n)+c|s<<c|r,Tn=u+e}else En=1<<u|s<<c|r,Tn=e}function ru(e){e.return!==null&&(In(e,1),Om(e,1,0))}function ou(e){for(;e===Mr;)Mr=qs[--Vs],qs[Vs]=null,Ja=qs[--Vs],qs[Vs]=null;for(;e===li;)li=tn[--nn],tn[nn]=null,Tn=tn[--nn],tn[nn]=null,En=tn[--nn],tn[nn]=null}function Mm(e,n){tn[nn++]=En,tn[nn++]=Tn,tn[nn++]=li,En=n.id,Tn=n.overflow,li=e}var gt=null,He=null,ve=!1,ri=null,sn=!1,cu=Error(l(519));function oi(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $a(en(n,e)),cu}function Im(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[mt]=e,n[At]=r,s){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Sl.length;s++)he(Sl[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":he("invalid",n),Fh(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",n);break;case"textarea":he("invalid",n),Xh(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||Wp(n.textContent,s)?(r.popover!=null&&(he("beforetoggle",n),he("toggle",n)),r.onScroll!=null&&he("scroll",n),r.onScrollEnd!=null&&he("scrollend",n),r.onClick!=null&&(n.onclick=Dn),n=!0):n=!1,n||oi(e,!0)}function km(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:gt=gt.return}}function Gs(e){if(e!==gt)return!1;if(!ve)return km(e),ve=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Af(e.type,e.memoizedProps)),s=!s),s&&He&&oi(e),km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=a_(e)}else n===27?(n=He,Ei(e.type)?(e=If,If=null,He=e):He=n):He=gt?ln(e.stateNode.nextSibling):null;return!0}function Xi(){He=gt=null,ve=!1}function uu(){var e=ri;return e!==null&&(It===null?It=e:It.push.apply(It,e),ri=null),e}function $a(e){ri===null?ri=[e]:ri.push(e)}var fu=C(null),Ki=null,kn=null;function ci(e,n,s){V(fu,n._currentValue),n._currentValue=s}function Ln(e){e._currentValue=fu.current,k(fu)}function du(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function hu(e,n,s,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var h=c.child;u=u.firstContext;e:for(;u!==null;){var _=u;u=c;for(var v=0;v<n.length;v++)if(_.context===n[v]){u.lanes|=s,_=u.alternate,_!==null&&(_.lanes|=s),du(u.return,s,e),r||(h=null);break e}u=_.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(l(341));h.lanes|=s,u=h.alternate,u!==null&&(u.lanes|=s),du(h,s,e),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===e){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function Ps(e,n,s,r){e=null;for(var c=n,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var _=c.type;Vt(c.pendingProps.value,h.value)||(e!==null?e.push(_):e=[_])}}else if(c===Q.current){if(h=c.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(wl):e=[wl])}c=c.return}e!==null&&hu(n,e,s,r),n.flags|=262144}function Ir(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Ki=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Lm(Ki,e)}function kr(e,n){return Ki===null&&Wi(e),Lm(e,n)}function Lm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},kn===null){if(e===null)throw Error(l(308));kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else kn=kn.next=n;return s}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},f1=a.unstable_scheduleCallback,d1=a.unstable_NormalPriority,et={$$typeof:De,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mu(){return{controller:new u1,data:new Map,refCount:0}}function el(e){e.refCount--,e.refCount===0&&f1(d1,function(){e.controller.abort()})}var tl=null,gu=0,Ys=0,Fs=null;function h1(e,n){if(tl===null){var s=tl=[];gu=0,Ys=vf(),Fs={status:"pending",value:void 0,then:function(r){s.push(r)}}}return gu++,n.then(Um,Um),n}function Um(){if(--gu===0&&tl!==null){Fs!==null&&(Fs.status="fulfilled");var e=tl;tl=null,Ys=0,Fs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),r}var zm=D.S;D.S=function(e,n){bp=Nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(e,n),zm!==null&&zm(e,n)};var Zi=C(null);function pu(){var e=Zi.current;return e!==null?e:Le.pooledCache}function Lr(e,n){n===null?V(Zi,Zi.current):V(Zi,n.pool)}function jm(){var e=pu();return e===null?null:{parent:et._currentValue,pool:e}}var Qs=Error(l(460)),_u=Error(l(474)),Ur=Error(l(542)),zr={then:function(){}};function Hm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Dn,Dn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vm(e),e;default:if(typeof n.status=="string")n.then(Dn,Dn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Vm(e),e}throw $i=n,Qs}}function Ji(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?($i=s,Qs):s}}var $i=null;function qm(){if($i===null)throw Error(l(459));var e=$i;return $i=null,e}function Vm(e){if(e===Qs||e===Ur)throw Error(l(483))}var Xs=null,nl=0;function jr(e){var n=nl;return nl+=1,Xs===null&&(Xs=[]),Bm(Xs,e,n)}function il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hr(e,n){throw n.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gm(e){function n(x,T){if(e){var w=x.deletions;w===null?(x.deletions=[T],x.flags|=16):w.push(T)}}function s(x,T){if(!e)return null;for(;T!==null;)n(x,T),T=T.sibling;return null}function r(x){for(var T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function c(x,T){return x=Mn(x,T),x.index=0,x.sibling=null,x}function u(x,T,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<T?(x.flags|=67108866,T):w):(x.flags|=67108866,T)):(x.flags|=1048576,T)}function h(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function _(x,T,w,M){return T===null||T.tag!==6?(T=au(w,x.mode,M),T.return=x,T):(T=c(T,w),T.return=x,T)}function v(x,T,w,M){var X=w.type;return X===K?O(x,T,w.props.children,M,w.key):T!==null&&(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===rt&&Ji(X)===T.type)?(T=c(T,w.props),il(T,w),T.return=x,T):(T=Or(w.type,w.key,w.props,null,x.mode,M),il(T,w),T.return=x,T)}function N(x,T,w,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==w.containerInfo||T.stateNode.implementation!==w.implementation?(T=lu(w,x.mode,M),T.return=x,T):(T=c(T,w.children||[]),T.return=x,T)}function O(x,T,w,M,X){return T===null||T.tag!==7?(T=Qi(w,x.mode,M,X),T.return=x,T):(T=c(T,w),T.return=x,T)}function I(x,T,w){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=au(""+T,x.mode,w),T.return=x,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case z:return w=Or(T.type,T.key,T.props,null,x.mode,w),il(w,T),w.return=x,w;case U:return T=lu(T,x.mode,w),T.return=x,T;case rt:return T=Ji(T),I(x,T,w)}if(Ye(T)||$e(T))return T=Qi(T,x.mode,w,null),T.return=x,T;if(typeof T.then=="function")return I(x,jr(T),w);if(T.$$typeof===De)return I(x,kr(x,T),w);Hr(x,T)}return null}function A(x,T,w,M){var X=T!==null?T.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return X!==null?null:_(x,T,""+w,M);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case z:return w.key===X?v(x,T,w,M):null;case U:return w.key===X?N(x,T,w,M):null;case rt:return w=Ji(w),A(x,T,w,M)}if(Ye(w)||$e(w))return X!==null?null:O(x,T,w,M,null);if(typeof w.then=="function")return A(x,T,jr(w),M);if(w.$$typeof===De)return A(x,T,kr(x,w),M);Hr(x,w)}return null}function R(x,T,w,M,X){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return x=x.get(w)||null,_(T,x,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return x=x.get(M.key===null?w:M.key)||null,v(T,x,M,X);case U:return x=x.get(M.key===null?w:M.key)||null,N(T,x,M,X);case rt:return M=Ji(M),R(x,T,w,M,X)}if(Ye(M)||$e(M))return x=x.get(w)||null,O(T,x,M,X,null);if(typeof M.then=="function")return R(x,T,w,jr(M),X);if(M.$$typeof===De)return R(x,T,w,kr(T,M),X);Hr(T,M)}return null}function Y(x,T,w,M){for(var X=null,Ee=null,F=T,re=T=0,_e=null;F!==null&&re<w.length;re++){F.index>re?(_e=F,F=null):_e=F.sibling;var Te=A(x,F,w[re],M);if(Te===null){F===null&&(F=_e);break}e&&F&&Te.alternate===null&&n(x,F),T=u(Te,T,re),Ee===null?X=Te:Ee.sibling=Te,Ee=Te,F=_e}if(re===w.length)return s(x,F),ve&&In(x,re),X;if(F===null){for(;re<w.length;re++)F=I(x,w[re],M),F!==null&&(T=u(F,T,re),Ee===null?X=F:Ee.sibling=F,Ee=F);return ve&&In(x,re),X}for(F=r(F);re<w.length;re++)_e=R(F,x,re,w[re],M),_e!==null&&(e&&_e.alternate!==null&&F.delete(_e.key===null?re:_e.key),T=u(_e,T,re),Ee===null?X=_e:Ee.sibling=_e,Ee=_e);return e&&F.forEach(function(Ni){return n(x,Ni)}),ve&&In(x,re),X}function W(x,T,w,M){if(w==null)throw Error(l(151));for(var X=null,Ee=null,F=T,re=T=0,_e=null,Te=w.next();F!==null&&!Te.done;re++,Te=w.next()){F.index>re?(_e=F,F=null):_e=F.sibling;var Ni=A(x,F,Te.value,M);if(Ni===null){F===null&&(F=_e);break}e&&F&&Ni.alternate===null&&n(x,F),T=u(Ni,T,re),Ee===null?X=Ni:Ee.sibling=Ni,Ee=Ni,F=_e}if(Te.done)return s(x,F),ve&&In(x,re),X;if(F===null){for(;!Te.done;re++,Te=w.next())Te=I(x,Te.value,M),Te!==null&&(T=u(Te,T,re),Ee===null?X=Te:Ee.sibling=Te,Ee=Te);return ve&&In(x,re),X}for(F=r(F);!Te.done;re++,Te=w.next())Te=R(F,x,re,Te.value,M),Te!==null&&(e&&Te.alternate!==null&&F.delete(Te.key===null?re:Te.key),T=u(Te,T,re),Ee===null?X=Te:Ee.sibling=Te,Ee=Te);return e&&F.forEach(function(xS){return n(x,xS)}),ve&&In(x,re),X}function Ie(x,T,w,M){if(typeof w=="object"&&w!==null&&w.type===K&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case z:e:{for(var X=w.key;T!==null;){if(T.key===X){if(X=w.type,X===K){if(T.tag===7){s(x,T.sibling),M=c(T,w.props.children),M.return=x,x=M;break e}}else if(T.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===rt&&Ji(X)===T.type){s(x,T.sibling),M=c(T,w.props),il(M,w),M.return=x,x=M;break e}s(x,T);break}else n(x,T);T=T.sibling}w.type===K?(M=Qi(w.props.children,x.mode,M,w.key),M.return=x,x=M):(M=Or(w.type,w.key,w.props,null,x.mode,M),il(M,w),M.return=x,x=M)}return h(x);case U:e:{for(X=w.key;T!==null;){if(T.key===X)if(T.tag===4&&T.stateNode.containerInfo===w.containerInfo&&T.stateNode.implementation===w.implementation){s(x,T.sibling),M=c(T,w.children||[]),M.return=x,x=M;break e}else{s(x,T);break}else n(x,T);T=T.sibling}M=lu(w,x.mode,M),M.return=x,x=M}return h(x);case rt:return w=Ji(w),Ie(x,T,w,M)}if(Ye(w))return Y(x,T,w,M);if($e(w)){if(X=$e(w),typeof X!="function")throw Error(l(150));return w=X.call(w),W(x,T,w,M)}if(typeof w.then=="function")return Ie(x,T,jr(w),M);if(w.$$typeof===De)return Ie(x,T,kr(x,w),M);Hr(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,T!==null&&T.tag===6?(s(x,T.sibling),M=c(T,w),M.return=x,x=M):(s(x,T),M=au(w,x.mode,M),M.return=x,x=M),h(x)):s(x,T)}return function(x,T,w,M){try{nl=0;var X=Ie(x,T,w,M);return Xs=null,X}catch(F){if(F===Qs||F===Ur)throw F;var Ee=Gt(29,F,null,x.mode);return Ee.lanes=M,Ee.return=x,Ee}finally{}}}var es=Gm(!0),Pm=Gm(!1),ui=!1;function yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(xe&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=Dr(e),Nm(e,null,s),n}return Rr(e,r,n,s),Dr(e)}function sl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,ws(e,s)}}function bu(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var h={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=h:u=u.next=h,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Su=!1;function al(){if(Su){var e=Fs;if(e!==null)throw e}}function ll(e,n,s,r){Su=!1;var c=e.updateQueue;ui=!1;var u=c.firstBaseUpdate,h=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var v=_,N=v.next;v.next=null,h===null?u=N:h.next=N,h=v;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==h&&(_===null?O.firstBaseUpdate=N:_.next=N,O.lastBaseUpdate=v))}if(u!==null){var I=c.baseState;h=0,O=N=v=null,_=u;do{var A=_.lane&-536870913,R=A!==_.lane;if(R?(pe&A)===A:(r&A)===A){A!==0&&A===Ys&&(Su=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Y=e,W=_;A=n;var Ie=s;switch(W.tag){case 1:if(Y=W.payload,typeof Y=="function"){I=Y.call(Ie,I,A);break e}I=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=W.payload,A=typeof Y=="function"?Y.call(Ie,I,A):Y,A==null)break e;I=b({},I,A);break e;case 2:ui=!0}}A=_.callback,A!==null&&(e.flags|=64,R&&(e.flags|=8192),R=c.callbacks,R===null?c.callbacks=[A]:R.push(A))}else R={lane:A,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(N=O=R,v=I):O=O.next=R,h|=A;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;R=_,_=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(!0);O===null&&(v=I),c.baseState=v,c.firstBaseUpdate=N,c.lastBaseUpdate=O,u===null&&(c.shared.lanes=0),_i|=h,e.lanes=h,e.memoizedState=I}}function Ym(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Fm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Ym(s[e],n)}var Ks=C(null),Br=C(0);function Qm(e,n){e=Pn,V(Br,e),V(Ks,n),Pn=e|n.baseLanes}function Eu(){V(Br,Pn),V(Ks,Ks.current)}function Tu(){Pn=Br.current,k(Ks),k(Br)}var Pt=C(null),an=null;function hi(e){var n=e.alternate;V(Ke,Ke.current&1),V(Pt,e),an===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(an=e)}function Cu(e){V(Ke,Ke.current),V(Pt,e),an===null&&(an=e)}function Xm(e){e.tag===22?(V(Ke,Ke.current),V(Pt,e),an===null&&(an=e)):mi()}function mi(){V(Ke,Ke.current),V(Pt,Pt.current)}function Yt(e){k(Pt),an===e&&(an=null),k(Ke)}var Ke=C(0);function qr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Of(s)||Mf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Un=0,se=null,Oe=null,tt=null,Vr=!1,Ws=!1,ts=!1,Gr=0,rl=0,Zs=null,g1=0;function Fe(){throw Error(l(321))}function xu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Vt(e[s],n[s]))return!1;return!0}function wu(e,n,s,r,c,u){return Un=u,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?Og:qu,ts=!1,u=s(r,c),ts=!1,Ws&&(u=Wm(n,s,r,c)),Km(e),u}function Km(e){D.H=ul;var n=Oe!==null&&Oe.next!==null;if(Un=0,tt=Oe=se=null,Vr=!1,rl=0,Zs=null,n)throw Error(l(300));e===null||nt||(e=e.dependencies,e!==null&&Ir(e)&&(nt=!0))}function Wm(e,n,s,r){se=e;var c=0;do{if(Ws&&(Zs=null),rl=0,Ws=!1,25<=c)throw Error(l(301));if(c+=1,tt=Oe=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Mg,u=n(s,r)}while(Ws);return u}function p1(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ol(n):n,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(se.flags|=1024),n}function Nu(){var e=Gr!==0;return Gr=0,e}function Au(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Ru(e){if(Vr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vr=!1}Un=0,tt=Oe=se=null,Ws=!1,rl=Gr=0,Zs=null}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?se.memoizedState=tt=e:tt=tt.next=e,tt}function We(){if(Oe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=tt===null?se.memoizedState:tt.next;if(n!==null)tt=n,Oe=e;else{if(e===null)throw se.alternate===null?Error(l(467)):Error(l(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},tt===null?se.memoizedState=tt=e:tt=tt.next=e}return tt}function Pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var n=rl;return rl+=1,Zs===null&&(Zs=[]),e=Bm(Zs,e,n),n=se,(tt===null?n.memoizedState:tt.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?Og:qu),e}function Yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===De)return pt(e)}throw Error(l(438,String(e)))}function Du(e){var n=null,s=se.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Pr(),se.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=on;return n.index++,s}function zn(e,n){return typeof n=="function"?n(e):n}function Fr(e){var n=We();return Ou(n,Oe,e)}function Ou(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var c=e.baseQueue,u=r.pending;if(u!==null){if(c!==null){var h=c.next;c.next=u.next,u.next=h}n.baseQueue=c=u,r.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{n=c.next;var _=h=null,v=null,N=n,O=!1;do{var I=N.lane&-536870913;if(I!==N.lane?(pe&I)===I:(Un&I)===I){var A=N.revertLane;if(A===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),I===Ys&&(O=!0);else if((Un&A)===A){N=N.next,A===Ys&&(O=!0);continue}else I={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=I,h=u):v=v.next=I,se.lanes|=A,_i|=A;I=N.action,ts&&s(u,I),u=N.hasEagerState?N.eagerState:s(u,I)}else A={lane:I,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},v===null?(_=v=A,h=u):v=v.next=A,se.lanes|=I,_i|=I;N=N.next}while(N!==null&&N!==n);if(v===null?h=u:v.next=_,!Vt(u,e.memoizedState)&&(nt=!0,O&&(s=Fs,s!==null)))throw s;e.memoizedState=u,e.baseState=h,e.baseQueue=v,r.lastRenderedState=u}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Mu(e){var n=We(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var h=c=c.next;do u=e(u,h.action),h=h.next;while(h!==c);Vt(u,n.memoizedState)||(nt=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,r]}function Zm(e,n,s){var r=se,c=We(),u=ve;if(u){if(s===void 0)throw Error(l(407));s=s()}else s=n();var h=!Vt((Oe||c).memoizedState,s);if(h&&(c.memoizedState=s,nt=!0),c=c.queue,Lu(eg.bind(null,r,c,e),[e]),c.getSnapshot!==n||h||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Js(9,{destroy:void 0},$m.bind(null,r,c,s,n),null),Le===null)throw Error(l(349));u||(Un&127)!==0||Jm(r,n,s)}return s}function Jm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=se.updateQueue,n===null?(n=Pr(),se.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function $m(e,n,s,r){n.value=s,n.getSnapshot=r,tg(n)&&ng(e)}function eg(e,n,s){return s(function(){tg(n)&&ng(e)})}function tg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Vt(e,s)}catch{return!0}}function ng(e){var n=Fi(e,2);n!==null&&kt(n,e,2)}function Iu(e){var n=xt();if(typeof e=="function"){var s=e;if(e=s(),ts){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},n}function ig(e,n,s,r){return e.baseState=s,Ou(e,Oe,typeof r=="function"?r:zn)}function _1(e,n,s,r,c){if(Kr(e))throw Error(l(485));if(e=n.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){u.listeners.push(h)}};D.T!==null?s(!0):u.isTransition=!1,r(u),s=n.pending,s===null?(u.next=n.pending=u,sg(n,u)):(u.next=s.next,n.pending=s.next=u)}}function sg(e,n){var s=n.action,r=n.payload,c=e.state;if(n.isTransition){var u=D.T,h={};D.T=h;try{var _=s(c,r),v=D.S;v!==null&&v(h,_),ag(e,n,_)}catch(N){ku(e,n,N)}finally{u!==null&&h.types!==null&&(u.types=h.types),D.T=u}}else try{u=s(c,r),ag(e,n,u)}catch(N){ku(e,n,N)}}function ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){lg(e,n,r)},function(r){return ku(e,n,r)}):lg(e,n,s)}function lg(e,n,s){n.status="fulfilled",n.value=s,rg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function ku(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,rg(n),n=n.next;while(n!==r)}e.action=null}function rg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function cg(e,n){if(ve){var s=Le.formState;if(s!==null){e:{var r=se;if(ve){if(He){t:{for(var c=He,u=sn;c.nodeType!==8;){if(!u){c=null;break t}if(c=ln(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){He=ln(c.nextSibling),r=c.data==="F!";break e}}oi(r)}r=!1}r&&(n=s[0])}}return s=xt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},s.queue=r,s=Ag.bind(null,se,r),r.dispatch=s,r=Iu(!1),u=Bu.bind(null,se,!1,r.queue),r=xt(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,s=_1.bind(null,se,c,u,s),c.dispatch=s,r.memoizedState=e,[n,s,!1]}function ug(e){var n=We();return fg(n,Oe,e)}function fg(e,n,s){if(n=Ou(e,n,og)[0],e=Fr(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=ol(n)}catch(h){throw h===Qs?Ur:h}else r=n;n=We();var c=n.queue,u=c.dispatch;return s!==n.memoizedState&&(se.flags|=2048,Js(9,{destroy:void 0},y1.bind(null,c,s),null)),[r,u,e]}function y1(e,n){e.action=n}function dg(e){var n=We(),s=Oe;if(s!==null)return fg(n,s,e);We(),n=n.memoizedState,s=We();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Js(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=se.updateQueue,n===null&&(n=Pr(),se.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function hg(){return We().memoizedState}function Qr(e,n,s,r){var c=xt();se.flags|=e,c.memoizedState=Js(1|n,{destroy:void 0},s,r===void 0?null:r)}function Xr(e,n,s,r){var c=We();r=r===void 0?null:r;var u=c.memoizedState.inst;Oe!==null&&r!==null&&xu(r,Oe.memoizedState.deps)?c.memoizedState=Js(n,u,s,r):(se.flags|=e,c.memoizedState=Js(1|n,u,s,r))}function mg(e,n){Qr(8390656,8,e,n)}function Lu(e,n){Xr(2048,8,e,n)}function v1(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=Pr(),se.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gg(e){var n=We().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((xe&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function pg(e,n){return Xr(4,2,e,n)}function _g(e,n){return Xr(4,4,e,n)}function yg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Xr(4,4,yg.bind(null,n,e),s)}function Uu(){}function bg(e,n){var s=We();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&xu(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function Sg(e,n){var s=We();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&xu(n,r[1]))return r[0];if(r=e(),ts){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[r,n],r}function zu(e,n,s){return s===void 0||(Un&1073741824)!==0&&(pe&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ep(),se.lanes|=e,_i|=e,s)}function Eg(e,n,s,r){return Vt(s,n)?s:Ks.current!==null?(e=zu(e,s,r),Vt(e,n)||(nt=!0),e):(Un&42)===0||(Un&1073741824)!==0&&(pe&261930)===0?(nt=!0,e.memoizedState=s):(e=Ep(),se.lanes|=e,_i|=e,n)}function Tg(e,n,s,r,c){var u=q.p;q.p=u!==0&&8>u?u:8;var h=D.T,_={};D.T=_,Bu(e,!1,n,s);try{var v=c(),N=D.S;if(N!==null&&N(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var O=m1(v,r);cl(e,n,O,Xt(e))}else cl(e,n,r,Xt(e))}catch(I){cl(e,n,{then:function(){},status:"rejected",reason:I},Xt())}finally{q.p=u,h!==null&&_.types!==null&&(h.types=_.types),D.T=h}}function b1(){}function ju(e,n,s,r){if(e.tag!==5)throw Error(l(476));var c=Cg(e).queue;Tg(e,c,n,Z,s===null?b1:function(){return xg(e),s(r)})}function Cg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Z},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Cg(e);n.next===null&&(n=e.alternate.memoizedState),cl(e,n.next.queue,{},Xt())}function Hu(){return pt(wl)}function wg(){return We().memoizedState}function Ng(){return We().memoizedState}function S1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Xt();e=fi(s);var r=di(n,e,s);r!==null&&(kt(r,n,s),sl(r,n,s)),n={cache:mu()},e.payload=n;return}n=n.return}}function E1(e,n,s){var r=Xt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Kr(e)?Rg(n,s):(s=iu(e,n,s,r),s!==null&&(kt(s,e,r),Dg(s,n,r)))}function Ag(e,n,s){var r=Xt();cl(e,n,s,r)}function cl(e,n,s,r){var c={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Rg(n,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var h=n.lastRenderedState,_=u(h,s);if(c.hasEagerState=!0,c.eagerState=_,Vt(_,h))return Rr(e,n,c,0),Le===null&&Ar(),!1}catch{}finally{}if(s=iu(e,n,c,r),s!==null)return kt(s,e,r),Dg(s,n,r),!0}return!1}function Bu(e,n,s,r){if(r={lane:2,revertLane:vf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Kr(e)){if(n)throw Error(l(479))}else n=iu(e,s,r,2),n!==null&&kt(n,e,2)}function Kr(e){var n=e.alternate;return e===se||n!==null&&n===se}function Rg(e,n){Ws=Vr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dg(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,ws(e,s)}}var ul={readContext:pt,use:Yr,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};ul.useEffectEvent=Fe;var Og={readContext:pt,use:Yr,useCallback:function(e,n){return xt().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qr(4194308,4,yg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qr(4194308,4,e,n)},useInsertionEffect:function(e,n){Qr(4,2,e,n)},useMemo:function(e,n){var s=xt();n=n===void 0?null:n;var r=e();if(ts){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=xt();if(s!==void 0){var c=s(n);if(ts){Sn(!0);try{s(n)}finally{Sn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=E1.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var n=xt();return e={current:e},n.memoizedState=e},useState:function(e){e=Iu(e);var n=e.queue,s=Ag.bind(null,se,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Uu,useDeferredValue:function(e,n){var s=xt();return zu(s,e,n)},useTransition:function(){var e=Iu(!1);return e=Tg.bind(null,se,e.queue,!0,!1),xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=se,c=xt();if(ve){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Le===null)throw Error(l(349));(pe&127)!==0||Jm(r,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,mg(eg.bind(null,r,u,e),[e]),r.flags|=2048,Js(9,{destroy:void 0},$m.bind(null,r,u,s,n),null),s},useId:function(){var e=xt(),n=Le.identifierPrefix;if(ve){var s=Tn,r=En;s=(r&~(1<<32-Tt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=g1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Hu,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=xt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Bu.bind(null,se,!0,s),s.dispatch=n,[e,n]},useMemoCache:Du,useCacheRefresh:function(){return xt().memoizedState=S1.bind(null,se)},useEffectEvent:function(e){var n=xt(),s={impl:e};return n.memoizedState=s,function(){if((xe&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},qu={readContext:pt,use:Yr,useCallback:bg,useContext:pt,useEffect:Lu,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:_g,useMemo:Sg,useReducer:Fr,useRef:hg,useState:function(){return Fr(zn)},useDebugValue:Uu,useDeferredValue:function(e,n){var s=We();return Eg(s,Oe.memoizedState,e,n)},useTransition:function(){var e=Fr(zn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Zm,useId:wg,useHostTransitionStatus:Hu,useFormState:ug,useActionState:ug,useOptimistic:function(e,n){var s=We();return ig(s,Oe,e,n)},useMemoCache:Du,useCacheRefresh:Ng};qu.useEffectEvent=gg;var Mg={readContext:pt,use:Yr,useCallback:bg,useContext:pt,useEffect:Lu,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:_g,useMemo:Sg,useReducer:Mu,useRef:hg,useState:function(){return Mu(zn)},useDebugValue:Uu,useDeferredValue:function(e,n){var s=We();return Oe===null?zu(s,e,n):Eg(s,Oe.memoizedState,e,n)},useTransition:function(){var e=Mu(zn)[0],n=We().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Zm,useId:wg,useHostTransitionStatus:Hu,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var s=We();return Oe!==null?ig(s,Oe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Ng};Mg.useEffectEvent=gg;function Vu(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gu={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Xt(),c=fi(r);c.payload=n,s!=null&&(c.callback=s),n=di(e,c,r),n!==null&&(kt(n,e,r),sl(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Xt(),c=fi(r);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=di(e,c,r),n!==null&&(kt(n,e,r),sl(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Xt(),r=fi(s);r.tag=2,n!=null&&(r.callback=n),n=di(e,r,s),n!==null&&(kt(n,e,s),sl(n,e,s))}};function Ig(e,n,s,r,c,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,u,h):n.prototype&&n.prototype.isPureReactComponent?!Wa(s,r)||!Wa(c,u):!0}function kg(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Gu.enqueueReplaceState(n,n.state,null)}function ns(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Lg(e){Nr(e)}function Ug(e){console.error(e)}function zg(e){Nr(e)}function Wr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function jg(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Pu(e,n,s){return s=fi(s),s.tag=3,s.payload={element:null},s.callback=function(){Wr(e,n)},s}function Hg(e){return e=fi(e),e.tag=3,e}function Bg(e,n,s,r){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=r.value;e.payload=function(){return c(u)},e.callback=function(){jg(n,s,r)}}var h=s.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){jg(n,s,r),typeof c!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function T1(e,n,s,r,c){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Ps(n,s,c,!0),s=Pt.current,s!==null){switch(s.tag){case 31:case 13:return an===null?oo():s.alternate===null&&Qe===0&&(Qe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,r===zr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),pf(e,r,c)),!1;case 22:return s.flags|=65536,r===zr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),pf(e,r,c)),!1}throw Error(l(435,s.tag))}return pf(e,r,c),oo(),!1}if(ve)return n=Pt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==cu&&(e=Error(l(422),{cause:r}),$a(en(e,s)))):(r!==cu&&(n=Error(l(423),{cause:r}),$a(en(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=en(r,s),c=Pu(e.stateNode,r,c),bu(e,c),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:r});if(u=en(u,s),yl===null?yl=[u]:yl.push(u),Qe!==4&&(Qe=2),n===null)return!0;r=en(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Pu(s.stateNode,r,e),bu(s,e),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(yi===null||!yi.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Hg(c),Bg(c,e,s,r),bu(s,c),!1}s=s.return}while(s!==null);return!1}var Yu=Error(l(461)),nt=!1;function _t(e,n,s,r){n.child=e===null?Pm(n,null,s,r):es(n,e.child,s,r)}function qg(e,n,s,r,c){s=s.render;var u=n.ref;if("ref"in r){var h={};for(var _ in r)_!=="ref"&&(h[_]=r[_])}else h=r;return Wi(n),r=wu(e,n,s,h,u,c),_=Nu(),e!==null&&!nt?(Au(e,n,c),jn(e,n,c)):(ve&&_&&ru(n),n.flags|=1,_t(e,n,r,c),n.child)}function Vg(e,n,s,r,c){if(e===null){var u=s.type;return typeof u=="function"&&!su(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,Gg(e,n,u,r,c)):(e=Or(s.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(u=e.child,!$u(e,c)){var h=u.memoizedProps;if(s=s.compare,s=s!==null?s:Wa,s(h,r)&&e.ref===n.ref)return jn(e,n,c)}return n.flags|=1,e=Mn(u,r),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,s,r,c){if(e!==null){var u=e.memoizedProps;if(Wa(u,r)&&e.ref===n.ref)if(nt=!1,n.pendingProps=r=u,$u(e,c))(e.flags&131072)!==0&&(nt=!0);else return n.lanes=e.lanes,jn(e,n,c)}return Fu(e,n,s,r,c)}function Pg(e,n,s,r){var c=r.children,u=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,e!==null){for(r=n.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~u}else r=0,n.child=null;return Yg(e,n,u,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lr(n,u!==null?u.cachePool:null),u!==null?Qm(n,u):Eu(),Xm(n);else return r=n.lanes=536870912,Yg(e,n,u!==null?u.baseLanes|s:s,s,r)}else u!==null?(Lr(n,u.cachePool),Qm(n,u),mi(),n.memoizedState=null):(e!==null&&Lr(n,null),Eu(),mi());return _t(e,n,c,s),n.child}function fl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yg(e,n,s,r,c){var u=pu();return u=u===null?null:{parent:et._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},e!==null&&Lr(n,null),Eu(),Xm(n),e!==null&&Ps(e,n,r,!0),n.childLanes=c,null}function Zr(e,n){return n=$r({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Fg(e,n,s){return es(n,e.child,null,s),e=Zr(n,n.pendingProps),e.flags|=2,Yt(n),n.memoizedState=null,e}function C1(e,n,s){var r=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ve){if(r.mode==="hidden")return e=Zr(n,r),n.lanes=536870912,fl(null,e);if(Cu(n),(e=He)?(e=s_(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},s=Rm(e),s.return=n,n.child=s,gt=n,He=null)):e=null,e===null)throw oi(n);return n.lanes=536870912,null}return Zr(n,r)}var u=e.memoizedState;if(u!==null){var h=u.dehydrated;if(Cu(n),c)if(n.flags&256)n.flags&=-257,n=Fg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(nt||Ps(e,n,s,!1),c=(s&e.childLanes)!==0,nt||c){if(r=Le,r!==null&&(h=pr(r,s),h!==0&&h!==u.retryLane))throw u.retryLane=h,Fi(e,h),kt(r,e,h),Yu;oo(),n=Fg(e,n,s)}else e=u.treeContext,He=ln(h.nextSibling),gt=n,ve=!0,ri=null,sn=!1,e!==null&&Mm(n,e),n=Zr(n,r),n.flags|=4096;return n}return e=Mn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Jr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Fu(e,n,s,r,c){return Wi(n),s=wu(e,n,s,r,void 0,c),r=Nu(),e!==null&&!nt?(Au(e,n,c),jn(e,n,c)):(ve&&r&&ru(n),n.flags|=1,_t(e,n,s,c),n.child)}function Qg(e,n,s,r,c,u){return Wi(n),n.updateQueue=null,s=Wm(n,r,s,c),Km(e),r=Nu(),e!==null&&!nt?(Au(e,n,u),jn(e,n,u)):(ve&&r&&ru(n),n.flags|=1,_t(e,n,s,u),n.child)}function Xg(e,n,s,r,c){if(Wi(n),n.stateNode===null){var u=Bs,h=s.contextType;typeof h=="object"&&h!==null&&(u=pt(h)),u=new s(r,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Gu,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=r,u.state=n.memoizedState,u.refs={},yu(n),h=s.contextType,u.context=typeof h=="object"&&h!==null?pt(h):Bs,u.state=n.memoizedState,h=s.getDerivedStateFromProps,typeof h=="function"&&(Vu(n,s,h,r),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(h=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),h!==u.state&&Gu.enqueueReplaceState(u,u.state,null),ll(n,r,u,c),al(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){u=n.stateNode;var _=n.memoizedProps,v=ns(s,_);u.props=v;var N=u.context,O=s.contextType;h=Bs,typeof O=="object"&&O!==null&&(h=pt(O));var I=s.getDerivedStateFromProps;O=typeof I=="function"||typeof u.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(_||N!==h)&&kg(n,u,r,h),ui=!1;var A=n.memoizedState;u.state=A,ll(n,r,u,c),al(),N=n.memoizedState,_||A!==N||ui?(typeof I=="function"&&(Vu(n,s,I,r),N=n.memoizedState),(v=ui||Ig(n,s,v,r,A,N,h))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=N),u.props=r,u.state=N,u.context=h,r=v):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{u=n.stateNode,vu(e,n),h=n.memoizedProps,O=ns(s,h),u.props=O,I=n.pendingProps,A=u.context,N=s.contextType,v=Bs,typeof N=="object"&&N!==null&&(v=pt(N)),_=s.getDerivedStateFromProps,(N=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==I||A!==v)&&kg(n,u,r,v),ui=!1,A=n.memoizedState,u.state=A,ll(n,r,u,c),al();var R=n.memoizedState;h!==I||A!==R||ui||e!==null&&e.dependencies!==null&&Ir(e.dependencies)?(typeof _=="function"&&(Vu(n,s,_,r),R=n.memoizedState),(O=ui||Ig(n,s,O,r,A,R,v)||e!==null&&e.dependencies!==null&&Ir(e.dependencies))?(N||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,v),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,v)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),u.props=r,u.state=R,u.context=v,r=O):(typeof u.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(n.flags|=1024),r=!1)}return u=r,Jr(e,n),r=(n.flags&128)!==0,u||r?(u=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,e!==null&&r?(n.child=es(n,e.child,null,c),n.child=es(n,null,s,c)):_t(e,n,s,c),n.memoizedState=u.state,e=n.child):e=jn(e,n,c),e}function Kg(e,n,s,r){return Xi(),n.flags|=256,_t(e,n,s,r),n.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(e){return{baseLanes:e,cachePool:jm()}}function Ku(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Qt),e}function Wg(e,n,s){var r=n.pendingProps,c=!1,u=(n.flags&128)!==0,h;if((h=u)||(h=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),h&&(c=!0,n.flags&=-129),h=(n.flags&32)!==0,n.flags&=-33,e===null){if(ve){if(c?hi(n):mi(),(e=He)?(e=s_(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:li!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},s=Rm(e),s.return=n,n.child=s,gt=n,He=null)):e=null,e===null)throw oi(n);return Mf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,c?(mi(),c=n.mode,_=$r({mode:"hidden",children:_},c),r=Qi(r,c,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Xu(s),r.childLanes=Ku(e,h,s),n.memoizedState=Qu,fl(null,r)):(hi(n),Wu(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(u)n.flags&256?(hi(n),n.flags&=-257,n=Zu(e,n,s)):n.memoizedState!==null?(mi(),n.child=e.child,n.flags|=128,n=null):(mi(),_=r.fallback,c=n.mode,r=$r({mode:"visible",children:r.children},c),_=Qi(_,c,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,es(n,e.child,null,s),r=n.child,r.memoizedState=Xu(s),r.childLanes=Ku(e,h,s),n.memoizedState=Qu,n=fl(null,r));else if(hi(n),Mf(_)){if(h=_.nextSibling&&_.nextSibling.dataset,h)var N=h.dgst;h=N,r=Error(l(419)),r.stack="",r.digest=h,$a({value:r,source:null,stack:null}),n=Zu(e,n,s)}else if(nt||Ps(e,n,s,!1),h=(s&e.childLanes)!==0,nt||h){if(h=Le,h!==null&&(r=pr(h,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,Fi(e,r),kt(h,e,r),Yu;Of(_)||oo(),n=Zu(e,n,s)}else Of(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,He=ln(_.nextSibling),gt=n,ve=!0,ri=null,sn=!1,e!==null&&Mm(n,e),n=Wu(n,r.children),n.flags|=4096);return n}return c?(mi(),_=r.fallback,c=n.mode,v=e.child,N=v.sibling,r=Mn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,N!==null?_=Mn(N,_):(_=Qi(_,c,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,fl(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Xu(s):(c=_.cachePool,c!==null?(v=et._currentValue,c=c.parent!==v?{parent:v,pool:v}:c):c=jm(),_={baseLanes:_.baseLanes|s,cachePool:c}),r.memoizedState=_,r.childLanes=Ku(e,h,s),n.memoizedState=Qu,fl(e.child,r)):(hi(n),s=e.child,e=s.sibling,s=Mn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(h=n.deletions,h===null?(n.deletions=[e],n.flags|=16):h.push(e)),n.child=s,n.memoizedState=null,s)}function Wu(e,n){return n=$r({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $r(e,n){return e=Gt(22,e,null,n),e.lanes=0,e}function Zu(e,n,s){return es(n,e.child,null,s),e=Wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),du(e.return,n,s)}function Ju(e,n,s,r,c,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:c,treeForkCount:u}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=s,h.tailMode=c,h.treeForkCount=u)}function Jg(e,n,s){var r=n.pendingProps,c=r.revealOrder,u=r.tail;r=r.children;var h=Ke.current,_=(h&2)!==0;if(_?(h=h&1|2,n.flags|=128):h&=1,V(Ke,h),_t(e,n,r,s),r=ve?Ja:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&qr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Ju(n,!1,c,s,u,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&qr(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}Ju(n,!0,s,null,u,r);break;case"together":Ju(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function jn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),_i|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ps(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=Mn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Mn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function $u(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ir(e)))}function x1(e,n,s){switch(n.tag){case 3:Ve(n,n.stateNode.containerInfo),ci(n,et,e.memoizedState.cache),Xi();break;case 27:case 5:Wt(n);break;case 4:Ve(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cu(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(hi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wg(e,n,s):(hi(n),e=jn(e,n,s),e!==null?e.sibling:null);hi(n);break;case 19:var c=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Ps(e,n,s,!1),r=(s&n.childLanes)!==0),c){if(r)return Jg(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),V(Ke,Ke.current),r)break;return null;case 22:return n.lanes=0,Pg(e,n,s,n.pendingProps);case 24:ci(n,et,e.memoizedState.cache)}return jn(e,n,s)}function $g(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)nt=!0;else{if(!$u(e,s)&&(n.flags&128)===0)return nt=!1,x1(e,n,s);nt=(e.flags&131072)!==0}else nt=!1,ve&&(n.flags&1048576)!==0&&Om(n,Ja,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Ji(n.elementType),n.type=e,typeof e=="function")su(e)?(r=ns(e,r),n.tag=1,n=Xg(null,n,e,r,s)):(n.tag=0,n=Fu(null,n,e,r,s));else{if(e!=null){var c=e.$$typeof;if(c===ye){n.tag=11,n=qg(null,n,e,r,s);break e}else if(c===ie){n.tag=14,n=Vg(null,n,e,r,s);break e}}throw n=cn(e)||e,Error(l(306,n,""))}}return n;case 0:return Fu(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,c=ns(r,n.pendingProps),Xg(e,n,r,c,s);case 3:e:{if(Ve(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var u=n.memoizedState;c=u.element,vu(e,n),ll(n,r,null,s);var h=n.memoizedState;if(r=h.cache,ci(n,et,r),r!==u.cache&&hu(n,[et],s,!0),al(),r=h.element,u.isDehydrated)if(u={element:r,isDehydrated:!1,cache:h.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Kg(e,n,r,s);break e}else if(r!==c){c=en(Error(l(424)),n),$a(c),n=Kg(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=ln(e.firstChild),gt=n,ve=!0,ri=null,sn=!0,s=Pm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Xi(),r===c){n=jn(e,n,s);break e}_t(e,n,r,s)}n=n.child}return n;case 26:return Jr(e,n),e===null?(s=u_(n.type,null,n.pendingProps,null))?n.memoizedState=s:ve||(s=n.type,e=n.pendingProps,r=po(le.current).createElement(s),r[mt]=n,r[At]=e,yt(r,s,e),ot(r),n.stateNode=r):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Wt(n),e===null&&ve&&(r=n.stateNode=r_(n.type,n.pendingProps,le.current),gt=n,sn=!0,c=He,Ei(n.type)?(If=c,He=ln(r.firstChild)):He=c),_t(e,n,n.pendingProps.children,s),Jr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ve&&((c=r=He)&&(r=tS(r,n.type,n.pendingProps,sn),r!==null?(n.stateNode=r,gt=n,He=ln(r.firstChild),sn=!1,c=!0):c=!1),c||oi(n)),Wt(n),c=n.type,u=n.pendingProps,h=e!==null?e.memoizedProps:null,r=u.children,Af(c,u)?r=null:h!==null&&Af(c,h)&&(n.flags|=32),n.memoizedState!==null&&(c=wu(e,n,p1,null,null,s),wl._currentValue=c),Jr(e,n),_t(e,n,r,s),n.child;case 6:return e===null&&ve&&((e=s=He)&&(s=nS(s,n.pendingProps,sn),s!==null?(n.stateNode=s,gt=n,He=null,e=!0):e=!1),e||oi(n)),null;case 13:return Wg(e,n,s);case 4:return Ve(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=es(n,null,r,s):_t(e,n,r,s),n.child;case 11:return qg(e,n,n.type,n.pendingProps,s);case 7:return _t(e,n,n.pendingProps,s),n.child;case 8:return _t(e,n,n.pendingProps.children,s),n.child;case 12:return _t(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ci(n,n.type,r.value),_t(e,n,r.children,s),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Wi(n),c=pt(c),r=r(c),n.flags|=1,_t(e,n,r,s),n.child;case 14:return Vg(e,n,n.type,n.pendingProps,s);case 15:return Gg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return C1(e,n,s);case 22:return Pg(e,n,s,n.pendingProps);case 24:return Wi(n),r=pt(et),e===null?(c=pu(),c===null&&(c=Le,u=mu(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),n.memoizedState={parent:r,cache:c},yu(n),ci(n,et,c)):((e.lanes&s)!==0&&(vu(e,n),ll(n,null,null,s),al()),c=e.memoizedState,u=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ci(n,et,r)):(r=u.cache,ci(n,et,r),r!==c.cache&&hu(n,[et],s,!0))),_t(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Hn(e){e.flags|=4}function ef(e,n,s,r,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(wp())e.flags|=8192;else throw $i=zr,_u}else e.flags&=-16777217}function ep(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(wp())e.flags|=8192;else throw $i=zr,_u}function eo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?st():536870912,e.lanes|=n,na|=n)}function dl(e,n){if(!ve)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function w1(e,n,s){var r=n.pendingProps;switch(ou(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ln(et),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gs(n)?Hn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uu())),Be(n),null;case 26:var c=n.type,u=n.memoizedState;return e===null?(Hn(n),u!==null?(Be(n),ep(n,u)):(Be(n),ef(n,c,null,r,s))):u?u!==e.memoizedState?(Hn(n),Be(n),ep(n,u)):(Be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&Hn(n),Be(n),ef(n,c,e,r,s)),null;case 27:if(An(n),s=le.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Be(n),null}e=P.current,Gs(n)?Im(n):(e=r_(c,r,s),n.stateNode=e,Hn(n))}return Be(n),null;case 5:if(An(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return Be(n),null}if(u=P.current,Gs(n))Im(n);else{var h=po(le.current);switch(u){case 1:u=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=h.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?u.multiple=!0:r.size&&(u.size=r.size);break;default:u=typeof r.is=="string"?h.createElement(c,{is:r.is}):h.createElement(c)}}u[mt]=n,u[At]=r;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)u.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=u;e:switch(yt(u,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Hn(n)}}return Be(n),ef(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&Hn(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=le.current,Gs(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,c=gt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[mt]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Wp(e.nodeValue,s)),e||oi(n,!0)}else e=po(e).createTextNode(r),e[mt]=n,n.stateNode=e}return Be(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Gs(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[mt]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),e=!1}else s=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Yt(n),n):(Yt(n),null);if((n.flags&128)!==0)throw Error(l(558))}return Be(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Gs(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(l(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));c[mt]=n}else Xi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),c=!1}else c=uu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Yt(n),n):(Yt(n),null)}return Yt(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==c&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),eo(n,n.updateQueue),Be(n),null);case 4:return Ge(),e===null&&Tf(n.stateNode.containerInfo),Be(n),null;case 10:return Ln(n.type),Be(n),null;case 19:if(k(Ke),r=n.memoizedState,r===null)return Be(n),null;if(c=(n.flags&128)!==0,u=r.rendering,u===null)if(c)dl(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(u=qr(e),u!==null){for(n.flags|=128,dl(r,!1),e=u.updateQueue,n.updateQueue=e,eo(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Am(s,e),s=s.sibling;return V(Ke,Ke.current&1|2),ve&&In(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Nt()>ao&&(n.flags|=128,c=!0,dl(r,!1),n.lanes=4194304)}else{if(!c)if(e=qr(u),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,eo(n,e),dl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!ve)return Be(n),null}else 2*Nt()-r.renderingStartTime>ao&&s!==536870912&&(n.flags|=128,c=!0,dl(r,!1),n.lanes=4194304);r.isBackwards?(u.sibling=n.child,n.child=u):(e=r.last,e!==null?e.sibling=u:n.child=u,r.last=u)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Nt(),e.sibling=null,s=Ke.current,V(Ke,c?s&1|2:s&1),ve&&In(n,r.treeForkCount),e):(Be(n),null);case 22:case 23:return Yt(n),Tu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),s=n.updateQueue,s!==null&&eo(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&k(Zi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ln(et),Be(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function N1(e,n){switch(ou(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ln(et),Ge(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return An(n),null;case 31:if(n.memoizedState!==null){if(Yt(n),n.alternate===null)throw Error(l(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Yt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Xi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Ke),null;case 4:return Ge(),null;case 10:return Ln(n.type),null;case 22:case 23:return Yt(n),Tu(),e!==null&&k(Zi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ln(et),null;case 25:return null;default:return null}}function tp(e,n){switch(ou(n),n.tag){case 3:Ln(et),Ge();break;case 26:case 27:case 5:An(n);break;case 4:Ge();break;case 31:n.memoizedState!==null&&Yt(n);break;case 13:Yt(n);break;case 19:k(Ke);break;case 10:Ln(n.type);break;case 22:case 23:Yt(n),Tu(),e!==null&&k(Zi);break;case 24:Ln(et)}}function hl(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var c=r.next;s=c;do{if((s.tag&e)===e){r=void 0;var u=s.create,h=s.inst;r=u(),h.destroy=r}s=s.next}while(s!==c)}}catch(_){Re(n,n.return,_)}}function gi(e,n,s){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var u=c.next;r=u;do{if((r.tag&e)===e){var h=r.inst,_=h.destroy;if(_!==void 0){h.destroy=void 0,c=n;var v=s,N=_;try{N()}catch(O){Re(c,v,O)}}}r=r.next}while(r!==u)}}catch(O){Re(n,n.return,O)}}function np(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Fm(n,s)}catch(r){Re(e,e.return,r)}}}function ip(e,n,s){s.props=ns(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Re(e,n,r)}}function ml(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(c){Re(e,n,c)}}function Cn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(c){Re(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Re(e,n,c)}else s.current=null}function sp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(c){Re(e,e.return,c)}}function tf(e,n,s){try{var r=e.stateNode;K1(r,e.type,s,n),r[At]=n}catch(c){Re(e,e.return,c)}}function ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ei(e.type)||e.tag===4}function nf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sf(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Dn));else if(r!==4&&(r===27&&Ei(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(sf(e,n,s),e=e.sibling;e!==null;)sf(e,n,s),e=e.sibling}function to(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&Ei(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(to(e,n,s),e=e.sibling;e!==null;)to(e,n,s),e=e.sibling}function lp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);yt(n,r,s),n[mt]=e,n[At]=s}catch(u){Re(e,e.return,u)}}var Bn=!1,it=!1,af=!1,rp=typeof WeakSet=="function"?WeakSet:Set,ct=null;function A1(e,n){if(e=e.containerInfo,wf=To,e=vm(e),Zc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var c=r.anchorOffset,u=r.focusNode;r=r.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var h=0,_=-1,v=-1,N=0,O=0,I=e,A=null;t:for(;;){for(var R;I!==s||c!==0&&I.nodeType!==3||(_=h+c),I!==u||r!==0&&I.nodeType!==3||(v=h+r),I.nodeType===3&&(h+=I.nodeValue.length),(R=I.firstChild)!==null;)A=I,I=R;for(;;){if(I===e)break t;if(A===s&&++N===c&&(_=h),A===u&&++O===r&&(v=h),(R=I.nextSibling)!==null)break;I=A,A=I.parentNode}I=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(Nf={focusedElem:e,selectionRange:s},To=!1,ct=n;ct!==null;)if(n=ct,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ct=e;else for(;ct!==null;){switch(n=ct,u=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,s=n,c=u.memoizedProps,u=u.memoizedState,r=s.stateNode;try{var Y=ns(s.type,c);e=r.getSnapshotBeforeUpdate(Y,u),r.__reactInternalSnapshotBeforeUpdate=e}catch(W){Re(s,s.return,W)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Df(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Df(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,ct=e;break}ct=n.return}}function op(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Vn(e,s),r&4&&hl(5,s);break;case 1:if(Vn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(h){Re(s,s.return,h)}else{var c=ns(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Re(s,s.return,h)}}r&64&&np(s),r&512&&ml(s,s.return);break;case 3:if(Vn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fm(e,n)}catch(h){Re(s,s.return,h)}}break;case 27:n===null&&r&4&&lp(s);case 26:case 5:Vn(e,s),n===null&&r&4&&sp(s),r&512&&ml(s,s.return);break;case 12:Vn(e,s);break;case 31:Vn(e,s),r&4&&fp(e,s);break;case 13:Vn(e,s),r&4&&dp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=z1.bind(null,s),iS(e,s))));break;case 22:if(r=s.memoizedState!==null||Bn,!r){n=n!==null&&n.memoizedState!==null||it,c=Bn;var u=it;Bn=r,(it=n)&&!u?Gn(e,s,(s.subtreeFlags&8772)!==0):Vn(e,s),Bn=c,it=u}break;case 30:break;default:Vn(e,s)}}function cp(e){var n=e.alternate;n!==null&&(e.alternate=null,cp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&kc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,Dt=!1;function qn(e,n,s){for(s=s.child;s!==null;)up(e,n,s),s=s.sibling}function up(e,n,s){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(qi,s)}catch{}switch(s.tag){case 26:it||Cn(s,n),qn(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:it||Cn(s,n);var r=Pe,c=Dt;Ei(s.type)&&(Pe=s.stateNode,Dt=!1),qn(e,n,s),Tl(s.stateNode),Pe=r,Dt=c;break;case 5:it||Cn(s,n);case 6:if(r=Pe,c=Dt,Pe=null,qn(e,n,s),Pe=r,Dt=c,Pe!==null)if(Dt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(s.stateNode)}catch(u){Re(s,n,u)}else try{Pe.removeChild(s.stateNode)}catch(u){Re(s,n,u)}break;case 18:Pe!==null&&(Dt?(e=Pe,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),ua(e)):n_(Pe,s.stateNode));break;case 4:r=Pe,c=Dt,Pe=s.stateNode.containerInfo,Dt=!0,qn(e,n,s),Pe=r,Dt=c;break;case 0:case 11:case 14:case 15:gi(2,s,n),it||gi(4,s,n),qn(e,n,s);break;case 1:it||(Cn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&ip(s,n,r)),qn(e,n,s);break;case 21:qn(e,n,s);break;case 22:it=(r=it)||s.memoizedState!==null,qn(e,n,s),it=r;break;default:qn(e,n,s)}}function fp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ua(e)}catch(s){Re(n,n.return,s)}}}function dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ua(e)}catch(s){Re(n,n.return,s)}}function R1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new rp),n;default:throw Error(l(435,e.tag))}}function no(e,n){var s=R1(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var c=j1.bind(null,e,r);r.then(c,c)}})}function Ot(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var c=s[r],u=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 27:if(Ei(_.type)){Pe=_.stateNode,Dt=!1;break e}break;case 5:Pe=_.stateNode,Dt=!1;break e;case 3:case 4:Pe=_.stateNode.containerInfo,Dt=!0;break e}_=_.return}if(Pe===null)throw Error(l(160));up(u,h,c),Pe=null,Dt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hp(n,e),n=n.sibling}var fn=null;function hp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Mt(e),r&4&&(gi(3,e,e.return),hl(3,e),gi(5,e,e.return));break;case 1:Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),r&64&&Bn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var c=fn;if(Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),r&4){var u=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":u=c.getElementsByTagName("title")[0],(!u||u[qa]||u[mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(r),c.head.insertBefore(u,c.querySelector("head > title"))),yt(u,r,s),u[mt]=e,ot(u),r=u;break e;case"link":var h=h_("link","href",c).get(r+(s.href||""));if(h){for(var _=0;_<h.length;_++)if(u=h[_],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){h.splice(_,1);break t}}u=c.createElement(r),yt(u,r,s),c.head.appendChild(u);break;case"meta":if(h=h_("meta","content",c).get(r+(s.content||""))){for(_=0;_<h.length;_++)if(u=h[_],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){h.splice(_,1);break t}}u=c.createElement(r),yt(u,r,s),c.head.appendChild(u);break;default:throw Error(l(468,r))}u[mt]=e,ot(u),r=u}e.stateNode=r}else m_(c,e.type,e.stateNode);else e.stateNode=d_(c,r,e.memoizedProps);else u!==r?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,r===null?m_(c,e.type,e.stateNode):d_(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&tf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),s!==null&&r&4&&tf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ot(n,e),Mt(e),r&512&&(it||s===null||Cn(s,s.return)),e.flags&32){c=e.stateNode;try{Is(c,"")}catch(Y){Re(e,e.return,Y)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,tf(e,c,s!==null?s.memoizedProps:c)),r&1024&&(af=!0);break;case 6:if(Ot(n,e),Mt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(Y){Re(e,e.return,Y)}}break;case 3:if(vo=null,c=fn,fn=_o(n.containerInfo),Ot(n,e),fn=c,Mt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{ua(n.containerInfo)}catch(Y){Re(e,e.return,Y)}af&&(af=!1,mp(e));break;case 4:r=fn,fn=_o(e.stateNode.containerInfo),Ot(n,e),Mt(e),fn=r;break;case 12:Ot(n,e),Mt(e);break;case 31:Ot(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,no(e,r)));break;case 13:Ot(n,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(so=Nt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,no(e,r)));break;case 22:c=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,N=Bn,O=it;if(Bn=N||c,it=O||v,Ot(n,e),it=O,Bn=N,Mt(e),r&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||v||Bn||it||is(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(u=v.stateNode,c)h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{_=v.stateNode;var I=v.memoizedProps.style,A=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(Y){Re(v,v.return,Y)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=c?"":v.memoizedProps}catch(Y){Re(v,v.return,Y)}}}else if(n.tag===18){if(s===null){v=n;try{var R=v.stateNode;c?i_(R,!0):i_(v.stateNode,!1)}catch(Y){Re(v,v.return,Y)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,no(e,s))));break;case 19:Ot(n,e),Mt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,no(e,r)));break;case 30:break;case 21:break;default:Ot(n,e),Mt(e)}}function Mt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(ap(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var c=s.stateNode,u=nf(e);to(e,u,c);break;case 5:var h=s.stateNode;s.flags&32&&(Is(h,""),s.flags&=-33);var _=nf(e);to(e,_,h);break;case 3:case 4:var v=s.stateNode.containerInfo,N=nf(e);sf(e,N,v);break;default:throw Error(l(161))}}catch(O){Re(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function mp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Vn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)op(e,n.alternate,n),n=n.sibling}function is(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gi(4,n,n.return),is(n);break;case 1:Cn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ip(n,n.return,s),is(n);break;case 27:Tl(n.stateNode);case 26:case 5:Cn(n,n.return),is(n);break;case 22:n.memoizedState===null&&is(n);break;case 30:is(n);break;default:is(n)}e=e.sibling}}function Gn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,u=n,h=u.flags;switch(u.tag){case 0:case 11:case 15:Gn(c,u,s),hl(4,u);break;case 1:if(Gn(c,u,s),r=u,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Re(r,r.return,N)}if(r=u,c=r.updateQueue,c!==null){var _=r.stateNode;try{var v=c.shared.hiddenCallbacks;if(v!==null)for(c.shared.hiddenCallbacks=null,c=0;c<v.length;c++)Ym(v[c],_)}catch(N){Re(r,r.return,N)}}s&&h&64&&np(u),ml(u,u.return);break;case 27:lp(u);case 26:case 5:Gn(c,u,s),s&&r===null&&h&4&&sp(u),ml(u,u.return);break;case 12:Gn(c,u,s);break;case 31:Gn(c,u,s),s&&h&4&&fp(c,u);break;case 13:Gn(c,u,s),s&&h&4&&dp(c,u);break;case 22:u.memoizedState===null&&Gn(c,u,s),ml(u,u.return);break;case 30:break;default:Gn(c,u,s)}n=n.sibling}}function lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&el(s))}function rf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e))}function dn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(e,n,s,r),n=n.sibling}function gp(e,n,s,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:dn(e,n,s,r),c&2048&&hl(9,n);break;case 1:dn(e,n,s,r);break;case 3:dn(e,n,s,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&el(e)));break;case 12:if(c&2048){dn(e,n,s,r),e=n.stateNode;try{var u=n.memoizedProps,h=u.id,_=u.onPostCommit;typeof _=="function"&&_(h,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Re(n,n.return,v)}}else dn(e,n,s,r);break;case 31:dn(e,n,s,r);break;case 13:dn(e,n,s,r);break;case 23:break;case 22:u=n.stateNode,h=n.alternate,n.memoizedState!==null?u._visibility&2?dn(e,n,s,r):gl(e,n):u._visibility&2?dn(e,n,s,r):(u._visibility|=2,$s(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),c&2048&&lf(h,n);break;case 24:dn(e,n,s,r),c&2048&&rf(n.alternate,n);break;default:dn(e,n,s,r)}}function $s(e,n,s,r,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=e,h=n,_=s,v=r,N=h.flags;switch(h.tag){case 0:case 11:case 15:$s(u,h,_,v,c),hl(8,h);break;case 23:break;case 22:var O=h.stateNode;h.memoizedState!==null?O._visibility&2?$s(u,h,_,v,c):gl(u,h):(O._visibility|=2,$s(u,h,_,v,c)),c&&N&2048&&lf(h.alternate,h);break;case 24:$s(u,h,_,v,c),c&&N&2048&&rf(h.alternate,h);break;default:$s(u,h,_,v,c)}n=n.sibling}}function gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,c=r.flags;switch(r.tag){case 22:gl(s,r),c&2048&&lf(r.alternate,r);break;case 24:gl(s,r),c&2048&&rf(r.alternate,r);break;default:gl(s,r)}n=n.sibling}}var pl=8192;function ea(e,n,s){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)pp(e,n,s),e=e.sibling}function pp(e,n,s){switch(e.tag){case 26:ea(e,n,s),e.flags&pl&&e.memoizedState!==null&&gS(s,fn,e.memoizedState,e.memoizedProps);break;case 5:ea(e,n,s);break;case 3:case 4:var r=fn;fn=_o(e.stateNode.containerInfo),ea(e,n,s),fn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,ea(e,n,s),pl=r):ea(e,n,s));break;default:ea(e,n,s)}}function _p(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _l(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ct=r,vp(r,e)}_p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&gi(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,io(e)):_l(e);break;default:_l(e)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];ct=r,vp(r,e)}_p(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gi(8,n,n.return),io(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,io(n));break;default:io(n)}e=e.sibling}}function vp(e,n){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:gi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:el(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ct=r;else e:for(s=e;ct!==null;){r=ct;var c=r.sibling,u=r.return;if(cp(r),r===s){ct=null;break e}if(c!==null){c.return=u,ct=c;break e}ct=u}}}var D1={getCacheForType:function(e){var n=pt(et),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return pt(et).controller.signal}},O1=typeof WeakMap=="function"?WeakMap:Map,xe=0,Le=null,de=null,pe=0,Ae=0,Ft=null,pi=!1,ta=!1,of=!1,Pn=0,Qe=0,_i=0,ss=0,cf=0,Qt=0,na=0,yl=null,It=null,uf=!1,so=0,bp=0,ao=1/0,lo=null,yi=null,at=0,vi=null,ia=null,Yn=0,ff=0,df=null,Sp=null,vl=0,hf=null;function Xt(){return(xe&2)!==0&&pe!==0?pe&-pe:D.T!==null?vf():zh()}function Ep(){if(Qt===0)if((pe&536870912)===0||ve){var e=L;L<<=1,(L&3932160)===0&&(L=262144),Qt=e}else Qt=536870912;return e=Pt.current,e!==null&&(e.flags|=32),Qt}function kt(e,n,s){(e===Le&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(sa(e,0),bi(e,pe,Qt,!1)),qt(e,s),((xe&2)===0||e!==Le)&&(e===Le&&((xe&2)===0&&(ss|=s),Qe===4&&bi(e,pe,Qt,!1)),xn(e))}function Tp(e,n,s){if((xe&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||te(e,n),c=r?k1(e,n):gf(e,n,!0),u=r;do{if(c===0){ta&&!r&&bi(e,n,0,!1);break}else{if(s=e.current.alternate,u&&!M1(s)){c=gf(e,n,!1),u=!1;continue}if(c===2){if(u=n,e.errorRecoveryDisabledLanes&u)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){n=h;e:{var _=e;c=yl;var v=_.current.memoizedState.isDehydrated;if(v&&(sa(_,h).flags|=256),h=gf(_,h,!1),h!==2){if(of&&!v){_.errorRecoveryDisabledLanes|=u,ss|=u,c=4;break e}u=It,It=c,u!==null&&(It===null?It=u:It.push.apply(It,u))}c=h}if(u=!1,c!==2)continue}}if(c===1){sa(e,0),bi(e,n,0,!0);break}e:{switch(r=e,u=c,u){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:bi(r,n,Qt,!pi);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(c=so+300-Nt(),10<c)){if(bi(r,n,Qt,!pi),G(r,0,!0)!==0)break e;Yn=n,r.timeoutHandle=e_(Cp.bind(null,r,s,It,lo,uf,n,Qt,ss,na,pi,u,"Throttled",-0,0),c);break e}Cp(r,s,It,lo,uf,n,Qt,ss,na,pi,u,null,-0,0)}}break}while(!0);xn(e)}function Cp(e,n,s,r,c,u,h,_,v,N,O,I,A,R){if(e.timeoutHandle=-1,I=n.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},pp(n,u,I);var Y=(u&62914560)===u?so-Nt():(u&4194048)===u?bp-Nt():0;if(Y=pS(I,Y),Y!==null){Yn=u,e.cancelPendingCommit=Y(Mp.bind(null,e,n,u,s,r,c,h,_,v,O,I,null,A,R)),bi(e,u,h,!N);return}}Mp(e,n,u,s,r,c,h,_,v)}function M1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var c=s[r],u=c.getSnapshot;c=c.value;try{if(!Vt(u(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function bi(e,n,s,r){n&=~cf,n&=~ss,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var u=31-Tt(c),h=1<<u;r[u]=-1,c&=~h}s!==0&&ja(e,s,n)}function ro(){return(xe&6)===0?(bl(0),!1):!0}function mf(){if(de!==null){if(Ae===0)var e=de.return;else e=de,kn=Ki=null,Ru(e),Xs=null,nl=0,e=de;for(;e!==null;)tp(e.alternate,e),e=e.return;de=null}}function sa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yn=0,mf(),Le=e,de=s=Mn(e.current,null),pe=n,Ae=0,Ft=null,pi=!1,ta=te(e,n),of=!1,na=Qt=cf=ss=_i=Qe=0,It=yl=null,uf=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Tt(r),u=1<<c;n|=e[c],r&=~u}return Pn=n,Ar(),s}function xp(e,n){se=null,D.H=ul,n===Qs||n===Ur?(n=qm(),Ae=3):n===_u?(n=qm(),Ae=4):Ae=n===Yu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ft=n,de===null&&(Qe=1,Wr(e,en(n,e.current)))}function wp(){var e=Pt.current;return e===null?!0:(pe&4194048)===pe?an===null:(pe&62914560)===pe||(pe&536870912)!==0?e===an:!1}function Np(){var e=D.H;return D.H=ul,e===null?ul:e}function Ap(){var e=D.A;return D.A=D1,e}function oo(){Qe=4,pi||(pe&4194048)!==pe&&Pt.current!==null||(ta=!0),(_i&134217727)===0&&(ss&134217727)===0||Le===null||bi(Le,pe,Qt,!1)}function gf(e,n,s){var r=xe;xe|=2;var c=Np(),u=Ap();(Le!==e||pe!==n)&&(lo=null,sa(e,n)),n=!1;var h=Qe;e:do try{if(Ae!==0&&de!==null){var _=de,v=Ft;switch(Ae){case 8:mf(),h=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(n=!0);var N=Ae;if(Ae=0,Ft=null,aa(e,_,v,N),s&&ta){h=0;break e}break;default:N=Ae,Ae=0,Ft=null,aa(e,_,v,N)}}I1(),h=Qe;break}catch(O){xp(e,O)}while(!0);return n&&e.shellSuspendCounter++,kn=Ki=null,xe=r,D.H=c,D.A=u,de===null&&(Le=null,pe=0,Ar()),h}function I1(){for(;de!==null;)Rp(de)}function k1(e,n){var s=xe;xe|=2;var r=Np(),c=Ap();Le!==e||pe!==n?(lo=null,ao=Nt()+500,sa(e,n)):ta=te(e,n);e:do try{if(Ae!==0&&de!==null){n=de;var u=Ft;t:switch(Ae){case 1:Ae=0,Ft=null,aa(e,n,u,1);break;case 2:case 9:if(Hm(u)){Ae=0,Ft=null,Dp(n);break}n=function(){Ae!==2&&Ae!==9||Le!==e||(Ae=7),xn(e)},u.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Hm(u)?(Ae=0,Ft=null,Dp(n)):(Ae=0,Ft=null,aa(e,n,u,7));break;case 5:var h=null;switch(de.tag){case 26:h=de.memoizedState;case 5:case 27:var _=de;if(h?g_(h):_.stateNode.complete){Ae=0,Ft=null;var v=_.sibling;if(v!==null)de=v;else{var N=_.return;N!==null?(de=N,co(N)):de=null}break t}}Ae=0,Ft=null,aa(e,n,u,5);break;case 6:Ae=0,Ft=null,aa(e,n,u,6);break;case 8:mf(),Qe=6;break e;default:throw Error(l(462))}}L1();break}catch(O){xp(e,O)}while(!0);return kn=Ki=null,D.H=r,D.A=c,xe=s,de!==null?0:(Le=null,pe=0,Ar(),Qe)}function L1(){for(;de!==null&&!xc();)Rp(de)}function Rp(e){var n=$g(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,n===null?co(e):de=n}function Dp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Qg(s,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=Qg(s,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:Ru(n);default:tp(s,n),n=de=Am(n,Pn),n=$g(s,n,Pn)}e.memoizedProps=e.pendingProps,n===null?co(e):de=n}function aa(e,n,s,r){kn=Ki=null,Ru(n),Xs=null,nl=0;var c=n.return;try{if(T1(e,c,n,s,pe)){Qe=1,Wr(e,en(s,e.current)),de=null;return}}catch(u){if(c!==null)throw de=c,u;Qe=1,Wr(e,en(s,e.current)),de=null;return}n.flags&32768?(ve||r===1?e=!0:ta||(pe&536870912)!==0?e=!1:(pi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Pt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Op(n,e)):co(n)}function co(e){var n=e;do{if((n.flags&32768)!==0){Op(n,pi);return}e=n.return;var s=w1(n.alternate,n,Pn);if(s!==null){de=s;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Qe===0&&(Qe=5)}function Op(e,n){do{var s=N1(e.alternate,e);if(s!==null){s.flags&=32767,de=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=s}while(e!==null);Qe=6,de=null}function Mp(e,n,s,r,c,u,h,_,v){e.cancelPendingCommit=null;do uo();while(at!==0);if((xe&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(u=n.lanes|n.childLanes,u|=nu,gr(e,s,u,h,_,v),e===Le&&(de=Le=null,pe=0),ia=n,vi=e,Yn=s,ff=u,df=c,Sp=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,H1(Cs,function(){return zp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=D.T,D.T=null,c=q.p,q.p=2,h=xe,xe|=4;try{A1(e,n,s)}finally{xe=h,q.p=c,D.T=r}}at=1,Ip(),kp(),Lp()}}function Ip(){if(at===1){at=0;var e=vi,n=ia,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=D.T,D.T=null;var r=q.p;q.p=2;var c=xe;xe|=4;try{hp(n,e);var u=Nf,h=vm(e.containerInfo),_=u.focusedElem,v=u.selectionRange;if(h!==_&&_&&_.ownerDocument&&ym(_.ownerDocument.documentElement,_)){if(v!==null&&Zc(_)){var N=v.start,O=v.end;if(O===void 0&&(O=N),"selectionStart"in _)_.selectionStart=N,_.selectionEnd=Math.min(O,_.value.length);else{var I=_.ownerDocument||document,A=I&&I.defaultView||window;if(A.getSelection){var R=A.getSelection(),Y=_.textContent.length,W=Math.min(v.start,Y),Ie=v.end===void 0?W:Math.min(v.end,Y);!R.extend&&W>Ie&&(h=Ie,Ie=W,W=h);var x=_m(_,W),T=_m(_,Ie);if(x&&T&&(R.rangeCount!==1||R.anchorNode!==x.node||R.anchorOffset!==x.offset||R.focusNode!==T.node||R.focusOffset!==T.offset)){var w=I.createRange();w.setStart(x.node,x.offset),R.removeAllRanges(),W>Ie?(R.addRange(w),R.extend(T.node,T.offset)):(w.setEnd(T.node,T.offset),R.addRange(w))}}}}for(I=[],R=_;R=R.parentNode;)R.nodeType===1&&I.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var M=I[_];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}To=!!wf,Nf=wf=null}finally{xe=c,q.p=r,D.T=s}}e.current=n,at=2}}function kp(){if(at===2){at=0;var e=vi,n=ia,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=D.T,D.T=null;var r=q.p;q.p=2;var c=xe;xe|=4;try{op(e,n.alternate,n)}finally{xe=c,q.p=r,D.T=s}}at=3}}function Lp(){if(at===4||at===3){at=0,wc();var e=vi,n=ia,s=Yn,r=Sp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?at=5:(at=0,ia=vi=null,Up(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(yi=null),Ba(s),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(qi,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=D.T,c=q.p,q.p=2,D.T=null;try{for(var u=e.onRecoverableError,h=0;h<r.length;h++){var _=r[h];u(_.value,{componentStack:_.stack})}}finally{D.T=n,q.p=c}}(Yn&3)!==0&&uo(),xn(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===hf?vl++:(vl=0,hf=e):vl=0,bl(0)}}function Up(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,el(n)))}function uo(){return Ip(),kp(),Lp(),zp()}function zp(){if(at!==5)return!1;var e=vi,n=ff;ff=0;var s=Ba(Yn),r=D.T,c=q.p;try{q.p=32>s?32:s,D.T=null,s=df,df=null;var u=vi,h=Yn;if(at=0,ia=vi=null,Yn=0,(xe&6)!==0)throw Error(l(331));var _=xe;if(xe|=4,yp(u.current),gp(u,u.current,h,s),xe=_,bl(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(qi,u)}catch{}return!0}finally{q.p=c,D.T=r,Up(e,n)}}function jp(e,n,s){n=en(s,n),n=Pu(e.stateNode,n,2),e=di(e,n,2),e!==null&&(qt(e,2),xn(e))}function Re(e,n,s){if(e.tag===3)jp(e,e,s);else for(;n!==null;){if(n.tag===3){jp(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){e=en(s,e),s=Hg(2),r=di(n,s,2),r!==null&&(Bg(s,r,n,e),qt(r,2),xn(r));break}}n=n.return}}function pf(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new O1;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(s)||(of=!0,c.add(s),e=U1.bind(null,e,n,s),n.then(e,e))}function U1(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Le===e&&(pe&s)===s&&(Qe===4||Qe===3&&(pe&62914560)===pe&&300>Nt()-so?(xe&2)===0&&sa(e,0):cf|=s,na===pe&&(na=0)),xn(e)}function Hp(e,n){n===0&&(n=st()),e=Fi(e,n),e!==null&&(qt(e,n),xn(e))}function z1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hp(e,s)}function j1(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Hp(e,s)}function H1(e,n){return Ua(e,n)}var fo=null,la=null,_f=!1,ho=!1,yf=!1,Si=0;function xn(e){e!==la&&e.next===null&&(la===null?fo=la=e:la=la.next=e),ho=!0,_f||(_f=!0,q1())}function bl(e,n){if(!yf&&ho){yf=!0;do for(var s=!1,r=fo;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var u=0;else{var h=r.suspendedLanes,_=r.pingedLanes;u=(1<<31-Tt(42|e)+1)-1,u&=c&~(h&~_),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,Gp(r,u))}else u=pe,u=G(r,r===Le?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(u&3)===0||te(r,u)||(s=!0,Gp(r,u));r=r.next}while(s);yf=!1}}function B1(){Bp()}function Bp(){ho=_f=!1;var e=0;Si!==0&&Z1()&&(e=Si);for(var n=Nt(),s=null,r=fo;r!==null;){var c=r.next,u=qp(r,n);u===0?(r.next=null,s===null?fo=c:s.next=c,c===null&&(la=s)):(s=r,(e!==0||(u&3)!==0)&&(ho=!0)),r=c}at!==0&&at!==5||bl(e),Si!==0&&(Si=0)}function qp(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var h=31-Tt(u),_=1<<h,v=c[h];v===-1?((_&s)===0||(_&r)!==0)&&(c[h]=Se(_,n)):v<=n&&(e.expiredLanes|=_),u&=~_}if(n=Le,s=pe,s=G(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ts(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||te(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&Ts(r),Ba(s)){case 2:case 8:s=mr;break;case 32:s=Cs;break;case 268435456:s=za;break;default:s=Cs}return r=Vp.bind(null,e),s=Ua(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&Ts(r),e.callbackPriority=2,e.callbackNode=null,2}function Vp(e,n){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uo()&&e.callbackNode!==s)return null;var r=pe;return r=G(e,e===Le?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Tp(e,r,n),qp(e,Nt()),e.callbackNode!=null&&e.callbackNode===s?Vp.bind(null,e):null)}function Gp(e,n){if(uo())return null;Tp(e,n,!0)}function q1(){$1(function(){(xe&6)!==0?Ua(hr,B1):Bp()})}function vf(){if(Si===0){var e=Ys;e===0&&(e=xs,xs<<=1,(xs&261888)===0&&(xs=256)),Si=e}return Si}function Pp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:br(""+e)}function Yp(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function V1(e,n,s,r,c){if(n==="submit"&&s&&s.stateNode===c){var u=Pp((c[At]||null).action),h=r.submitter;h&&(n=(n=h[At]||null)?Pp(n.formAction):h.getAttribute("formAction"),n!==null&&(u=n,h=null));var _=new Cr("action","action",null,r,c);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Si!==0){var v=h?Yp(c,h):new FormData(c);ju(s,{pending:!0,data:v,method:c.method,action:u},null,v)}}else typeof u=="function"&&(_.preventDefault(),v=h?Yp(c,h):new FormData(c),ju(s,{pending:!0,data:v,method:c.method,action:u},u,v))},currentTarget:c}]})}}for(var bf=0;bf<tu.length;bf++){var Sf=tu[bf],G1=Sf.toLowerCase(),P1=Sf[0].toUpperCase()+Sf.slice(1);un(G1,"on"+P1)}un(Em,"onAnimationEnd"),un(Tm,"onAnimationIteration"),un(Cm,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(l1,"onTransitionRun"),un(r1,"onTransitionStart"),un(o1,"onTransitionCancel"),un(xm,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Fp(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],c=r.event;r=r.listeners;e:{var u=void 0;if(n)for(var h=r.length-1;0<=h;h--){var _=r[h],v=_.instance,N=_.currentTarget;if(_=_.listener,v!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(O){Nr(O)}c.currentTarget=null,u=v}else for(h=0;h<r.length;h++){if(_=r[h],v=_.instance,N=_.currentTarget,_=_.listener,v!==u&&c.isPropagationStopped())break e;u=_,c.currentTarget=N;try{u(c)}catch(O){Nr(O)}c.currentTarget=null,u=v}}}}function he(e,n){var s=n[Ic];s===void 0&&(s=n[Ic]=new Set);var r=e+"__bubble";s.has(r)||(Qp(n,e,2,!1),s.add(r))}function Ef(e,n,s){var r=0;n&&(r|=4),Qp(s,e,r,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function Tf(e){if(!e[mo]){e[mo]=!0,Bh.forEach(function(s){s!=="selectionchange"&&(Y1.has(s)||Ef(s,!1,e),Ef(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mo]||(n[mo]=!0,Ef("selectionchange",!1,n))}}function Qp(e,n,s,r){switch(E_(n)){case 2:var c=vS;break;case 8:c=bS;break;default:c=jf}s=c.bind(null,n,s,e),c=void 0,!Vc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Cf(e,n,s,r,c){var u=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var _=r.stateNode.containerInfo;if(_===c)break;if(h===4)for(h=r.return;h!==null;){var v=h.tag;if((v===3||v===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;_!==null;){if(h=As(_),h===null)return;if(v=h.tag,v===5||v===6||v===26||v===27){r=u=h;continue e}_=_.parentNode}}r=r.return}Jh(function(){var N=u,O=Bc(s),I=[];e:{var A=wm.get(e);if(A!==void 0){var R=Cr,Y=e;switch(e){case"keypress":if(Er(s)===0)break e;case"keydown":case"keyup":R=jb;break;case"focusin":Y="focus",R=Fc;break;case"focusout":Y="blur",R=Fc;break;case"beforeblur":case"afterblur":R=Fc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=qb;break;case Em:case Tm:case Cm:R=Rb;break;case xm:R=Gb;break;case"scroll":case"scrollend":R=Cb;break;case"wheel":R=Yb;break;case"copy":case"cut":case"paste":R=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=im;break;case"toggle":case"beforetoggle":R=Qb}var W=(n&4)!==0,Ie=!W&&(e==="scroll"||e==="scrollend"),x=W?A!==null?A+"Capture":null:A;W=[];for(var T=N,w;T!==null;){var M=T;if(w=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||w===null||x===null||(M=Ga(T,x),M!=null&&W.push(El(T,M,w))),Ie)break;T=T.return}0<W.length&&(A=new R(A,Y,null,s,O),I.push({event:A,listeners:W}))}}if((n&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&s!==Hc&&(Y=s.relatedTarget||s.fromElement)&&(As(Y)||Y[Ns]))break e;if((R||A)&&(A=O.window===O?O:(A=O.ownerDocument)?A.defaultView||A.parentWindow:window,R?(Y=s.relatedTarget||s.toElement,R=N,Y=Y?As(Y):null,Y!==null&&(Ie=f(Y),W=Y.tag,Y!==Ie||W!==5&&W!==27&&W!==6)&&(Y=null)):(R=null,Y=N),R!==Y)){if(W=tm,M="onMouseLeave",x="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(W=im,M="onPointerLeave",x="onPointerEnter",T="pointer"),Ie=R==null?A:Va(R),w=Y==null?A:Va(Y),A=new W(M,T+"leave",R,s,O),A.target=Ie,A.relatedTarget=w,M=null,As(O)===N&&(W=new W(x,T+"enter",Y,s,O),W.target=w,W.relatedTarget=Ie,M=W),Ie=M,R&&Y)t:{for(W=F1,x=R,T=Y,w=0,M=x;M;M=W(M))w++;M=0;for(var X=T;X;X=W(X))M++;for(;0<w-M;)x=W(x),w--;for(;0<M-w;)T=W(T),M--;for(;w--;){if(x===T||T!==null&&x===T.alternate){W=x;break t}x=W(x),T=W(T)}W=null}else W=null;R!==null&&Xp(I,A,R,W,!1),Y!==null&&Ie!==null&&Xp(I,Ie,Y,W,!0)}}e:{if(A=N?Va(N):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var Ee=fm;else if(cm(A))if(dm)Ee=i1;else{Ee=t1;var F=e1}else R=A.nodeName,!R||R.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?N&&jc(N.elementType)&&(Ee=fm):Ee=n1;if(Ee&&(Ee=Ee(e,N))){um(I,Ee,s,O);break e}F&&F(e,A,N),e==="focusout"&&N&&A.type==="number"&&N.memoizedProps.value!=null&&zc(A,"number",A.value)}switch(F=N?Va(N):window,e){case"focusin":(cm(F)||F.contentEditable==="true")&&(zs=F,Jc=N,Za=null);break;case"focusout":Za=Jc=zs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,bm(I,s,O);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":bm(I,s,O)}var re;if(Xc)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Us?rm(e,s)&&(_e="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(sm&&s.locale!=="ko"&&(Us||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Us&&(re=$h()):(ai=O,Gc="value"in ai?ai.value:ai.textContent,Us=!0)),F=go(N,_e),0<F.length&&(_e=new nm(_e,e,null,s,O),I.push({event:_e,listeners:F}),re?_e.data=re:(re=om(s),re!==null&&(_e.data=re)))),(re=Kb?Wb(e,s):Zb(e,s))&&(_e=go(N,"onBeforeInput"),0<_e.length&&(F=new nm("onBeforeInput","beforeinput",null,s,O),I.push({event:F,listeners:_e}),F.data=re)),V1(I,e,N,s,O)}Fp(I,n)})}function El(e,n,s){return{instance:e,listener:n,currentTarget:s}}function go(e,n){for(var s=n+"Capture",r=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Ga(e,s),c!=null&&r.unshift(El(e,c,u)),c=Ga(e,n),c!=null&&r.push(El(e,c,u))),e.tag===3)return r;e=e.return}return[]}function F1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xp(e,n,s,r,c){for(var u=n._reactName,h=[];s!==null&&s!==r;){var _=s,v=_.alternate,N=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||N===null||(v=N,c?(N=Ga(s,u),N!=null&&h.unshift(El(s,N,v))):c||(N=Ga(s,u),N!=null&&h.push(El(s,N,v)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Q1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(Q1,`
`).replace(X1,"")}function Wp(e,n){return n=Kp(n),Kp(e)===n}function Me(e,n,s,r,c,u){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Is(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Is(e,""+r);break;case"className":yr(e,"class",r);break;case"tabIndex":yr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(e,s,r);break;case"style":Wh(e,r,u);break;case"data":if(n!=="object"){yr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=br(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&Me(e,n,"name",c.name,c,null),Me(e,n,"formEncType",c.formEncType,c,null),Me(e,n,"formMethod",c.formMethod,c,null),Me(e,n,"formTarget",c.formTarget,c,null)):(Me(e,n,"encType",c.encType,c,null),Me(e,n,"method",c.method,c,null),Me(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=br(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=br(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":he("beforetoggle",e),he("toggle",e),_r(e,"popover",r);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":_r(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Eb.get(s)||s,_r(e,s,r))}}function xf(e,n,s,r,c,u){switch(s){case"style":Wh(e,r,u);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(c.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Is(e,r):(typeof r=="number"||typeof r=="bigint")&&Is(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),u=e[At]||null,u=u!=null?u[s]:null,typeof u=="function"&&e.removeEventListener(n,u,c),typeof r=="function")){typeof u!="function"&&u!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,c);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):_r(e,s,r)}}}function yt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var h=s[u];if(h!=null)switch(u){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Me(e,n,u,h,s,null)}}c&&Me(e,n,"srcSet",s.srcSet,s,null),r&&Me(e,n,"src",s.src,s,null);return;case"input":he("invalid",e);var _=u=h=c=null,v=null,N=null;for(r in s)if(s.hasOwnProperty(r)){var O=s[r];if(O!=null)switch(r){case"name":c=O;break;case"type":h=O;break;case"checked":v=O;break;case"defaultChecked":N=O;break;case"value":u=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,n));break;default:Me(e,n,r,O,s,null)}}Fh(e,u,_,v,N,h,c,!1);return;case"select":he("invalid",e),r=h=u=null;for(c in s)if(s.hasOwnProperty(c)&&(_=s[c],_!=null))switch(c){case"value":u=_;break;case"defaultValue":h=_;break;case"multiple":r=_;default:Me(e,n,c,_,s,null)}n=u,s=h,e.multiple=!!r,n!=null?Ms(e,!!r,n,!1):s!=null&&Ms(e,!!r,s,!0);return;case"textarea":he("invalid",e),u=c=r=null;for(h in s)if(s.hasOwnProperty(h)&&(_=s[h],_!=null))switch(h){case"value":r=_;break;case"defaultValue":c=_;break;case"children":u=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Me(e,n,h,_,s,null)}Xh(e,r,c,u);return;case"option":for(v in s)if(s.hasOwnProperty(v)&&(r=s[v],r!=null))switch(v){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Me(e,n,v,r,s,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<Sl.length;r++)he(Sl[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Me(e,n,N,r,s,null)}return;default:if(jc(n)){for(O in s)s.hasOwnProperty(O)&&(r=s[O],r!==void 0&&xf(e,n,O,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Me(e,n,_,r,s,null))}function K1(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,h=null,_=null,v=null,N=null,O=null;for(R in s){var I=s[R];if(s.hasOwnProperty(R)&&I!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=I;default:r.hasOwnProperty(R)||Me(e,n,R,null,r,I)}}for(var A in r){var R=r[A];if(I=s[A],r.hasOwnProperty(A)&&(R!=null||I!=null))switch(A){case"type":u=R;break;case"name":c=R;break;case"checked":N=R;break;case"defaultChecked":O=R;break;case"value":h=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==I&&Me(e,n,A,R,r,I)}}Uc(e,h,_,v,N,O,u,c);return;case"select":R=h=_=A=null;for(u in s)if(v=s[u],s.hasOwnProperty(u)&&v!=null)switch(u){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(u)||Me(e,n,u,null,r,v)}for(c in r)if(u=r[c],v=s[c],r.hasOwnProperty(c)&&(u!=null||v!=null))switch(c){case"value":A=u;break;case"defaultValue":_=u;break;case"multiple":h=u;default:u!==v&&Me(e,n,c,u,r,v)}n=_,s=h,r=R,A!=null?Ms(e,!!s,A,!1):!!r!=!!s&&(n!=null?Ms(e,!!s,n,!0):Ms(e,!!s,s?[]:"",!1));return;case"textarea":R=A=null;for(_ in s)if(c=s[_],s.hasOwnProperty(_)&&c!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,n,_,null,r,c)}for(h in r)if(c=r[h],u=s[h],r.hasOwnProperty(h)&&(c!=null||u!=null))switch(h){case"value":A=c;break;case"defaultValue":R=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(l(91));break;default:c!==u&&Me(e,n,h,c,r,u)}Qh(e,A,R);return;case"option":for(var Y in s)if(A=s[Y],s.hasOwnProperty(Y)&&A!=null&&!r.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:Me(e,n,Y,null,r,A)}for(v in r)if(A=r[v],R=s[v],r.hasOwnProperty(v)&&A!==R&&(A!=null||R!=null))switch(v){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Me(e,n,v,A,r,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in s)A=s[W],s.hasOwnProperty(W)&&A!=null&&!r.hasOwnProperty(W)&&Me(e,n,W,null,r,A);for(N in r)if(A=r[N],R=s[N],r.hasOwnProperty(N)&&A!==R&&(A!=null||R!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(137,n));break;default:Me(e,n,N,A,r,R)}return;default:if(jc(n)){for(var Ie in s)A=s[Ie],s.hasOwnProperty(Ie)&&A!==void 0&&!r.hasOwnProperty(Ie)&&xf(e,n,Ie,void 0,r,A);for(O in r)A=r[O],R=s[O],!r.hasOwnProperty(O)||A===R||A===void 0&&R===void 0||xf(e,n,O,A,r,R);return}}for(var x in s)A=s[x],s.hasOwnProperty(x)&&A!=null&&!r.hasOwnProperty(x)&&Me(e,n,x,null,r,A);for(I in r)A=r[I],R=s[I],!r.hasOwnProperty(I)||A===R||A==null&&R==null||Me(e,n,I,A,r,R)}function Zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var c=s[r],u=c.transferSize,h=c.initiatorType,_=c.duration;if(u&&_&&Zp(h)){for(h=0,_=c.responseEnd,r+=1;r<s.length;r++){var v=s[r],N=v.startTime;if(N>_)break;var O=v.transferSize,I=v.initiatorType;O&&Zp(I)&&(v=v.responseEnd,h+=O*(v<_?1:(_-N)/(v-N)))}if(--r,n+=8*(u+h)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wf=null,Nf=null;function po(e){return e.nodeType===9?e:e.ownerDocument}function Jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $p(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Af(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===Rf?!1:(Rf=e,!0):(Rf=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(eS)}:e_;function eS(e){setTimeout(function(){throw e})}function Ei(e){return e==="head"}function n_(e,n){var s=n,r=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(c),ua(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Tl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Tl(s);for(var u=s.firstChild;u;){var h=u.nextSibling,_=u.nodeName;u[qa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=h}}else s==="body"&&Tl(e.ownerDocument.body);s=c}while(s);ua(n)}function i_(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function Df(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Df(s),kc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function tS(e,n,s,r){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[qa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function nS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ln(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ln(e.nextSibling),e===null))return null;return e}function Of(e){return e.data==="$?"||e.data==="$~"}function Mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function iS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var If=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,s){switch(n=po(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);kc(e)}var rn=new Map,o_=new Set;function _o(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=q.d;q.d={f:sS,r:aS,D:lS,C:rS,L:oS,m:cS,X:fS,S:uS,M:dS};function sS(){var e=Fn.f(),n=ro();return e||n}function aS(e){var n=Rs(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):Fn.r(e)}var ra=typeof document>"u"?null:document;function c_(e,n,s){var r=ra;if(r&&typeof n=="string"&&n){var c=Jt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),o_.has(c)||(o_.add(c),e={rel:e,crossOrigin:s,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),yt(n,"link",e),ot(n),r.head.appendChild(n)))}}function lS(e){Fn.D(e),c_("dns-prefetch",e,null)}function rS(e,n){Fn.C(e,n),c_("preconnect",e,n)}function oS(e,n,s){Fn.L(e,n,s);var r=ra;if(r&&e&&n){var c='link[rel="preload"][as="'+Jt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Jt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Jt(s.imageSizes)+'"]')):c+='[href="'+Jt(e)+'"]';var u=c;switch(n){case"style":u=oa(e);break;case"script":u=ca(e)}rn.has(u)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),rn.set(u,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(Cl(u))||n==="script"&&r.querySelector(xl(u))||(n=r.createElement("link"),yt(n,"link",e),ot(n),r.head.appendChild(n)))}}function cS(e,n){Fn.m(e,n);var s=ra;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Jt(r)+'"][href="'+Jt(e)+'"]',u=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ca(e)}if(!rn.has(u)&&(e=b({rel:"modulepreload",href:e},n),rn.set(u,e),s.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(xl(u)))return}r=s.createElement("link"),yt(r,"link",e),ot(r),s.head.appendChild(r)}}}function uS(e,n,s){Fn.S(e,n,s);var r=ra;if(r&&e){var c=Ds(r).hoistableStyles,u=oa(e);n=n||"default";var h=c.get(u);if(!h){var _={loading:0,preload:null};if(h=r.querySelector(Cl(u)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=rn.get(u))&&kf(e,s);var v=h=r.createElement("link");ot(v),yt(v,"link",e),v._p=new Promise(function(N,O){v.onload=N,v.onerror=O}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,yo(h,n,r)}h={type:"stylesheet",instance:h,count:1,state:_},c.set(u,h)}}}function fS(e,n){Fn.X(e,n);var s=ra;if(s&&e){var r=Ds(s).hoistableScripts,c=ca(e),u=r.get(c);u||(u=s.querySelector(xl(c)),u||(e=b({src:e,async:!0},n),(n=rn.get(c))&&Lf(e,n),u=s.createElement("script"),ot(u),yt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function dS(e,n){Fn.M(e,n);var s=ra;if(s&&e){var r=Ds(s).hoistableScripts,c=ca(e),u=r.get(c);u||(u=s.querySelector(xl(c)),u||(e=b({src:e,async:!0,type:"module"},n),(n=rn.get(c))&&Lf(e,n),u=s.createElement("script"),ot(u),yt(u,"link",e),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},r.set(c,u))}}function u_(e,n,s,r){var c=(c=le.current)?_o(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=oa(s.href),s=Ds(c).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=oa(s.href);var u=Ds(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Cl(e)))&&!u._p&&(h.instance=u,h.state.loading=5),rn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},rn.set(e,s),u||hS(c,e,s,h.state))),n&&r===null)throw Error(l(528,""));return h}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ca(s),s=Ds(c).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function oa(e){return'href="'+Jt(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),yt(n,"link",s),ot(n),e.head.appendChild(n))}function ca(e){return'[src="'+Jt(e)+'"]'}function xl(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Jt(s.href)+'"]');if(r)return n.instance=r,ot(r),r;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),ot(r),yt(r,"style",c),yo(r,s.precedence,e),n.instance=r;case"stylesheet":c=oa(s.href);var u=e.querySelector(Cl(c));if(u)return n.state.loading|=4,n.instance=u,ot(u),u;r=f_(s),(c=rn.get(c))&&kf(r,c),u=(e.ownerDocument||e).createElement("link"),ot(u);var h=u;return h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),yt(u,"link",r),n.state.loading|=4,yo(u,s.precedence,e),n.instance=u;case"script":return u=ca(s.src),(c=e.querySelector(xl(u)))?(n.instance=c,ot(c),c):(r=s,(c=rn.get(u))&&(r=b({},s),Lf(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),ot(c),yt(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,yo(r,s.precedence,e));return n.instance}function yo(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,u=c,h=0;h<r.length;h++){var _=r[h];if(_.dataset.precedence===n)u=_;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vo=null;function h_(e,n,s){if(vo===null){var r=new Map,c=vo=new Map;c.set(s,r)}else c=vo,r=c.get(s),r||(r=new Map,c.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var u=s[c];if(!(u[qa]||u[mt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var h=u.getAttribute(n)||"";h=e+h;var _=r.get(h);_?_.push(u):r.set(h,[u])}}return r}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gS(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=oa(r.href),u=n.querySelector(Cl(c));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bo.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=u,ot(u);return}u=n.ownerDocument||n,r=f_(r),(c=rn.get(c))&&kf(r,c),u=u.createElement("link"),ot(u);var h=u;h._p=new Promise(function(_,v){h.onload=_,h.onerror=v}),yt(u,"link",r),s.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=bo.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Uf=0;function pS(e,n){return e.stylesheets&&e.count===0&&Eo(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&Eo(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+n);0<e.imgBytes&&Uf===0&&(Uf=62500*W1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Eo(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Uf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function bo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Eo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var So=null;function Eo(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,So=new Map,n.forEach(_S,e),So=null,bo.call(e))}function _S(e,n){if(!(n.state.loading&4)){var s=So.get(e);if(s)var r=s.get(null);else{s=new Map,So.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var h=c[u];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(s.set(h.dataset.precedence,h),r=h)}r&&s.set(null,r)}c=n.instance,h=c.getAttribute("data-precedence"),u=s.get(h)||r,u===r&&s.set(null,c),s.set(h,c),this.count++,r=bo.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var wl={$$typeof:De,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function yS(e,n,s,r,c,u,h,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function p_(e,n,s,r,c,u,h,_,v,N,O,I){return e=new yS(e,n,s,h,v,N,O,I,_),n=1,u===!0&&(n|=24),u=Gt(3,null,null,n),e.current=u,u.stateNode=e,n=mu(),n.refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:s,cache:n},yu(u),e}function __(e){return e?(e=Bs,e):Bs}function y_(e,n,s,r,c,u){c=__(c),r.context===null?r.context=c:r.pendingContext=c,r=fi(n),r.payload={element:s},u=u===void 0?null:u,u!==null&&(r.callback=u),s=di(e,r,n),s!==null&&(kt(s,e,n),sl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function zf(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=Fi(e,67108864);n!==null&&kt(n,e,67108864),zf(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=Xt();n=Ha(n);var s=Fi(e,n);s!==null&&kt(s,e,n),zf(e,n)}}var To=!0;function vS(e,n,s,r){var c=D.T;D.T=null;var u=q.p;try{q.p=2,jf(e,n,s,r)}finally{q.p=u,D.T=c}}function bS(e,n,s,r){var c=D.T;D.T=null;var u=q.p;try{q.p=8,jf(e,n,s,r)}finally{q.p=u,D.T=c}}function jf(e,n,s,r){if(To){var c=Hf(r);if(c===null)Cf(e,n,r,Co,s),T_(e,r);else if(ES(c,e,n,s,r))r.stopPropagation();else if(T_(e,r),n&4&&-1<SS.indexOf(e)){for(;c!==null;){var u=Rs(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var h=B(u.pendingLanes);if(h!==0){var _=u;for(_.pendingLanes|=2,_.entangledLanes|=2;h;){var v=1<<31-Tt(h);_.entanglements[1]|=v,h&=~v}xn(u),(xe&6)===0&&(ao=Nt()+500,bl(0))}}break;case 31:case 13:_=Fi(u,2),_!==null&&kt(_,u,2),ro(),zf(u,2)}if(u=Hf(r),u===null&&Cf(e,n,r,Co,s),u===c)break;c=u}c!==null&&r.stopPropagation()}else Cf(e,n,r,null,s)}}function Hf(e){return e=Bc(e),Bf(e)}var Co=null;function Bf(e){if(Co=null,e=As(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Co=e,null}function E_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case hr:return 2;case mr:return 8;case Cs:case Nc:return 32;case za:return 268435456;default:return 32}default:return 32}}var qf=!1,Ti=null,Ci=null,xi=null,Nl=new Map,Al=new Map,wi=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(e,n){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Rl(e,n,s,r,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:u,targetContainers:[c]},n!==null&&(n=Rs(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function ES(e,n,s,r,c){switch(n){case"focusin":return Ti=Rl(Ti,e,n,s,r,c),!0;case"dragenter":return Ci=Rl(Ci,e,n,s,r,c),!0;case"mouseover":return xi=Rl(xi,e,n,s,r,c),!0;case"pointerover":var u=c.pointerId;return Nl.set(u,Rl(Nl.get(u)||null,e,n,s,r,c)),!0;case"gotpointercapture":return u=c.pointerId,Al.set(u,Rl(Al.get(u)||null,e,n,s,r,c)),!0}return!1}function C_(e){var n=As(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jh(e.priority,function(){S_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,jh(e.priority,function(){S_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Hf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Hc=r,s.target.dispatchEvent(r),Hc=null}else return n=Rs(s),n!==null&&b_(n),e.blockedOn=s,!1;n.shift()}return!0}function x_(e,n,s){xo(e)&&s.delete(n)}function TS(){qf=!1,Ti!==null&&xo(Ti)&&(Ti=null),Ci!==null&&xo(Ci)&&(Ci=null),xi!==null&&xo(xi)&&(xi=null),Nl.forEach(x_),Al.forEach(x_)}function wo(e,n){e.blockedOn===n&&(e.blockedOn=null,qf||(qf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,TS)))}var No=null;function w_(e){No!==e&&(No=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){No===e&&(No=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if(Bf(r||s)===null)continue;break}var u=Rs(s);u!==null&&(e.splice(n,3),n-=3,ju(u,{pending:!0,data:c,method:s.method,action:r},r,c))}}))}function ua(e){function n(v){return wo(v,e)}Ti!==null&&wo(Ti,e),Ci!==null&&wo(Ci,e),xi!==null&&wo(xi,e),Nl.forEach(n),Al.forEach(n);for(var s=0;s<wi.length;s++){var r=wi[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<wi.length&&(s=wi[0],s.blockedOn===null);)C_(s),s.blockedOn===null&&wi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var c=s[r],u=s[r+1],h=c[At]||null;if(typeof u=="function")h||w_(s);else if(h){var _=null;if(u&&u.hasAttribute("formAction")){if(c=u,h=u[At]||null)_=h.formAction;else if(Bf(c)!==null)continue}else _=h.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),w_(s)}}}function N_(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Vf(e){this._internalRoot=e}Ao.prototype.render=Vf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Xt();y_(s,r,e,n,null,null)},Ao.prototype.unmount=Vf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),ro(),n[Ns]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var n=zh();e={blockedOn:null,target:e,priority:n};for(var s=0;s<wi.length&&n!==0&&n<wi[s].priority;s++);wi.splice(s,0,e),s===0&&C_(e)}};var A_=t.version;if(A_!=="19.2.0")throw Error(l(527,A_,"19.2.0"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var CS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{qi=Ro.inject(CS),Et=Ro}catch{}}return Ol.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",c=Lg,u=Ug,h=zg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=p_(e,1,!1,null,null,s,r,null,c,u,h,N_),e[Ns]=n.current,Tf(e),new Vf(n)},Ol.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,c="",u=Lg,h=Ug,_=zg,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=p_(e,1,!0,n,s??null,r,c,v,u,h,_,N_),n.context=__(null),s=n.current,r=Xt(),r=Ha(r),c=fi(r),c.callback=null,di(s,c,r),s=r,n.current.lanes=s,qt(n,s),xn(n),e[Ns]=n.current,Tf(e),new Ao(n)},Ol.version="19.2.0",Ol}var j_;function LS(){if(j_)return Yf.exports;j_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Yf.exports=kS(),Yf.exports}var US=LS();const zS=()=>{};var H_={};const i0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const H=function(a,t){if(!a)throw xa(t)},xa=function(a){return new Error("Firebase Database ("+i0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const s0=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},jS=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],d=a[i++],m=a[i++],p=((o&7)<<18|(f&63)<<12|(d&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(p>>10)),t[l++]=String.fromCharCode(56320+(p&1023))}else{const f=a[i++],d=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|d&63)}}return t.join("")},Bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],d=o+1<a.length,m=d?a[o+1]:0,p=o+2<a.length,g=p?a[o+2]:0,S=f>>2,b=(f&3)<<4|m>>4;let E=(m&15)<<2|g>>6,z=g&63;p||(z=64,d||(E=64)),l.push(i[S],i[b],i[E],i[z])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(s0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):jS(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const g=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||g==null||b==null)throw new HS;const E=f<<2|m>>4;if(l.push(E),g!==64){const z=m<<4&240|g>>2;if(l.push(z),b!==64){const U=g<<6&192|b;l.push(U)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a0=function(a){const t=s0(a);return Bd.encodeByteArray(t,!0)},qo=function(a){return a0(a).replace(/\./g,"")},Vo=function(a){try{return Bd.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function BS(a){return l0(void 0,a)}function l0(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!qS(i)||(a[i]=l0(a[i],t[i]));return a}function qS(a){return a!=="__proto__"}function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GS=()=>VS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof H_>"u")return;const a=H_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},YS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&Vo(a[1]);return t&&JSON.parse(t)},qd=()=>{try{return zS()||GS()||PS()||YS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r0=a=>qd()?.emulatorHosts?.[a],FS=a=>{const t=r0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},o0=()=>qd()?.config,c0=a=>qd()?.[`_${a}`];class fc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function wa(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function u0(a){return(await fetch(a,{credentials:"include"})).ok}function QS(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[qo(JSON.stringify(i)),qo(JSON.stringify(d)),""].join(".")}const Bl={};function XS(){const a={prod:[],emulator:[]};for(const t of Object.keys(Bl))Bl[t]?a.emulator.push(t):a.prod.push(t);return a}function KS(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let B_=!1;function f0(a,t){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||Bl[a]===t||Bl[a]||B_)return;Bl[a]=t;function i(E){return`__firebase__banner__${E}`}const l="__firebase__banner",f=XS().prod.length>0;function d(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,z){E.setAttribute("width","24"),E.setAttribute("id",z),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{B_=!0,d()},E}function S(E,z){E.setAttribute("id",z),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=KS(l),z=i("text"),U=document.getElementById(z)||document.createElement("span"),K=i("learnmore"),ce=document.getElementById(K)||document.createElement("a"),ge=i("preprendIcon"),ae=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const De=E.element;m(De),S(ce,K);const ye=g();p(ae,ge),De.append(ae,U,ce,ye),document.body.appendChild(De)}f?(U.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function WS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZS(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function d0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JS(){const a=wt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function $S(){return i0.NODE_ADMIN===!0}function eE(){try{return typeof indexedDB=="object"}catch{return!1}}function tE(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const nE="FirebaseError";class ji extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=nE,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}}class ir{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],d=f?iE(f,l):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new ji(o,m,l)}}function iE(a,t){return a.replace(sE,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const sE=/\{\$([^}]+)}/g;function Ql(a){return JSON.parse(a)}function dt(a){return JSON.stringify(a)}const h0=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=Ql(Vo(f[0])||""),i=Ql(Vo(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},aE=function(a){const t=h0(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},lE=function(a){const t=h0(a).claims;return typeof t=="object"&&t.admin===!0};function ii(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function va(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function md(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Go(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function hs(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],d=t[o];if(q_(f)&&q_(d)){if(!hs(f,d))return!1}else if(f!==d)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function q_(a){return a!==null&&typeof a=="object"}function Na(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class rE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)l[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)l[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const E=l[b-3]^l[b-8]^l[b-14]^l[b-16];l[b]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],d=this.chain_[2],m=this.chain_[3],p=this.chain_[4],g,S;for(let b=0;b<80;b++){b<40?b<20?(g=m^f&(d^m),S=1518500249):(g=f^d^m,S=1859775393):b<60?(g=f&d|m&(f|d),S=2400959708):(g=f^d^m,S=3395469782);const E=(o<<5|o>>>27)+g+p+S+l[b]&4294967295;p=m,m=d,d=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let d=this.inbuf_;for(;o<i;){if(d===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}else for(;o<i;)if(f[d]=t[o],++d,++o,d===this.blockSize){this.compress_(f),d=0;break}}this.inbuf_=d,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function oE(a,t){const i=new cE(a,t);return i.subscribe.bind(i)}class cE{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");uE(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=Kf),o.error===void 0&&(o.error=Kf),o.complete===void 0&&(o.complete=Kf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uE(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Kf(){}function Gd(a,t){return`${a} failed: ${t} argument `}const fE=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,H(l<a.length,"Surrogate pair missing trail surrogate.");const d=a.charCodeAt(l)-56320;o=65536+(f<<10)+d}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},dc=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function Ht(a){return a&&a._delegate?a._delegate:a}class ms{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const rs="[DEFAULT]";class dE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new fc;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mE(t))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rs){return this.instances.has(t)}getOptions(t=rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&d.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:hE(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=rs){return this.component?this.component.multipleInstances?t:rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hE(a){return a===rs?void 0:a}function mE(a){return a.instantiationMode==="EAGER"}class gE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var ke;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ke||(ke={}));const pE={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},_E=ke.INFO,yE={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},vE=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=yE[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pd{constructor(t){this.name=t,this._logLevel=_E,this._logHandler=vE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ke))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...t),this._logHandler(this,ke.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...t),this._logHandler(this,ke.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...t),this._logHandler(this,ke.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...t),this._logHandler(this,ke.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...t),this._logHandler(this,ke.ERROR,...t)}}const bE=(a,t)=>t.some(i=>a instanceof i);let V_,G_;function SE(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EE(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,gd=new WeakMap,g0=new WeakMap,Wf=new WeakMap,Yd=new WeakMap;function TE(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",d)},f=()=>{i(Mi(a.result)),o()},d=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&m0.set(i,a)}).catch(()=>{}),Yd.set(t,a),t}function CE(a){if(gd.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",d),a.removeEventListener("abort",d)},f=()=>{i(),o()},d=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",d),a.addEventListener("abort",d)});gd.set(a,t)}let pd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return gd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||g0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mi(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function xE(a){pd=a(pd)}function wE(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Zf(this),t,...i);return g0.set(l,t.sort?t.sort():[t]),Mi(l)}:EE().includes(a)?function(...t){return a.apply(Zf(this),t),Mi(m0.get(this))}:function(...t){return Mi(a.apply(Zf(this),t))}}function NE(a){return typeof a=="function"?wE(a):(a instanceof IDBTransaction&&CE(a),bE(a,SE())?new Proxy(a,pd):a)}function Mi(a){if(a instanceof IDBRequest)return TE(a);if(Wf.has(a))return Wf.get(a);const t=NE(a);return t!==a&&(Wf.set(a,t),Yd.set(t,a)),t}const Zf=a=>Yd.get(a);function AE(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const d=indexedDB.open(a,t),m=Mi(d);return l&&d.addEventListener("upgradeneeded",p=>{l(Mi(d.result),p.oldVersion,p.newVersion,Mi(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{f&&p.addEventListener("close",()=>f()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const RE=["get","getKey","getAll","getAllKeys","count"],DE=["put","add","delete","clear"],Jf=new Map;function P_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Jf.get(t))return Jf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=DE.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||RE.includes(i)))return;const f=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return l&&(g=g.index(m.shift())),(await Promise.all([g[i](...m),o&&p.done]))[0]};return Jf.set(t,f),f}xE(a=>({...a,get:(t,i,l)=>P_(t,i)||a.get(t,i,l),has:(t,i)=>!!P_(t,i)||a.has(t,i)}));class OE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ME(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function ME(a){return a.getComponent()?.type==="VERSION"}const _d="@firebase/app",Y_="0.14.6";const $n=new Pd("@firebase/app"),IE="@firebase/app-compat",kE="@firebase/analytics-compat",LE="@firebase/analytics",UE="@firebase/app-check-compat",zE="@firebase/app-check",jE="@firebase/auth",HE="@firebase/auth-compat",BE="@firebase/database",qE="@firebase/data-connect",VE="@firebase/database-compat",GE="@firebase/functions",PE="@firebase/functions-compat",YE="@firebase/installations",FE="@firebase/installations-compat",QE="@firebase/messaging",XE="@firebase/messaging-compat",KE="@firebase/performance",WE="@firebase/performance-compat",ZE="@firebase/remote-config",JE="@firebase/remote-config-compat",$E="@firebase/storage",eT="@firebase/storage-compat",tT="@firebase/firestore",nT="@firebase/ai",iT="@firebase/firestore-compat",sT="firebase",aT="12.6.0";const yd="[DEFAULT]",lT={[_d]:"fire-core",[IE]:"fire-core-compat",[LE]:"fire-analytics",[kE]:"fire-analytics-compat",[zE]:"fire-app-check",[UE]:"fire-app-check-compat",[jE]:"fire-auth",[HE]:"fire-auth-compat",[BE]:"fire-rtdb",[qE]:"fire-data-connect",[VE]:"fire-rtdb-compat",[GE]:"fire-fn",[PE]:"fire-fn-compat",[YE]:"fire-iid",[FE]:"fire-iid-compat",[QE]:"fire-fcm",[XE]:"fire-fcm-compat",[KE]:"fire-perf",[WE]:"fire-perf-compat",[ZE]:"fire-rc",[JE]:"fire-rc-compat",[$E]:"fire-gcs",[eT]:"fire-gcs-compat",[tT]:"fire-fst",[iT]:"fire-fst-compat",[nT]:"fire-vertex","fire-js":"fire-js",[sT]:"fire-js-all"};const Po=new Map,rT=new Map,vd=new Map;function F_(a,t){try{a.container.addComponent(t)}catch(i){$n.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ba(a){const t=a.name;if(vd.has(t))return $n.debug(`There were multiple attempts to register component ${t}.`),!1;vd.set(t,a);for(const i of Po.values())F_(i,a);for(const i of rT.values())F_(i,a);return!0}function Fd(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function hn(a){return a==null?!1:a.settings!==void 0}const oT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new ir("app","Firebase",oT);class cT{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const Aa=aT;function p0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:yd,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(i||(i=o0()),!i)throw Ii.create("no-options");const f=Po.get(o);if(f){if(hs(i,f.options)&&hs(l,f.config))return f;throw Ii.create("duplicate-app",{appName:o})}const d=new gE(o);for(const p of vd.values())d.addComponent(p);const m=new cT(i,l,d);return Po.set(o,m),m}function _0(a=yd){const t=Po.get(a);if(!t&&a===yd&&o0())return p0();if(!t)throw Ii.create("no-app",{appName:a});return t}function ki(a,t,i){let l=lT[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const d=[`Unable to register library "${l}" with version "${t}":`];o&&d.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}ba(new ms(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const uT="firebase-heartbeat-database",fT=1,Xl="firebase-heartbeat-store";let $f=null;function y0(){return $f||($f=AE(uT,fT,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ii.create("idb-open",{originalErrorMessage:a.message})})),$f}async function dT(a){try{const i=(await y0()).transaction(Xl),l=await i.objectStore(Xl).get(v0(a));return await i.done,l}catch(t){if(t instanceof ji)$n.warn(t.message);else{const i=Ii.create("idb-get",{originalErrorMessage:t?.message});$n.warn(i.message)}}}async function Q_(a,t){try{const l=(await y0()).transaction(Xl,"readwrite");await l.objectStore(Xl).put(t,v0(a)),await l.done}catch(i){if(i instanceof ji)$n.warn(i.message);else{const l=Ii.create("idb-set",{originalErrorMessage:i?.message});$n.warn(l.message)}}}function v0(a){return`${a.name}!${a.options.appId}`}const hT=1024,mT=30;class gT{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _T(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>mT){const o=yT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$n.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:l}=pT(this._heartbeatsCache.heartbeats),o=qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return $n.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function pT(a,t=hT){const i=[];let l=a.slice();for(const o of a){const f=i.find(d=>d.agent===o.agent);if(f){if(f.dates.push(o.date),K_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),K_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class _T{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eE()?tE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dT(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return Q_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function K_(a){return qo(JSON.stringify({version:2,heartbeats:a})).length}function yT(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function vT(a){ba(new ms("platform-logger",t=>new OE(t),"PRIVATE")),ba(new ms("heartbeat",t=>new gT(t),"PRIVATE")),ki(_d,Y_,a),ki(_d,Y_,"esm2020"),ki("fire-js","")}vT("");var bT="firebase",ST="12.6.0";ki(bT,ST,"app");function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ET=b0,S0=new ir("auth","Firebase",b0());const Yo=new Pd("@firebase/auth");function TT(a,...t){Yo.logLevel<=ke.WARN&&Yo.warn(`Auth (${Aa}): ${a}`,...t)}function ko(a,...t){Yo.logLevel<=ke.ERROR&&Yo.error(`Auth (${Aa}): ${a}`,...t)}function Nn(a,...t){throw Xd(a,...t)}function yn(a,...t){return Xd(a,...t)}function Qd(a,t,i){const l={...ET(),[t]:i};return new ir("auth","Firebase",l).create(t,{appName:a.name})}function ds(a){return Qd(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CT(a,t,i){const l=i;if(!(t instanceof l))throw l.name!==t.constructor.name&&Nn(a,"argument-error"),Qd(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xd(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return S0.create(a,...t)}function $(a,t,...i){if(!a)throw Xd(t,...i)}function Kn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw ko(t),new Error(t)}function ei(a,t){a||Kn(t)}function bd(){return typeof self<"u"&&self.location?.href||""}function xT(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function wT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xT()||ZS()||"connection"in navigator)?navigator.onLine:!0}function NT(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class sr{constructor(t,i){this.shortDelay=t,this.longDelay=i,ei(i>t,"Short delay should be less than long delay!"),this.isMobile=Vd()||d0()}get(){return wT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kd(a,t){ei(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class E0{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DT=new sr(3e4,6e4);function Wd(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function Ra(a,t,i,l,o={}){return T0(a,o,async()=>{let f={},d={};l&&(t==="GET"?d=l:f={body:JSON.stringify(l)});const m=Na({key:a.config.apiKey,...d}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const g={method:t,headers:p,...f};return WS()||(g.referrerPolicy="no-referrer"),a.emulatorConfig&&wa(a.emulatorConfig.host)&&(g.credentials="include"),E0.fetch()(await C0(a,a.config.apiHost,i,m),g)})}async function T0(a,t,i){a._canInitEmulator=!1;const l={...AT,...t};try{const o=new MT(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await f.json();if("needConfirmation"in d)throw Do(a,"account-exists-with-different-credential",d);if(f.ok&&!("errorMessage"in d))return d;{const m=f.ok?d.errorMessage:d.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Do(a,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Do(a,"email-already-in-use",d);if(p==="USER_DISABLED")throw Do(a,"user-disabled",d);const S=l[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Qd(a,S,g);Nn(a,S)}}catch(o){if(o instanceof ji)throw o;Nn(a,"network-request-failed",{message:String(o)})}}async function OT(a,t,i,l,o={}){const f=await Ra(a,t,i,l,o);return"mfaPendingCredential"in f&&Nn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function C0(a,t,i,l){const o=`${t}${i}?${l}`,f=a,d=f.config.emulator?Kd(a.config,o):`${a.config.apiScheme}://${o}`;return RT.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(d).toString():d}class MT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(yn(this.auth,"network-request-failed")),DT.get())})}}function Do(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=yn(a,t,l);return o.customData._tokenResponse=i,o}async function IT(a,t){return Ra(a,"POST","/v1/accounts:delete",t)}async function Fo(a,t){return Ra(a,"POST","/v1/accounts:lookup",t)}function ql(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kT(a,t=!1){const i=Ht(a),l=await i.getIdToken(t),o=Zd(l);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,d=f?.sign_in_provider;return{claims:o,token:l,authTime:ql(ed(o.auth_time)),issuedAtTime:ql(ed(o.iat)),expirationTime:ql(ed(o.exp)),signInProvider:d||null,signInSecondFactor:f?.sign_in_second_factor||null}}function ed(a){return Number(a)*1e3}function Zd(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return ko("JWT malformed, contained fewer than 3 sections"),null;try{const o=Vo(i);return o?JSON.parse(o):(ko("Failed to decode base64 JWT payload"),null)}catch(o){return ko("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(a){const t=Zd(a);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof ji&&LT(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function LT({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class UT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qo(a){const t=a.auth,i=await a.getIdToken(),l=await Kl(a,Fo(t,{idToken:i}));$(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?x0(o.providerUserInfo):[],d=jT(a.providerData,f),m=a.isAnonymous,p=!(a.email&&o.passwordHash)&&!d?.length,g=m?p:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(a,S)}async function zT(a){const t=Ht(a);await Qo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jT(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function x0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HT(a,t){const i=await T0(a,{},async()=>{const l=Na({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,d=await C0(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:l};return a.emulatorConfig&&wa(a.emulatorConfig.host)&&(p.credentials="include"),E0.fetch()(d,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function BT(a,t){return Ra(a,"POST","/v2/accounts:revokeToken",Wd(a,t))}class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await HT(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,d=new ha;return l&&($(typeof l=="string","internal-error",{appName:t}),d.refreshToken=l),o&&($(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),f&&($(typeof f=="number","internal-error",{appName:t}),d.expirationTime=f),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Kn("not implemented")}}function Ai(a,t){$(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class gn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new UT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return kT(this,t)}reload(){return zT(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Qo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await Kl(this,IT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,d=i.photoURL??void 0,m=i.tenantId??void 0,p=i._redirectEventId??void 0,g=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:z,providerData:U,stsTokenManager:K}=i;$(b&&K,t,"internal-error");const ce=ha.fromJSON(this.name,K);$(typeof b=="string",t,"internal-error"),Ai(l,t.name),Ai(o,t.name),$(typeof E=="boolean",t,"internal-error"),$(typeof z=="boolean",t,"internal-error"),Ai(f,t.name),Ai(d,t.name),Ai(m,t.name),Ai(p,t.name),Ai(g,t.name),Ai(S,t.name);const ge=new gn({uid:b,auth:t,email:o,emailVerified:E,displayName:l,isAnonymous:z,photoURL:d,phoneNumber:f,tenantId:m,stsTokenManager:ce,createdAt:g,lastLoginAt:S});return U&&Array.isArray(U)&&(ge.providerData=U.map(ae=>({...ae}))),p&&(ge._redirectEventId=p),ge}static async _fromIdTokenResponse(t,i,l=!1){const o=new ha;o.updateFromServerResponse(i);const f=new gn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Qo(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];$(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?x0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!f?.length,m=new ha;m.updateFromIdToken(l);const p=new gn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(p,g),p}}const J_=new Map;function Wn(a){ei(a instanceof Function,"Expected a class definition");let t=J_.get(a);return t?(ei(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,J_.set(a,t),t)}class w0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}w0.type="NONE";const $_=w0;function Lo(a,t,i){return`firebase:${a}:${t}:${i}`}class ma{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=Lo(this.userKey,o.apiKey,f),this.fullPersistenceKey=Lo("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Fo(this.auth,{idToken:t}).catch(()=>{});return i?gn._fromGetAccountInfoResponse(this.auth,i,t):null}return gn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ma(Wn($_),t,l);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let f=o[0]||Wn($_);const d=Lo(l,t.config.apiKey,t.name);let m=null;for(const g of i)try{const S=await g._get(d);if(S){let b;if(typeof S=="string"){const E=await Fo(t,{idToken:S}).catch(()=>{});if(!E)break;b=await gn._fromGetAccountInfoResponse(t,E,S)}else b=gn._fromJSON(t,S);g!==f&&(m=b),f=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!f._shouldAllowMigration||!p.length?new ma(f,t,l):(f=p[0],m&&await f._set(d,m.toJSON()),await Promise.all(i.map(async g=>{if(g!==f)try{await g._remove(d)}catch{}})),new ma(f,t,l))}}function ey(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(D0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(N0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(M0(t))return"Blackberry";if(I0(t))return"Webos";if(A0(t))return"Safari";if((t.includes("chrome/")||R0(t))&&!t.includes("edge/"))return"Chrome";if(O0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function N0(a=wt()){return/firefox\//i.test(a)}function A0(a=wt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R0(a=wt()){return/crios\//i.test(a)}function D0(a=wt()){return/iemobile/i.test(a)}function O0(a=wt()){return/android/i.test(a)}function M0(a=wt()){return/blackberry/i.test(a)}function I0(a=wt()){return/webos/i.test(a)}function Jd(a=wt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function qT(a=wt()){return Jd(a)&&!!window.navigator?.standalone}function VT(){return JS()&&document.documentMode===10}function k0(a=wt()){return Jd(a)||O0(a)||I0(a)||M0(a)||/windows phone/i.test(a)||D0(a)}function L0(a,t=[]){let i;switch(a){case"Browser":i=ey(wt());break;case"Worker":i=`${ey(wt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Aa}/${l}`}class GT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((d,m)=>{try{const p=t(f);d(p)}catch(p){m(p)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function PT(a,t={}){return Ra(a,"GET","/v2/passwordPolicy",Wd(a,t))}const YT=6;class FT{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??YT,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class QT{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ty(this),this.idTokenSubscription=new ty(this),this.beforeStateQueue=new GT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ma.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Fo(this,{idToken:t}),l=await gn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,d=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===d)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=NT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hn(this.app))return Promise.reject(ds(this));const i=t?Ht(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PT(this),i=new FT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ir("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await BT(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wn(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[Wn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if($(m,this,"internal-error"),m.then(()=>{d||f(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,l,o);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=L0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&TT(`Error while retrieving App Check token: ${t.error}`),t?.token}}function hc(a){return Ht(a)}class ty{constructor(t){this.auth=t,this.observer=null,this.addObserver=oE(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XT(a){$d=a}function KT(a){return $d.loadJS(a)}function WT(){return $d.gapiScript}function ZT(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function JT(a,t){const i=Fd(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(hs(f,t??{}))return o;Nn(o,"already-initialized")}return i.initialize({options:t})}function $T(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Wn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function eC(a,t,i){const l=hc(a);$(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=U0(t),{host:d,port:m}=tC(t),p=m===null?"":`:${m}`,g={url:`${f}//${d}${p}/`},S=Object.freeze({host:d,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){$(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),$(hs(g,l.config.emulator)&&hs(S,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=g,l.emulatorConfig=S,l.settings.appVerificationDisabledForTesting=!0,wa(d)?(u0(`${f}//${d}${p}`),f0("Auth",!0)):nC()}function U0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function tC(a){const t=U0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:ny(l.substr(f.length+1))}}else{const[f,d]=l.split(":");return{host:f,port:ny(d)}}}function ny(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function nC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class z0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Kn("not implemented")}_getIdTokenResponse(t){return Kn("not implemented")}_linkToIdToken(t,i){return Kn("not implemented")}_getReauthenticationResolver(t){return Kn("not implemented")}}async function ga(a,t){return OT(a,"POST","/v1/accounts:signInWithIdp",Wd(a,t))}const iC="http://localhost";class gs extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Nn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const d=new gs(l,o);return d.idToken=f.idToken||void 0,d.accessToken=f.accessToken||void 0,d.secret=f.secret,d.nonce=f.nonce,d.pendingToken=f.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ga(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,ga(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ga(t,i)}buildRequest(){const t={requestUri:iC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Na(i)}return t}}class eh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ar extends eh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ri extends ar{constructor(){super("facebook.com")}static credential(t){return gs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";class Qn extends ar{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return gs._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qn.credentialFromTaggedObject(t)}static credentialFromError(t){return Qn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Qn.credential(i,l)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";class Di extends ar{constructor(){super("github.com")}static credential(t){return gs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";class Oi extends ar{constructor(){super("twitter.com")}static credential(t,i){return gs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Oi.credential(i,l)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";class Sa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await gn._fromIdTokenResponse(t,l,o),d=iy(l);return new Sa({user:f,providerId:d,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=iy(l);return new Sa({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function iy(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}class Xo extends ji{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Xo(t,i,l,o)}}function j0(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Xo._fromErrorAndOperation(a,f,t,l):f})}async function sC(a,t,i=!1){const l=await Kl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Sa._forOperation(a,"link",l)}async function aC(a,t,i=!1){const{auth:l}=a;if(hn(l.app))return Promise.reject(ds(l));const o="reauthenticate";try{const f=await Kl(a,j0(l,o,t,a),i);$(f.idToken,l,"internal-error");const d=Zd(f.idToken);$(d,l,"internal-error");const{sub:m}=d;return $(a.uid===m,l,"user-mismatch"),Sa._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&Nn(l,"user-mismatch"),f}}async function lC(a,t,i=!1){if(hn(a.app))return Promise.reject(ds(a));const l="signIn",o=await j0(a,l,t),f=await Sa._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function rC(a,t,i,l){return Ht(a).onIdTokenChanged(t,i,l)}function oC(a,t,i){return Ht(a).beforeAuthStateChanged(t,i)}function cC(a,t,i,l){return Ht(a).onAuthStateChanged(t,i,l)}function uC(a){return Ht(a).signOut()}const Ko="__sak";class H0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ko,"1"),this.storage.removeItem(Ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fC=1e3,dC=10;class B0 extends H0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(l);!i&&this.localCache[l]===d||this.notifyListeners(l,d)},f=this.storage.getItem(l);VT()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,dC):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}B0.type="LOCAL";const hC=B0;class q0 extends H0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}q0.type="SESSION";const V0=q0;function mC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new mc(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(d).map(async g=>g(i.origin,f)),p=await mC(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mc.receivers=[];function th(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class gC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,d;return new Promise((m,p)=>{const g=th("",20);o.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},l);d={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(S),f=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(E.data.response);break;default:clearTimeout(S),clearTimeout(f),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:g,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function wn(){return window}function pC(a){wn().location.href=a}function G0(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function _C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yC(){return navigator?.serviceWorker?.controller||null}function vC(){return G0()?self:null}const P0="firebaseLocalStorageDb",bC=1,Wo="firebaseLocalStorage",Y0="fbase_key";class lr{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gc(a,t){return a.transaction([Wo],t?"readwrite":"readonly").objectStore(Wo)}function SC(){const a=indexedDB.deleteDatabase(P0);return new lr(a).toPromise()}function Ed(){const a=indexedDB.open(P0,bC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Wo,{keyPath:Y0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Wo)?t(l):(l.close(),await SC(),t(await Ed()))})})}async function sy(a,t,i){const l=gc(a,!0).put({[Y0]:t,value:i});return new lr(l).toPromise()}async function EC(a,t){const i=gc(a,!1).get(t),l=await new lr(i).toPromise();return l===void 0?null:l.value}function ay(a,t){const i=gc(a,!0).delete(t);return new lr(i).toPromise()}const TC=800,CC=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ed(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>CC)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mc._getInstance(vC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _C(),!this.activeServiceWorker)return;this.sender=new gC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||yC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ed();return await sy(t,Ko,"1"),await ay(t,Ko),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>sy(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>EC(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>ay(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=gc(o,!1).getAll();return new lr(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const xC=F0;new sr(3e4,6e4);function Q0(a,t){return t?Wn(t):($(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class nh extends z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ga(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ga(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ga(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function wC(a){return lC(a.auth,new nh(a),a.bypassAuthState)}function NC(a){const{auth:t,user:i}=a;return $(i,t,"internal-error"),aC(i,new nh(a),a.bypassAuthState)}async function AC(a){const{auth:t,user:i}=a;return $(i,t,"internal-error"),sC(i,new nh(a),a.bypassAuthState)}class X0{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:d,type:m}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:Nn(this.auth,"internal-error")}}resolve(t){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new sr(2e3,1e4);async function DC(a,t,i){if(hn(a.app))return Promise.reject(yn(a,"operation-not-supported-in-this-environment"));const l=hc(a);CT(a,t,eh);const o=Q0(l,i);return new cs(l,"signInViaPopup",t,o).executeNotNull()}class cs extends X0{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const t=th();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RC.get())};t()}}cs.currentPopupAction=null;const OC="pendingRedirect",Uo=new Map;class MC extends X0{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=Uo.get(this.auth._key());if(!t){try{const l=await IC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}Uo.set(this.auth._key(),t)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IC(a,t){const i=UC(t),l=LC(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function kC(a,t){Uo.set(a._key(),t)}function LC(a){return Wn(a._redirectPersistence)}function UC(a){return Lo(OC,a.config.apiKey,a.name)}async function zC(a,t,i=!1){if(hn(a.app))return Promise.reject(ds(a));const l=hc(a),o=Q0(l,t),d=await new MC(l,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await l._persistUserIfCurrent(d.user),await l._setRedirectUser(null,t)),d}const jC=600*1e3;class HC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!K0(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(yn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ly(t))}saveEventToCache(t){this.cachedEventUids.add(ly(t)),this.lastProcessedEventTime=Date.now()}}function ly(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function K0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function BC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K0(a);default:return!1}}async function qC(a,t={}){return Ra(a,"GET","/v1/projects",t)}const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GC=/^https?/;async function PC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await qC(a);for(const i of t)try{if(YC(i))return}catch{}Nn(a,"unauthorized-domain")}function YC(a){const t=bd(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===l}if(!GC.test(i))return!1;if(VC.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const FC=new sr(3e4,6e4);function ry(){const a=wn().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function QC(a){return new Promise((t,i)=>{function l(){ry(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ry(),i(yn(a,"network-request-failed"))},timeout:FC.get()})}if(wn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wn().gapi?.load)l();else{const o=ZT("iframefcb");return wn()[o]=()=>{gapi.load?l():i(yn(a,"network-request-failed"))},KT(`${WT()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw zo=null,t})}let zo=null;function XC(a){return zo=zo||QC(a),zo}const KC=new sr(5e3,15e3),WC="__/auth/iframe",ZC="emulator/auth/iframe",JC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ex(a){const t=a.config;$(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?Kd(t,ZC):`https://${a.config.authDomain}/${WC}`,l={apiKey:t.apiKey,appName:a.name,v:Aa},o=$C.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${Na(l).slice(1)}`}async function tx(a){const t=await XC(a),i=wn().gapi;return $(i,a,"internal-error"),t.open({where:document.body,url:ex(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JC,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const d=yn(a,"network-request-failed"),m=wn().setTimeout(()=>{f(d)},KC.get());function p(){wn().clearTimeout(m),o(l)}l.ping(p).then(p,()=>{f(d)})}))}const nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ix=500,sx=600,ax="_blank",lx="http://localhost";class oy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rx(a,t,i,l=ix,o=sx){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const p={...nx,width:l.toString(),height:o.toString(),top:f,left:d},g=wt().toLowerCase();i&&(m=R0(g)?ax:i),N0(g)&&(t=t||lx,p.scrollbars="yes");const S=Object.entries(p).reduce((E,[z,U])=>`${E}${z}=${U},`,"");if(qT(g)&&m!=="_self")return ox(t||"",m),new oy(null);const b=window.open(t||"",m,S);$(b,a,"popup-blocked");try{b.focus()}catch{}return new oy(b)}function ox(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const cx="__/auth/handler",ux="emulator/auth/handler",fx=encodeURIComponent("fac");async function cy(a,t,i,l,o,f){$(a.config.authDomain,a,"auth-domain-config-required"),$(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:Aa,eventId:o};if(t instanceof eh){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",md(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,b]of Object.entries({}))d[S]=b}if(t instanceof ar){const S=t.getScopes().filter(b=>b!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const m=d;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const p=await a._getAppCheckToken(),g=p?`#${fx}=${encodeURIComponent(p)}`:"";return`${dx(a)}?${Na(m).slice(1)}${g}`}function dx({config:a}){return a.emulator?Kd(a,ux):`https://${a.authDomain}/${cx}`}const td="webStorageSupport";class hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V0,this._completeRedirectFn=zC,this._overrideRedirectResult=kC}async _openPopup(t,i,l,o){ei(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await cy(t,i,l,bd(),o);return rx(t,f,th())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await cy(t,i,l,bd(),o);return pC(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(ei(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await tx(t),l=new HC(t);return i.register("authEvent",o=>($(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(td,{type:td},o=>{const f=o?.[0]?.[td];f!==void 0&&i(!!f),Nn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=PC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return k0()||A0()||Jd()}}const mx=hx;var uy="@firebase/auth",fy="1.11.1";class gx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function px(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _x(a){ba(new ms("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=l.options;$(d&&!d.includes(":"),"invalid-api-key",{appName:l.name});const p={apiKey:d,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L0(a)},g=new QT(l,o,f,p);return $T(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),ba(new ms("auth-internal",t=>{const i=hc(t.getProvider("auth").getImmediate());return(l=>new gx(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(uy,fy,px(a)),ki(uy,fy,"esm2020")}const yx=300,vx=c0("authIdTokenMaxAge")||yx;let dy=null;const bx=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>vx)return;const o=i?.token;dy!==o&&(dy=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sx(a=_0()){const t=Fd(a,"auth");if(t.isInitialized())return t.getImmediate();const i=JT(a,{popupRedirectResolver:mx,persistence:[xC,hC,V0]}),l=c0("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const d=bx(f.toString());oC(i,d,()=>d(i.currentUser)),rC(i,m=>d(m))}}const o=r0("auth");return o&&eC(i,`http://${o}`),i}function Ex(){return document.getElementsByTagName("head")?.[0]??document}XT({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=yn("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",Ex().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_x("Browser");var hy={};const my="@firebase/database",gy="1.1.0";let W0="";function Tx(a){W0=a}class Cx{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),dt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ql(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class xx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return ii(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Z0=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Cx(t)}}catch{}return new xx},us=Z0("localStorage"),wx=Z0("sessionStorage");const pa=new Pd("@firebase/database"),Nx=(function(){let a=1;return function(){return a++}})(),J0=function(a){const t=fE(a),i=new rE;i.update(t);const l=i.digest();return Bd.encodeByteArray(l)},rr=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=rr.apply(null,l):typeof l=="object"?t+=dt(l):t+=l,t+=" "}return t};let Vl=null,py=!0;const Ax=function(a,t){H(!0,"Can't turn on custom loggers persistently."),pa.logLevel=ke.VERBOSE,Vl=pa.log.bind(pa)},St=function(...a){if(py===!0&&(py=!1,Vl===null&&wx.get("logging_enabled")===!0&&Ax()),Vl){const t=rr.apply(null,a);Vl(t)}},or=function(a){return function(...t){St(a,...t)}},Td=function(...a){const t="FIREBASE INTERNAL ERROR: "+rr(...a);pa.error(t)},ti=function(...a){const t=`FIREBASE FATAL ERROR: ${rr(...a)}`;throw pa.error(t),new Error(t)},zt=function(...a){const t="FIREBASE WARNING: "+rr(...a);pa.warn(t)},Rx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$0=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Dx=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Ea="[MIN_NAME]",ps="[MAX_NAME]",Da=function(a,t){if(a===t)return 0;if(a===Ea||t===ps)return-1;if(t===Ea||a===ps)return 1;{const i=_y(a),l=_y(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},Ox=function(a,t){return a===t?0:a<t?-1:1},Ml=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+dt(t))},ih=function(a){if(typeof a!="object"||a===null)return dt(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=dt(t[l]),i+=":",i+=ih(a[t[l]]);return i+="}",i},ev=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function jt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const tv=function(a){H(!$0(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,d,m,p;a===0?(f=0,d=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,d=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,d=Math.round(a/Math.pow(2,1-l-i))));const g=[];for(p=i;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=t;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(o?1:0),g.reverse();const S=g.join("");let b="";for(p=0;p<64;p+=8){let E=parseInt(S.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),b=b+E}return b.toLowerCase()},Mx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ix=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kx(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const Lx=new RegExp("^-?(0*)\\d{1,10}$"),Ux=-2147483648,zx=2147483647,_y=function(a){if(Lx.test(a)){const t=Number(a);if(t>=Ux&&t<=zx)return t}return null},Oa=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw zt("Exception was thrown by user callback.",i),t},Math.floor(0))}},jx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class Hx{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,hn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bx{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(t)}}class jo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}jo.OWNER="owner";const sh="5",nv="v",iv="s",sv="r",av="f",lv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rv="ls",ov="p",Cd="ac",cv="websocket",uv="long_polling";class fv{constructor(t,i,l,o,f=!1,d="",m=!1,p=!1,g=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=d,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=us.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&us.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function qx(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function dv(a,t,i){H(typeof t=="string","typeof type must == string"),H(typeof i=="object","typeof params must == object");let l;if(t===cv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===uv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);qx(a)&&(i.ns=a.namespace);const o=[];return jt(i,(f,d)=>{o.push(f+"="+d)}),l+o.join("&")}class Vx{constructor(){this.counters_={}}incrementCounter(t,i=1){ii(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return BS(this.counters_)}}const nd={},id={};function ah(a){const t=a.toString();return nd[t]||(nd[t]=new Vx),nd[t]}function Gx(a,t){const i=a.toString();return id[i]||(id[i]=t()),id[i]}class Px{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&Oa(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const yy="start",Yx="close",Fx="pLPCommand",Qx="pRTLPCB",hv="id",mv="pw",gv="ser",Xx="cb",Kx="seg",Wx="ts",Zx="d",Jx="dframe",pv=1870,_v=30,$x=pv-_v,ew=25e3,tw=3e4;class da{constructor(t,i,l,o,f,d,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=d,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=or(t),this.stats_=ah(i),this.urlFn=p=>(this.appCheckToken&&(p[Cd]=this.appCheckToken),dv(i,uv,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Px(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tw)),Dx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lh((...f)=>{const[d,m,p,g,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===yy)this.id=m,this.password=p;else if(d===Yx)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...f)=>{const[d,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(d,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[yy]="t",l[gv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[Xx]=this.scriptTagHolder.uniqueCallbackIdentifier),l[nv]=sh,this.transportSessionId&&(l[iv]=this.transportSessionId),this.lastSessionId&&(l[rv]=this.lastSessionId),this.applicationId&&(l[ov]=this.applicationId),this.appCheckToken&&(l[Cd]=this.appCheckToken),typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(l[sv]=av);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){da.forceAllow_=!0}static forceDisallow(){da.forceDisallow_=!0}static isAvailable(){return da.forceAllow_?!0:!da.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Mx()&&!Ix()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=dt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=a0(i),o=ev(l,$x);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[Jx]="t",l[hv]=t,l[mv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=dt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class lh{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Nx(),window[Fx+this.uniqueCallbackIdentifier]=t,window[Qx+this.uniqueCallbackIdentifier]=i,this.myIFrame=lh.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(m){St("frame writing exception"),m.stack&&St(m.stack),St(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||St("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[hv]=this.myID,t[mv]=this.myPW,t[gv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_v+l.length<=pv;){const d=this.pendingSegs.shift();l=l+"&"+Kx+o+"="+d.seg+"&"+Wx+o+"="+d.ts+"&"+Zx+o+"="+d.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(ew)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{St("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const nw=16384,iw=45e3;let Zo=null;typeof MozWebSocket<"u"?Zo=MozWebSocket:typeof WebSocket<"u"&&(Zo=WebSocket);class mn{constructor(t,i,l,o,f,d,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=or(this.connId),this.stats_=ah(i),this.connURL=mn.connectionURL_(i,d,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const d={};return d[nv]=sh,typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(d[sv]=av),i&&(d[iv]=i),l&&(d[rv]=l),o&&(d[Cd]=o),f&&(d[ov]=f),dv(t,cv,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,us.set("previous_websocket_failure",!0);try{let l;$S(),this.mySock=new Zo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Zo!==null&&!mn.forceDisallow_}static previouslyFailed(){return us.isInMemoryStorage||us.get("previous_websocket_failure")===!0}markConnectionHealthy(){us.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Ql(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(H(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=dt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ev(i,nw);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iw))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;class Wl{static get ALL_TRANSPORTS(){return[da,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=mn&&mn.isAvailable();let l=i&&!mn.previouslyFailed();if(t.webSocketOnly&&(i||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[mn];else{const o=this.transports_=[];for(const f of Wl.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Wl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wl.globalTransportInitialized_=!1;const sw=6e4,aw=5e3,lw=10*1024,rw=100*1024,sd="t",vy="d",ow="s",by="r",cw="e",Sy="o",Ey="a",Ty="n",Cy="p",uw="h";class fw{constructor(t,i,l,o,f,d,m,p,g,S){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=d,this.onReady_=m,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=or("c:"+this.id+":"),this.transportManager_=new Wl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Gl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>lw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(sd in t){const i=t[sd];i===Ey?this.upgradeIfSecondaryHealthy_():i===by?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===Sy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=Ml("t",t),l=Ml("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Cy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ey,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ty,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=Ml("t",t),l=Ml("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=Ml(sd,t);if(vy in t){const l=t[vy];if(i===uw){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Ty){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===ow?this.onConnectionShutdown_(l):i===by?this.onReset_(l):i===cw?Td("Server Error: "+l):i===Sy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Td("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),sh!==l&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Gl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(aw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Cy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class vv{constructor(t){this.allowedEvents_=t,this.listeners_={},H(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){H(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Jo extends vv{static getInstance(){return new Jo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return H(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const xy=32,wy=768;class ze{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function we(){return new ze("")}function ue(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Ui(a){return a.pieces_.length-a.pieceNum_}function je(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new ze(a.pieces_,t)}function bv(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function dw(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Sv(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Ev(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new ze(t,0)}function lt(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof ze)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new ze(i,0)}function me(a){return a.pieceNum_>=a.pieces_.length}function Lt(a,t){const i=ue(a),l=ue(t);if(i===null)return t;if(i===l)return Lt(je(a),je(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function rh(a,t){if(Ui(a)!==Ui(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function pn(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Ui(a)>Ui(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class hw{constructor(t,i){this.errorPrefix_=i,this.parts_=Sv(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=dc(this.parts_[l]);Tv(this)}}function mw(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=dc(t),Tv(a)}function gw(a){const t=a.parts_.pop();a.byteLength_-=dc(t),a.parts_.length>0&&(a.byteLength_-=1)}function Tv(a){if(a.byteLength_>wy)throw new Error(a.errorPrefix_+"has a key path longer than "+wy+" bytes ("+a.byteLength_+").");if(a.parts_.length>xy)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xy+") or object contains a cycle "+os(a))}function os(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class oh extends vv{static getInstance(){return new oh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return H(t==="visible","Unknown event type: "+t),[this.visible_]}}const Il=1e3,pw=300*1e3,Ny=30*1e3,_w=1.3,yw=3e4,vw="server_kill",Ay=3;class Jn extends yv{constructor(t,i,l,o,f,d,m,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=d,this.appCheckTokenProvider_=m,this.authOverride_=p,this.id=Jn.nextPersistentConnectionId_++,this.log_=or("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Il,this.maxReconnectDelay_=pw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Jo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(dt(f)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new fc,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const m=d.d;d.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+f),this.listens.has(d)||this.listens.set(d,new Map),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(d).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(d).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},d="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(d,f,m=>{const p=m.d,g=m.s;Jn.warnOnListenWarnings_(p,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&ii(t,"w")){const l=va(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||lE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ny)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=aE(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,d=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),H(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},d="n";o&&(f.q=l,f.t=o),this.sendRequest(d,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const d={p:i,d:l};f!==void 0&&(d.h=f),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+dt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Td("Unrecognized action received from server: "+dt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yw&&(this.reconnectDelay_=Il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*_w)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Jn.nextConnectionId_++,f=this.lastSessionId;let d=!1,m=null;const p=function(){m?m.close():(d=!0,l())},g=function(b){H(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:p,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=E&&E.token,m=new fw(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,z=>{zt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(vw)},f))}catch(b){this.log_("Failed to get token: "+b),d||(this.repoInfo_.nodeAdmin&&zt(b),p())}}}interrupt(t){St("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){St("Resuming connection for reason: "+t),delete this.interruptReasons_[t],md(this.interruptReasons_)&&(this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>ih(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new ze(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){St("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ay&&(this.reconnectDelay_=Ny,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){St("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ay&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+W0.replace(/\./g,"-")]=1,Vd()?t["framework.cordova"]=1:d0()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Jo.getInstance().currentlyOnline();return md(this.interruptReasons_)&&t}}Jn.nextPersistentConnectionId_=0;Jn.nextConnectionId_=0;class fe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new fe(t,i)}}class pc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new fe(Ea,t),o=new fe(Ea,i);return this.compare(l,o)!==0}minPost(){return fe.MIN}}let Oo;class Cv extends pc{static get __EMPTY_NODE(){return Oo}static set __EMPTY_NODE(t){Oo=t}compare(t,i){return Da(t.name,i.name)}isDefinedOn(t){throw xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(ps,Oo)}makePost(t,i){return H(typeof t=="string","KeyIndex indexValue must always be a string."),new fe(t,Oo)}toString(){return".key"}}const _a=new Cv;class Mo{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=i?l(t.key,i):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class ft{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??ft.RED,this.left=o??Ut.EMPTY_NODE,this.right=f??Ut.EMPTY_NODE}copy(t,i,l,o,f){return new ft(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Ut.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class bw{copy(t,i,l,o,f){return this}insert(t,i,l){return new ft(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(t,i=Ut.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ut(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(t){return new Ut(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Mo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Mo(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Mo(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Mo(this.root_,null,this.comparator_,!0,t)}}Ut.EMPTY_NODE=new bw;function Sw(a,t){return Da(a.name,t.name)}function ch(a,t){return Da(a,t)}let xd;function Ew(a){xd=a}const xv=function(a){return typeof a=="number"?"number:"+tv(a):"string:"+a},wv=function(a){if(a.isLeafNode()){const t=a.val();H(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ii(t,".sv"),"Priority must be a string or number.")}else H(a===xd||a.isEmpty(),"priority of unexpected type.");H(a===xd||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ry;class ut{static set __childrenNodeConstructor(t){Ry=t}static get __childrenNodeConstructor(){return Ry}constructor(t,i=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new ut(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return me(t)?this:ue(t)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ue(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(H(l!==".priority"||Ui(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+xv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=tv(this.value_):t+=this.value_,this.lazyHash_=J0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===ut.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof ut.__childrenNodeConstructor?-1:(H(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=ut.VALUE_TYPE_ORDER.indexOf(i),f=ut.VALUE_TYPE_ORDER.indexOf(l);return H(o>=0,"Unknown leaf type: "+i),H(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Nv,Av;function Tw(a){Nv=a}function Cw(a){Av=a}class xw extends pc{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?Da(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(ps,new ut("[PRIORITY-POST]",Av))}makePost(t,i){const l=Nv(t);return new fe(i,new ut("[PRIORITY-POST]",l))}toString(){return".priority"}}const Xe=new xw;const ww=Math.log(2);class Nw{constructor(t){const i=f=>parseInt(Math.log(f)/ww,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $o=function(a,t,i,l){a.sort(t);const o=function(p,g){const S=g-p;let b,E;if(S===0)return null;if(S===1)return b=a[p],E=i?i(b):b,new ft(E,b.node,ft.BLACK,null,null);{const z=parseInt(S/2,10)+p,U=o(p,z),K=o(z+1,g);return b=a[z],E=i?i(b):b,new ft(E,b.node,ft.BLACK,U,K)}},f=function(p){let g=null,S=null,b=a.length;const E=function(U,K){const ce=b-U,ge=b;b-=U;const ae=o(ce+1,ge),De=a[ce],ye=i?i(De):De;z(new ft(ye,De.node,K,null,ae))},z=function(U){g?(g.left=U,g=U):(S=U,g=U)};for(let U=0;U<p.count;++U){const K=p.nextBitIsOne(),ce=Math.pow(2,p.count-(U+1));K?E(ce,ft.BLACK):(E(ce,ft.BLACK),E(ce,ft.RED))}return S},d=new Nw(a.length),m=f(d);return new Ut(l||t,m)};let ad;const fa={};class Zn{static get Default(){return H(fa&&Xe,"ChildrenNode.ts has not been loaded"),ad=ad||new Zn({".priority":fa},{".priority":Xe}),ad}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=va(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ut?i:null}hasIndex(t){return ii(this.indexSet_,t.toString())}addIndex(t,i){H(t!==_a,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(fe.Wrap);let d=f.getNext();for(;d;)o=o||t.isDefinedOn(d.node),l.push(d),d=f.getNext();let m;o?m=$o(l,t.getCompare()):m=fa;const p=t.toString(),g={...this.indexSet_};g[p]=t;const S={...this.indexes_};return S[p]=m,new Zn(S,g)}addToIndexes(t,i){const l=Go(this.indexes_,(o,f)=>{const d=va(this.indexSet_,f);if(H(d,"Missing index implementation for "+f),o===fa)if(d.isDefinedOn(t.node)){const m=[],p=i.getIterator(fe.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&m.push(g),g=p.getNext();return m.push(t),$o(m,d.getCompare())}else return fa;else{const m=i.get(t.name);let p=o;return m&&(p=p.remove(new fe(t.name,m))),p.insert(t,t.node)}});return new Zn(l,this.indexSet_)}removeFromIndexes(t,i){const l=Go(this.indexes_,o=>{if(o===fa)return o;{const f=i.get(t.name);return f?o.remove(new fe(t.name,f)):o}});return new Zn(l,this.indexSet_)}}let kl;class J{static get EMPTY_NODE(){return kl||(kl=new J(new Ut(ch),null,Zn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&wv(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kl}updatePriority(t){return this.children_.isEmpty()?this:new J(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?kl:i}}getChild(t){const i=ue(t);return i===null?this:this.getImmediateChild(i).getChild(je(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(H(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new fe(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const d=o.isEmpty()?kl:this.priorityNode_;return new J(o,d,f)}}updateChild(t,i){const l=ue(t);if(l===null)return i;{H(ue(t)!==".priority"||Ui(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(je(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(Xe,(d,m)=>{i[d]=m.val(t),l++,f&&J.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):f=!1}),!t&&f&&o<2*l){const d=[];for(const m in i)d[m]=i[m];return d}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+xv(this.getPriority().val())+":"),this.forEachChild(Xe,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":J0(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new fe(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new fe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new fe(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cr?-1:0}withIndex(t){if(t===_a||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===_a||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Xe),o=i.getIterator(Xe);let f=l.getNext(),d=o.getNext();for(;f&&d;){if(f.name!==d.name||!f.node.equals(d.node))return!1;f=l.getNext(),d=o.getNext()}return f===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===_a?null:this.indexMap_.get(t.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Aw extends J{constructor(){super(new Ut(ch),J.EMPTY_NODE,Zn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return J.EMPTY_NODE}isEmpty(){return!1}}const cr=new Aw;Object.defineProperties(fe,{MIN:{value:new fe(Ea,J.EMPTY_NODE)},MAX:{value:new fe(ps,cr)}});Cv.__EMPTY_NODE=J.EMPTY_NODE;ut.__childrenNodeConstructor=J;Ew(cr);Cw(cr);const Rw=!0;function vt(a,t=null){if(a===null)return J.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),H(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new ut(i,vt(t))}if(!(a instanceof Array)&&Rw){const i=[];let l=!1;if(jt(a,(d,m)=>{if(d.substring(0,1)!=="."){const p=vt(m);p.isEmpty()||(l=l||!p.getPriority().isEmpty(),i.push(new fe(d,p)))}}),i.length===0)return J.EMPTY_NODE;const f=$o(i,Sw,d=>d.name,ch);if(l){const d=$o(i,Xe.getCompare());return new J(f,vt(t),new Zn({".priority":d},{".priority":Xe}))}else return new J(f,vt(t),Zn.Default)}else{let i=J.EMPTY_NODE;return jt(a,(l,o)=>{if(ii(a,l)&&l.substring(0,1)!=="."){const f=vt(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(vt(t))}}Tw(vt);class Dw extends pc{constructor(t){super(),this.indexPath_=t,H(!me(t)&&ue(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?Da(t.name,i.name):f}makePost(t,i){const l=vt(t),o=J.EMPTY_NODE.updateChild(this.indexPath_,l);return new fe(i,o)}maxPost(){const t=J.EMPTY_NODE.updateChild(this.indexPath_,cr);return new fe(ps,t)}toString(){return Sv(this.indexPath_,0).join("/")}}class Ow extends pc{compare(t,i){const l=t.node.compareTo(i.node);return l===0?Da(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(t,i){const l=vt(t);return new fe(i,l)}toString(){return".value"}}const Mw=new Ow;function Rv(a){return{type:"value",snapshotNode:a}}function Ta(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Zl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function Jl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function Iw(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class uh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,d){H(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(d!=null&&(l.isEmpty()?t.hasChild(i)?d.trackChildChange(Zl(i,m)):H(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?d.trackChildChange(Ta(i,l)):d.trackChildChange(Jl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Xe,(o,f)=>{i.hasChild(o)||l.trackChildChange(Zl(o,f))}),i.isLeafNode()||i.forEachChild(Xe,(o,f)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(f)||l.trackChildChange(Jl(o,f,d))}else l.trackChildChange(Ta(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?J.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $l{constructor(t){this.indexedFilter_=new uh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$l.getStartPost_(t),this.endPost_=$l.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,d){return this.matches(new fe(i,l))||(l=J.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,d)}updateFullNode(t,i,l){i.isLeafNode()&&(i=J.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(J.EMPTY_NODE);const f=this;return i.forEachChild(Xe,(d,m)=>{f.matches(new fe(d,m))||(o=o.updateImmediateChild(d,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class kw{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new $l(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,d){return this.rangedFilter_.matches(new fe(i,l))||(l=J.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,d):this.fullLimitUpdateChild_(t,i,l,f,d)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=J.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;f.hasNext()&&d<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),d++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(J.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let d=0;for(;f.hasNext();){const m=f.getNext();d<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?d++:o=o.updateImmediateChild(m.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let d;if(this.reverse_){const b=this.index_.getCompare();d=(E,z)=>b(z,E)}else d=this.index_.getCompare();const m=t;H(m.numChildren()===this.limit_,"");const p=new fe(i,l),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(p);if(m.hasChild(i)){const b=m.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,g,this.reverse_);for(;E!=null&&(E.name===i||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const z=E==null?1:d(E,p);if(S&&!l.isEmpty()&&z>=0)return f?.trackChildChange(Jl(i,l,b)),m.updateImmediateChild(i,l);{f?.trackChildChange(Zl(i,b));const K=m.updateImmediateChild(i,J.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Ta(E.name,E.node)),K.updateImmediateChild(E.name,E.node)):K}}else return l.isEmpty()?t:S&&d(g,p)>=0?(f!=null&&(f.trackChildChange(Zl(g.name,g.node)),f.trackChildChange(Ta(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(g.name,J.EMPTY_NODE)):t}}class fh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ea}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const t=new fh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Lw(a){return a.loadsAllData()?new uh(a.getIndex()):a.hasLimit()?new kw(a):new $l(a)}function Dy(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Xe?i="$priority":a.index_===Mw?i="$value":a.index_===_a?i="$key":(H(a.index_ instanceof Dw,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=dt(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=dt(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+dt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=dt(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+dt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function Oy(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Xe&&(t.i=a.index_.toString()),t}class ec extends yv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(H(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=or("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const d=ec.getListenId_(t,l),m={};this.listens_[d]=m;const p=Dy(t._queryParams);this.restRequest_(f+".json",p,(g,S)=>{let b=S;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(f,b,!1,l),va(this.listens_,d)===m){let E;g?g===401?E="permission_denied":E="rest_error:"+g:E="ok",o(E,null)}})}unlisten(t,i){const l=ec.getListenId_(t,i);delete this.listens_[l]}get(t){const i=Dy(t._queryParams),l=t._path.toString(),o=new fc;return this.restRequest_(l+".json",i,(f,d)=>{let m=d;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Na(i);this.log_("Sending REST request for "+d);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+d+" received. status:",m.status,"response:",m.responseText);let p=null;if(m.status>=200&&m.status<300){try{p=Ql(m.responseText)}catch{zt("Failed to parse JSON response for "+d+": "+m.responseText)}l(null,p)}else m.status!==401&&m.status!==404&&zt("Got unsuccessful REST response for "+d+" Status: "+m.status),l(m.status);l=null}},m.open("GET",d,!0),m.send()})}}class Uw{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function tc(){return{value:null,children:new Map}}function Dv(a,t,i){if(me(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ue(t);a.children.has(l)||a.children.set(l,tc());const o=a.children.get(l);t=je(t),Dv(o,t,i)}}function wd(a,t,i){a.value!==null?i(t,a.value):zw(a,(l,o)=>{const f=new ze(t.toString()+"/"+l);wd(o,f,i)})}function zw(a,t){a.children.forEach((i,l)=>{t(l,i)})}class jw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&jt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const My=10*1e3,Hw=30*1e3,Bw=300*1e3;class qw{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new jw(t);const l=My+(Hw-My)*Math.random();Gl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;jt(t,(o,f)=>{f>0&&ii(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),Gl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bw))}}var _n;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_n||(_n={}));function Ov(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class nc{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=_n.ACK_USER_WRITE,this.source=Ov()}operationForChild(t){if(me(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new ze(t));return new nc(we(),i,this.revert)}}else return H(ue(this.path)===t,"operationForChild called for unrelated child."),new nc(je(this.path),this.affectedTree,this.revert)}}class er{constructor(t,i){this.source=t,this.path=i,this.type=_n.LISTEN_COMPLETE}operationForChild(t){return me(this.path)?new er(this.source,we()):new er(this.source,je(this.path))}}class _s{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=_n.OVERWRITE}operationForChild(t){return me(this.path)?new _s(this.source,we(),this.snap.getImmediateChild(t)):new _s(this.source,je(this.path),this.snap)}}class tr{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=_n.MERGE}operationForChild(t){if(me(this.path)){const i=this.children.subtree(new ze(t));return i.isEmpty()?null:i.value?new _s(this.source,we(),i.value):new tr(this.source,we(),i)}else return H(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new tr(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ys{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;const i=ue(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Vw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Gw(a,t,i,l){const o=[],f=[];return t.forEach(d=>{d.type==="child_changed"&&a.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&f.push(Iw(d.childName,d.snapshotNode))}),Ll(a,o,"child_removed",t,l,i),Ll(a,o,"child_added",t,l,i),Ll(a,o,"child_moved",f,l,i),Ll(a,o,"child_changed",t,l,i),Ll(a,o,"value",t,l,i),o}function Ll(a,t,i,l,o,f){const d=l.filter(m=>m.type===i);d.sort((m,p)=>Yw(a,m,p)),d.forEach(m=>{const p=Pw(a,m,f);o.forEach(g=>{g.respondsTo(m.type)&&t.push(g.createEvent(p,a.query_))})})}function Pw(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function Yw(a,t,i){if(t.childName==null||i.childName==null)throw xa("Should only compare child_ events.");const l=new fe(t.childName,t.snapshotNode),o=new fe(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function _c(a,t){return{eventCache:a,serverCache:t}}function Pl(a,t,i,l){return _c(new ys(t,i,l),a.serverCache)}function Mv(a,t,i,l){return _c(a.eventCache,new ys(t,i,l))}function Nd(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function vs(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let ld;const Fw=()=>(ld||(ld=new Ut(Ox)),ld);class qe{static fromObject(t){let i=new qe(null);return jt(t,(l,o)=>{i=i.set(new ze(l),o)}),i}constructor(t,i=Fw()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:we(),value:this.value};if(me(t))return null;{const l=ue(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(je(t),i);return f!=null?{path:lt(new ze(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(me(t))return this;{const i=ue(t),l=this.children.get(i);return l!==null?l.subtree(je(t)):new qe(null)}}set(t,i){if(me(t))return new qe(i,this.children);{const l=ue(t),f=(this.children.get(l)||new qe(null)).set(je(t),i),d=this.children.insert(l,f);return new qe(this.value,d)}}remove(t){if(me(t))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const i=ue(t),l=this.children.get(i);if(l){const o=l.remove(je(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new qe(null):new qe(this.value,f)}else return this}}get(t){if(me(t))return this.value;{const i=ue(t),l=this.children.get(i);return l?l.get(je(t)):null}}setTree(t,i){if(me(t))return i;{const l=ue(t),f=(this.children.get(l)||new qe(null)).setTree(je(t),i);let d;return f.isEmpty()?d=this.children.remove(l):d=this.children.insert(l,f),new qe(this.value,d)}}fold(t){return this.fold_(we(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(lt(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,we(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(me(t))return null;{const f=ue(t),d=this.children.get(f);return d?d.findOnPath_(je(t),lt(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,we(),i)}foreachOnPath_(t,i,l){if(me(t))return this;{this.value&&l(i,this.value);const o=ue(t),f=this.children.get(o);return f?f.foreachOnPath_(je(t),lt(i,o),l):new qe(null)}}foreach(t){this.foreach_(we(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(lt(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new qe(null))}}function Yl(a,t,i){if(me(t))return new vn(new qe(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const d=Lt(o,t);return f=f.updateChild(d,i),new vn(a.writeTree_.set(o,f))}else{const o=new qe(i),f=a.writeTree_.setTree(t,o);return new vn(f)}}}function Iy(a,t,i){let l=a;return jt(i,(o,f)=>{l=Yl(l,lt(t,o),f)}),l}function ky(a,t){if(me(t))return vn.empty();{const i=a.writeTree_.setTree(t,new qe(null));return new vn(i)}}function Ad(a,t){return bs(a,t)!=null}function bs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(Lt(i.path,t)):null}function Ly(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xe,(l,o)=>{t.push(new fe(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new fe(l,o.value))}),t}function Li(a,t){if(me(t))return a;{const i=bs(a,t);return i!=null?new vn(new qe(i)):new vn(a.writeTree_.subtree(t))}}function Rd(a){return a.writeTree_.isEmpty()}function Ca(a,t){return Iv(we(),a.writeTree_,t)}function Iv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(H(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=Iv(lt(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(lt(a,".priority"),l)),i}}function mh(a,t){return zv(t,a)}function Qw(a,t,i,l,o){H(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Yl(a.visibleWrites,t,i)),a.lastWriteId=l}function Xw(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function Kw(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);H(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,d=a.allWrites.length-1;for(;o&&d>=0;){const m=a.allWrites[d];m.visible&&(d>=i&&Ww(m,l.path)?o=!1:pn(l.path,m.path)&&(f=!0)),d--}if(o){if(f)return Zw(a),!0;if(l.snap)a.visibleWrites=ky(a.visibleWrites,l.path);else{const m=l.children;jt(m,p=>{a.visibleWrites=ky(a.visibleWrites,lt(l.path,p))})}return!0}else return!1}function Ww(a,t){if(a.snap)return pn(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&pn(lt(a.path,i),t))return!0;return!1}function Zw(a){a.visibleWrites=kv(a.allWrites,Jw,we()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function Jw(a){return a.visible}function kv(a,t,i){let l=vn.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const d=f.path;let m;if(f.snap)pn(i,d)?(m=Lt(i,d),l=Yl(l,m,f.snap)):pn(d,i)&&(m=Lt(d,i),l=Yl(l,we(),f.snap.getChild(m)));else if(f.children){if(pn(i,d))m=Lt(i,d),l=Iy(l,m,f.children);else if(pn(d,i))if(m=Lt(d,i),me(m))l=Iy(l,we(),f.children);else{const p=va(f.children,ue(m));if(p){const g=p.getChild(je(m));l=Yl(l,we(),g)}}}else throw xa("WriteRecord should have .snap or .children")}}return l}function Lv(a,t,i,l,o){if(!l&&!o){const f=bs(a.visibleWrites,t);if(f!=null)return f;{const d=Li(a.visibleWrites,t);if(Rd(d))return i;if(i==null&&!Ad(d,we()))return null;{const m=i||J.EMPTY_NODE;return Ca(d,m)}}}else{const f=Li(a.visibleWrites,t);if(!o&&Rd(f))return i;if(!o&&i==null&&!Ad(f,we()))return null;{const d=function(g){return(g.visible||o)&&(!l||!~l.indexOf(g.writeId))&&(pn(g.path,t)||pn(t,g.path))},m=kv(a.allWrites,d,t),p=i||J.EMPTY_NODE;return Ca(m,p)}}}function $w(a,t,i){let l=J.EMPTY_NODE;const o=bs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Xe,(f,d)=>{l=l.updateImmediateChild(f,d)}),l;if(i){const f=Li(a.visibleWrites,t);return i.forEachChild(Xe,(d,m)=>{const p=Ca(Li(f,new ze(d)),m);l=l.updateImmediateChild(d,p)}),Ly(f).forEach(d=>{l=l.updateImmediateChild(d.name,d.node)}),l}else{const f=Li(a.visibleWrites,t);return Ly(f).forEach(d=>{l=l.updateImmediateChild(d.name,d.node)}),l}}function e2(a,t,i,l,o){H(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=lt(t,i);if(Ad(a.visibleWrites,f))return null;{const d=Li(a.visibleWrites,f);return Rd(d)?o.getChild(i):Ca(d,o.getChild(i))}}function t2(a,t,i,l){const o=lt(t,i),f=bs(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const d=Li(a.visibleWrites,o);return Ca(d,l.getNode().getImmediateChild(i))}else return null}function n2(a,t){return bs(a.visibleWrites,t)}function i2(a,t,i,l,o,f,d){let m;const p=Li(a.visibleWrites,t),g=bs(p,we());if(g!=null)m=g;else if(i!=null)m=Ca(p,i);else return[];if(m=m.withIndex(d),!m.isEmpty()&&!m.isLeafNode()){const S=[],b=d.getCompare(),E=f?m.getReverseIteratorFrom(l,d):m.getIteratorFrom(l,d);let z=E.getNext();for(;z&&S.length<o;)b(z,l)!==0&&S.push(z),z=E.getNext();return S}else return[]}function s2(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function ic(a,t,i,l){return Lv(a.writeTree,a.treePath,t,i,l)}function gh(a,t){return $w(a.writeTree,a.treePath,t)}function Uy(a,t,i,l){return e2(a.writeTree,a.treePath,t,i,l)}function sc(a,t){return n2(a.writeTree,lt(a.treePath,t))}function a2(a,t,i,l,o,f){return i2(a.writeTree,a.treePath,t,i,l,o,f)}function ph(a,t,i){return t2(a.writeTree,a.treePath,t,i)}function Uv(a,t){return zv(lt(a.treePath,t),a.writeTree)}function zv(a,t){return{treePath:a,writeTree:t}}class l2{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;H(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),H(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,Jl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,Zl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,Ta(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,Jl(l,t.snapshotNode,o.oldSnap));else throw xa("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class r2{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const jv=new r2;class _h{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ph(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),f=a2(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function o2(a){return{filter:a}}function c2(a,t){H(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),H(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function u2(a,t,i,l,o){const f=new l2;let d,m;if(i.type===_n.OVERWRITE){const g=i;g.source.fromUser?d=Dd(a,t,g.path,g.snap,l,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered()&&!me(g.path),d=ac(a,t,g.path,g.snap,l,o,m,f))}else if(i.type===_n.MERGE){const g=i;g.source.fromUser?d=d2(a,t,g.path,g.children,l,o,f):(H(g.source.fromServer,"Unknown source."),m=g.source.tagged||t.serverCache.isFiltered(),d=Od(a,t,g.path,g.children,l,o,m,f))}else if(i.type===_n.ACK_USER_WRITE){const g=i;g.revert?d=g2(a,t,g.path,l,o,f):d=h2(a,t,g.path,g.affectedTree,l,o,f)}else if(i.type===_n.LISTEN_COMPLETE)d=m2(a,t,i.path,l,f);else throw xa("Unknown operation type: "+i.type);const p=f.getChanges();return f2(t,d,p),{viewCache:d,changes:p}}function f2(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Nd(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(Rv(Nd(t)))}}function Hv(a,t,i,l,o,f){const d=t.eventCache;if(sc(l,i)!=null)return t;{let m,p;if(me(i))if(H(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=vs(t),S=g instanceof J?g:J.EMPTY_NODE,b=gh(l,S);m=a.filter.updateFullNode(t.eventCache.getNode(),b,f)}else{const g=ic(l,vs(t));m=a.filter.updateFullNode(t.eventCache.getNode(),g,f)}else{const g=ue(i);if(g===".priority"){H(Ui(i)===1,"Can't have a priority with additional path components");const S=d.getNode();p=t.serverCache.getNode();const b=Uy(l,i,S,p);b!=null?m=a.filter.updatePriority(S,b):m=d.getNode()}else{const S=je(i);let b;if(d.isCompleteForChild(g)){p=t.serverCache.getNode();const E=Uy(l,i,d.getNode(),p);E!=null?b=d.getNode().getImmediateChild(g).updateChild(S,E):b=d.getNode().getImmediateChild(g)}else b=ph(l,g,t.serverCache);b!=null?m=a.filter.updateChild(d.getNode(),g,b,S,o,f):m=d.getNode()}}return Pl(t,m,d.isFullyInitialized()||me(i),a.filter.filtersNodes())}}function ac(a,t,i,l,o,f,d,m){const p=t.serverCache;let g;const S=d?a.filter:a.filter.getIndexedFilter();if(me(i))g=S.updateFullNode(p.getNode(),l,null);else if(S.filtersNodes()&&!p.isFiltered()){const z=p.getNode().updateChild(i,l);g=S.updateFullNode(p.getNode(),z,null)}else{const z=ue(i);if(!p.isCompleteForPath(i)&&Ui(i)>1)return t;const U=je(i),ce=p.getNode().getImmediateChild(z).updateChild(U,l);z===".priority"?g=S.updatePriority(p.getNode(),ce):g=S.updateChild(p.getNode(),z,ce,U,jv,null)}const b=Mv(t,g,p.isFullyInitialized()||me(i),S.filtersNodes()),E=new _h(o,b,f);return Hv(a,b,i,o,E,m)}function Dd(a,t,i,l,o,f,d){const m=t.eventCache;let p,g;const S=new _h(o,t,f);if(me(i))g=a.filter.updateFullNode(t.eventCache.getNode(),l,d),p=Pl(t,g,!0,a.filter.filtersNodes());else{const b=ue(i);if(b===".priority")g=a.filter.updatePriority(t.eventCache.getNode(),l),p=Pl(t,g,m.isFullyInitialized(),m.isFiltered());else{const E=je(i),z=m.getNode().getImmediateChild(b);let U;if(me(E))U=l;else{const K=S.getCompleteChild(b);K!=null?bv(E)===".priority"&&K.getChild(Ev(E)).isEmpty()?U=K:U=K.updateChild(E,l):U=J.EMPTY_NODE}if(z.equals(U))p=t;else{const K=a.filter.updateChild(m.getNode(),b,U,E,S,d);p=Pl(t,K,m.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function zy(a,t){return a.eventCache.isCompleteForChild(t)}function d2(a,t,i,l,o,f,d){let m=t;return l.foreach((p,g)=>{const S=lt(i,p);zy(t,ue(S))&&(m=Dd(a,m,S,g,o,f,d))}),l.foreach((p,g)=>{const S=lt(i,p);zy(t,ue(S))||(m=Dd(a,m,S,g,o,f,d))}),m}function jy(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function Od(a,t,i,l,o,f,d,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;me(i)?g=l:g=new qe(null).setTree(i,l);const S=t.serverCache.getNode();return g.children.inorderTraversal((b,E)=>{if(S.hasChild(b)){const z=t.serverCache.getNode().getImmediateChild(b),U=jy(a,z,E);p=ac(a,p,new ze(b),U,o,f,d,m)}}),g.children.inorderTraversal((b,E)=>{const z=!t.serverCache.isCompleteForChild(b)&&E.value===null;if(!S.hasChild(b)&&!z){const U=t.serverCache.getNode().getImmediateChild(b),K=jy(a,U,E);p=ac(a,p,new ze(b),K,o,f,d,m)}}),p}function h2(a,t,i,l,o,f,d){if(sc(o,i)!=null)return t;const m=t.serverCache.isFiltered(),p=t.serverCache;if(l.value!=null){if(me(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return ac(a,t,i,p.getNode().getChild(i),o,f,m,d);if(me(i)){let g=new qe(null);return p.getNode().forEachChild(_a,(S,b)=>{g=g.set(new ze(S),b)}),Od(a,t,i,g,o,f,m,d)}else return t}else{let g=new qe(null);return l.foreach((S,b)=>{const E=lt(i,S);p.isCompleteForPath(E)&&(g=g.set(S,p.getNode().getChild(E)))}),Od(a,t,i,g,o,f,m,d)}}function m2(a,t,i,l,o){const f=t.serverCache,d=Mv(t,f.getNode(),f.isFullyInitialized()||me(i),f.isFiltered());return Hv(a,d,i,l,jv,o)}function g2(a,t,i,l,o,f){let d;if(sc(l,i)!=null)return t;{const m=new _h(l,t,o),p=t.eventCache.getNode();let g;if(me(i)||ue(i)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=ic(l,vs(t));else{const b=t.serverCache.getNode();H(b instanceof J,"serverChildren would be complete if leaf node"),S=gh(l,b)}S=S,g=a.filter.updateFullNode(p,S,f)}else{const S=ue(i);let b=ph(l,S,t.serverCache);b==null&&t.serverCache.isCompleteForChild(S)&&(b=p.getImmediateChild(S)),b!=null?g=a.filter.updateChild(p,S,b,je(i),m,f):t.eventCache.getNode().hasChild(S)?g=a.filter.updateChild(p,S,J.EMPTY_NODE,je(i),m,f):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=ic(l,vs(t)),d.isLeafNode()&&(g=a.filter.updateFullNode(g,d,f)))}return d=t.serverCache.isFullyInitialized()||sc(l,we())!=null,Pl(t,g,d,a.filter.filtersNodes())}}class p2{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new uh(l.getIndex()),f=Lw(l);this.processor_=o2(f);const d=i.serverCache,m=i.eventCache,p=o.updateFullNode(J.EMPTY_NODE,d.getNode(),null),g=f.updateFullNode(J.EMPTY_NODE,m.getNode(),null),S=new ys(p,d.isFullyInitialized(),o.filtersNodes()),b=new ys(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=_c(b,S),this.eventGenerator_=new Vw(this.query_)}get query(){return this.query_}}function _2(a){return a.viewCache_.serverCache.getNode()}function y2(a,t){const i=vs(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!me(t)&&!i.getImmediateChild(ue(t)).isEmpty())?i.getChild(t):null}function Hy(a){return a.eventRegistrations_.length===0}function v2(a,t){a.eventRegistrations_.push(t)}function By(a,t,i){const l=[];if(i){H(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const d=f.createCancelEvent(i,o);d&&l.push(d)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const d=a.eventRegistrations_[f];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function qy(a,t,i,l){t.type===_n.MERGE&&t.source.queryId!==null&&(H(vs(a.viewCache_),"We should always have a full cache before handling merges"),H(Nd(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=u2(a.processor_,o,t,i,l);return c2(a.processor_,f.viewCache),H(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,Bv(a,f.changes,f.viewCache.eventCache.getNode(),null)}function b2(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Xe,(f,d)=>{l.push(Ta(f,d))}),i.isFullyInitialized()&&l.push(Rv(i.getNode())),Bv(a,l,i.getNode(),t)}function Bv(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return Gw(a.eventGenerator_,t,i,o)}let lc;class S2{constructor(){this.views=new Map}}function E2(a){H(!lc,"__referenceConstructor has already been defined"),lc=a}function T2(){return H(lc,"Reference.ts has not been loaded"),lc}function C2(a){return a.views.size===0}function yh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return H(f!=null,"SyncTree gave us an op for an invalid query."),qy(f,t,i,l)}else{let f=[];for(const d of a.views.values())f=f.concat(qy(d,t,i,l));return f}}function x2(a,t,i,l,o){const f=t._queryIdentifier,d=a.views.get(f);if(!d){let m=ic(i,o?l:null),p=!1;m?p=!0:l instanceof J?(m=gh(i,l),p=!1):(m=J.EMPTY_NODE,p=!1);const g=_c(new ys(m,p,!1),new ys(l,o,!1));return new p2(t,g)}return d}function w2(a,t,i,l,o,f){const d=x2(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,d),v2(d,i),b2(d,i)}function N2(a,t,i,l){const o=t._queryIdentifier,f=[];let d=[];const m=zi(a);if(o==="default")for(const[p,g]of a.views.entries())d=d.concat(By(g,i,l)),Hy(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||f.push(g.query));else{const p=a.views.get(o);p&&(d=d.concat(By(p,i,l)),Hy(p)&&(a.views.delete(o),p.query._queryParams.loadsAllData()||f.push(p.query)))}return m&&!zi(a)&&f.push(new(T2())(t._repo,t._path)),{removed:f,events:d}}function qv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function ya(a,t){let i=null;for(const l of a.views.values())i=i||y2(l,t);return i}function Vv(a,t){if(t._queryParams.loadsAllData())return yc(a);{const l=t._queryIdentifier;return a.views.get(l)}}function Gv(a,t){return Vv(a,t)!=null}function zi(a){return yc(a)!=null}function yc(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let rc;function A2(a){H(!rc,"__referenceConstructor has already been defined"),rc=a}function R2(){return H(rc,"Reference.ts has not been loaded"),rc}let D2=1;class Vy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=s2(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pv(a,t,i,l,o){return Qw(a.pendingWriteTree_,t,i,l,o),o?ur(a,new _s(Ov(),t,i)):[]}function fs(a,t,i=!1){const l=Xw(a.pendingWriteTree_,t);if(Kw(a.pendingWriteTree_,t)){let f=new qe(null);return l.snap!=null?f=f.set(we(),!0):jt(l.children,d=>{f=f.set(new ze(d),!0)}),ur(a,new nc(l.path,f,i))}else return[]}function vc(a,t,i){return ur(a,new _s(dh(),t,i))}function O2(a,t,i){const l=qe.fromObject(i);return ur(a,new tr(dh(),t,l))}function M2(a,t){return ur(a,new er(dh(),t))}function I2(a,t,i){const l=bh(a,i);if(l){const o=Sh(l),f=o.path,d=o.queryId,m=Lt(f,t),p=new er(hh(d),m);return Eh(a,f,p)}else return[]}function Md(a,t,i,l,o=!1){const f=t._path,d=a.syncPointTree_.get(f);let m=[];if(d&&(t._queryIdentifier==="default"||Gv(d,t))){const p=N2(d,t,i,l);C2(d)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const g=p.removed;if(m=p.events,!o){const S=g.findIndex(E=>E._queryParams.loadsAllData())!==-1,b=a.syncPointTree_.findOnPath(f,(E,z)=>zi(z));if(S&&!b){const E=a.syncPointTree_.subtree(f);if(!E.isEmpty()){const z=U2(E);for(let U=0;U<z.length;++U){const K=z[U],ce=K.query,ge=Qv(a,K);a.listenProvider_.startListening(Fl(ce),oc(a,ce),ge.hashFn,ge.onComplete)}}}!b&&g.length>0&&!l&&(S?a.listenProvider_.stopListening(Fl(t),null):g.forEach(E=>{const z=a.queryToTagMap.get(bc(E));a.listenProvider_.stopListening(Fl(E),z)}))}z2(a,g)}return m}function k2(a,t,i,l){const o=bh(a,l);if(o!=null){const f=Sh(o),d=f.path,m=f.queryId,p=Lt(d,t),g=new _s(hh(m),p,i);return Eh(a,d,g)}else return[]}function L2(a,t,i,l){const o=bh(a,l);if(o){const f=Sh(o),d=f.path,m=f.queryId,p=Lt(d,t),g=qe.fromObject(i),S=new tr(hh(m),p,g);return Eh(a,d,S)}else return[]}function Gy(a,t,i,l=!1){const o=t._path;let f=null,d=!1;a.syncPointTree_.foreachOnPath(o,(E,z)=>{const U=Lt(E,o);f=f||ya(z,U),d=d||zi(z)});let m=a.syncPointTree_.get(o);m?(d=d||zi(m),f=f||ya(m,we())):(m=new S2,a.syncPointTree_=a.syncPointTree_.set(o,m));let p;f!=null?p=!0:(p=!1,f=J.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,U)=>{const K=ya(U,we());K&&(f=f.updateImmediateChild(z,K))}));const g=Gv(m,t);if(!g&&!t._queryParams.loadsAllData()){const E=bc(t);H(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const z=j2();a.queryToTagMap.set(E,z),a.tagToQueryMap.set(z,E)}const S=mh(a.pendingWriteTree_,o);let b=w2(m,t,i,S,f,p);if(!g&&!d&&!l){const E=Vv(m,t);b=b.concat(H2(a,t,E))}return b}function vh(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(d,m)=>{const p=Lt(d,t),g=ya(m,p);if(g)return g});return Lv(o,t,f,i,!0)}function ur(a,t){return Yv(t,a.syncPointTree_,null,mh(a.pendingWriteTree_,we()))}function Yv(a,t,i,l){if(me(a.path))return Fv(a,t,i,l);{const o=t.get(we());i==null&&o!=null&&(i=ya(o,we()));let f=[];const d=ue(a.path),m=a.operationForChild(d),p=t.children.get(d);if(p&&m){const g=i?i.getImmediateChild(d):null,S=Uv(l,d);f=f.concat(Yv(m,p,g,S))}return o&&(f=f.concat(yh(o,a,l,i))),f}}function Fv(a,t,i,l){const o=t.get(we());i==null&&o!=null&&(i=ya(o,we()));let f=[];return t.children.inorderTraversal((d,m)=>{const p=i?i.getImmediateChild(d):null,g=Uv(l,d),S=a.operationForChild(d);S&&(f=f.concat(Fv(S,m,p,g)))}),o&&(f=f.concat(yh(o,a,l,i))),f}function Qv(a,t){const i=t.query,l=oc(a,i);return{hashFn:()=>(_2(t)||J.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?I2(a,i._path,l):M2(a,i._path);{const f=kx(o,i);return Md(a,i,null,f)}}}}function oc(a,t){const i=bc(t);return a.queryToTagMap.get(i)}function bc(a){return a._path.toString()+"$"+a._queryIdentifier}function bh(a,t){return a.tagToQueryMap.get(t)}function Sh(a){const t=a.indexOf("$");return H(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new ze(a.substr(0,t))}}function Eh(a,t,i){const l=a.syncPointTree_.get(t);H(l,"Missing sync point for query tag that we're tracking");const o=mh(a.pendingWriteTree_,t);return yh(l,i,o,null)}function U2(a){return a.fold((t,i,l)=>{if(i&&zi(i))return[yc(i)];{let o=[];return i&&(o=qv(i)),jt(l,(f,d)=>{o=o.concat(d)}),o}})}function Fl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(R2())(a._repo,a._path):a}function z2(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=bc(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function j2(){return D2++}function H2(a,t,i){const l=t._path,o=oc(a,t),f=Qv(a,i),d=a.listenProvider_.startListening(Fl(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)H(!zi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const p=m.fold((g,S,b)=>{if(!me(g)&&S&&zi(S))return[yc(S).query];{let E=[];return S&&(E=E.concat(qv(S).map(z=>z.query))),jt(b,(z,U)=>{E=E.concat(U)}),E}});for(let g=0;g<p.length;++g){const S=p[g];a.listenProvider_.stopListening(Fl(S),oc(a,S))}}return d}class Th{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Th(i)}node(){return this.node_}}class Ch{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=lt(this.path_,t);return new Ch(this.syncTree_,i)}node(){return vh(this.syncTree_,this.path_)}}const B2=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},Py=function(a,t,i){if(!a||typeof a!="object")return a;if(H(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return q2(a[".sv"],t,i);if(typeof a[".sv"]=="object")return V2(a[".sv"],t);H(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},q2=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:H(!1,"Unexpected server value: "+a)}},V2=function(a,t,i){a.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&H(!1,"Unexpected increment value: "+l);const o=t.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const d=o.getValue();return typeof d!="number"?l:d+l},G2=function(a,t,i,l){return xh(t,new Ch(i,a),l)},Xv=function(a,t,i){return xh(a,new Th(t),i)};function xh(a,t,i){const l=a.getPriority().val(),o=Py(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const d=a,m=Py(d.getValue(),t,i);return m!==d.getValue()||o!==d.getPriority().val()?new ut(m,vt(o)):a}else{const d=a;return f=d,o!==d.getPriority().val()&&(f=f.updatePriority(new ut(o))),d.forEachChild(Xe,(m,p)=>{const g=xh(p,t.getImmediateChild(m),i);g!==p&&(f=f.updateImmediateChild(m,g))}),f}}class wh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Nh(a,t){let i=t instanceof ze?t:new ze(t),l=a,o=ue(i);for(;o!==null;){const f=va(l.node.children,o)||{children:{},childCount:0};l=new wh(o,l,f),i=je(i),o=ue(i)}return l}function Ma(a){return a.node.value}function Kv(a,t){a.node.value=t,Id(a)}function Wv(a){return a.node.childCount>0}function P2(a){return Ma(a)===void 0&&!Wv(a)}function Sc(a,t){jt(a.node.children,(i,l)=>{t(new wh(i,a,l))})}function Zv(a,t,i,l){i&&t(a),Sc(a,o=>{Zv(o,t,!0)})}function Y2(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function fr(a){return new ze(a.parent===null?a.name:fr(a.parent)+"/"+a.name)}function Id(a){a.parent!==null&&F2(a.parent,a.name,a)}function F2(a,t,i){const l=P2(i),o=ii(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,Id(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,Id(a))}const Q2=/[\[\].#$\/\u0000-\u001F\u007F]/,X2=/[\[\].#$\u0000-\u001F\u007F]/,rd=10*1024*1024,Jv=function(a){return typeof a=="string"&&a.length!==0&&!Q2.test(a)},$v=function(a){return typeof a=="string"&&a.length!==0&&!X2.test(a)},K2=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),$v(a)},eb=function(a,t,i,l){l&&t===void 0||Ah(Gd(a,"value"),t,i)},Ah=function(a,t,i){const l=i instanceof ze?new hw(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+os(l));if(typeof t=="function")throw new Error(a+"contains a function "+os(l)+" with contents = "+t.toString());if($0(t))throw new Error(a+"contains "+t.toString()+" "+os(l));if(typeof t=="string"&&t.length>rd/3&&dc(t)>rd)throw new Error(a+"contains a string greater than "+rd+" utf8 bytes "+os(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(jt(t,(d,m)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(f=!0,!Jv(d)))throw new Error(a+" contains an invalid key ("+d+") "+os(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mw(l,d),Ah(a,m,l),gw(l)}),o&&f)throw new Error(a+' contains ".value" child '+os(l)+" in addition to actual children.")}},tb=function(a,t,i,l){if(!$v(i))throw new Error(Gd(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},W2=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),tb(a,t,i)},Rh=function(a,t){if(ue(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Z2=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Jv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!K2(i))throw new Error(Gd(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class J2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dh(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!rh(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function nb(a,t,i){Dh(a,i),ib(a,l=>rh(l,t))}function ni(a,t,i){Dh(a,i),ib(a,l=>pn(l,t)||pn(t,l))}function ib(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?($2(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function $2(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();Vl&&St("event: "+i.toString()),Oa(l)}}}const eN="repo_interrupt",tN=25;class nN{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new J2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tc(),this.transactionQueueTree_=new wh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function iN(a,t,i){if(a.stats_=ah(a.repoInfo_),a.forceRestClient_||jx())a.server_=new ec(a.repoInfo_,(l,o,f,d)=>{Yy(a,l,o,f,d)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>Fy(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Jn(a.repoInfo_,t,(l,o,f,d)=>{Yy(a,l,o,f,d)},l=>{Fy(a,l)},l=>{sN(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=Gx(a.repoInfo_,()=>new qw(a.stats_,a.server_)),a.infoData_=new Uw,a.infoSyncTree_=new Vy({startListening:(l,o,f,d)=>{let m=[];const p=a.infoData_.getNode(l._path);return p.isEmpty()||(m=vc(a.infoSyncTree_,l._path,p),setTimeout(()=>{d("ok")},0)),m},stopListening:()=>{}}),Mh(a,"connected",!1),a.serverSyncTree_=new Vy({startListening:(l,o,f,d)=>(a.server_.listen(l,f,o,(m,p)=>{const g=d(m,p);ni(a.eventQueue_,l._path,g)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function sb(a){const i=a.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Oh(a){return B2({timestamp:sb(a)})}function Yy(a,t,i,l,o){a.dataUpdateCount++;const f=new ze(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let d=[];if(o)if(l){const p=Go(i,g=>vt(g));d=L2(a.serverSyncTree_,f,p,o)}else{const p=vt(i);d=k2(a.serverSyncTree_,f,p,o)}else if(l){const p=Go(i,g=>vt(g));d=O2(a.serverSyncTree_,f,p)}else{const p=vt(i);d=vc(a.serverSyncTree_,f,p)}let m=f;d.length>0&&(m=Ec(a,f)),ni(a.eventQueue_,m,d)}function Fy(a,t){Mh(a,"connected",t),t===!1&&lN(a)}function sN(a,t){jt(t,(i,l)=>{Mh(a,i,l)})}function Mh(a,t,i){const l=new ze("/.info/"+t),o=vt(i);a.infoData_.updateSnapshot(l,o);const f=vc(a.infoSyncTree_,l,o);ni(a.eventQueue_,l,f)}function ab(a){return a.nextWriteId_++}function aN(a,t,i,l,o){Ih(a,"set",{path:t.toString(),value:i,priority:l});const f=Oh(a),d=vt(i,l),m=vh(a.serverSyncTree_,t),p=Xv(d,m,f),g=ab(a),S=Pv(a.serverSyncTree_,t,p,g,!0);Dh(a.eventQueue_,S),a.server_.put(t.toString(),d.val(!0),(E,z)=>{const U=E==="ok";U||zt("set at "+t+" failed: "+E);const K=fs(a.serverSyncTree_,g,!U);ni(a.eventQueue_,t,K),cN(a,o,E,z)});const b=ub(a,t);Ec(a,b),ni(a.eventQueue_,b,[])}function lN(a){Ih(a,"onDisconnectEvents");const t=Oh(a),i=tc();wd(a.onDisconnect_,we(),(o,f)=>{const d=G2(o,f,a.serverSyncTree_,t);Dv(i,o,d)});let l=[];wd(i,we(),(o,f)=>{l=l.concat(vc(a.serverSyncTree_,o,f));const d=ub(a,o);Ec(a,d)}),a.onDisconnect_=tc(),ni(a.eventQueue_,we(),l)}function rN(a,t,i){let l;ue(t._path)===".info"?l=Gy(a.infoSyncTree_,t,i):l=Gy(a.serverSyncTree_,t,i),nb(a.eventQueue_,t._path,l)}function kd(a,t,i){let l;ue(t._path)===".info"?l=Md(a.infoSyncTree_,t,i):l=Md(a.serverSyncTree_,t,i),nb(a.eventQueue_,t._path,l)}function oN(a){a.persistentConnection_&&a.persistentConnection_.interrupt(eN)}function Ih(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),St(i,...t)}function cN(a,t,i,l){t&&Oa(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const d=new Error(f);d.code=o,t(d)}})}function lb(a,t,i){return vh(a.serverSyncTree_,t,i)||J.EMPTY_NODE}function kh(a,t=a.transactionQueueTree_){if(t||Tc(a,t),Ma(t)){const i=ob(a,t);H(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&uN(a,fr(t),i)}else Wv(t)&&Sc(t,i=>{kh(a,i)})}function uN(a,t,i){const l=i.map(g=>g.currentWriteId),o=lb(a,t,l);let f=o;const d=o.hash();for(let g=0;g<i.length;g++){const S=i[g];H(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const b=Lt(t,S.path);f=f.updateChild(b,S.currentOutputSnapshotRaw)}const m=f.val(!0),p=t;a.server_.put(p.toString(),m,g=>{Ih(a,"transaction put response",{path:p.toString(),status:g});let S=[];if(g==="ok"){const b=[];for(let E=0;E<i.length;E++)i[E].status=2,S=S.concat(fs(a.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&b.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Tc(a,Nh(a.transactionQueueTree_,t)),kh(a,a.transactionQueueTree_),ni(a.eventQueue_,t,S);for(let E=0;E<b.length;E++)Oa(b[E])}else{if(g==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{zt("transaction at "+p.toString()+" failed: "+g);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=g}Ec(a,t)}},d)}function Ec(a,t){const i=rb(a,t),l=fr(i),o=ob(a,i);return fN(a,o,l),l}function fN(a,t,i){if(t.length===0)return;const l=[];let o=[];const d=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const p=t[m],g=Lt(i,p.path);let S=!1,b;if(H(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)S=!0,b=p.abortReason,o=o.concat(fs(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=tN)S=!0,b="maxretry",o=o.concat(fs(a.serverSyncTree_,p.currentWriteId,!0));else{const E=lb(a,p.path,d);p.currentInputSnapshot=E;const z=t[m].update(E.val());if(z!==void 0){Ah("transaction failed: Data returned ",z,p.path);let U=vt(z);typeof z=="object"&&z!=null&&ii(z,".priority")||(U=U.updatePriority(E.getPriority()));const ce=p.currentWriteId,ge=Oh(a),ae=Xv(U,E,ge);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=ae,p.currentWriteId=ab(a),d.splice(d.indexOf(ce),1),o=o.concat(Pv(a.serverSyncTree_,p.path,ae,p.currentWriteId,p.applyLocally)),o=o.concat(fs(a.serverSyncTree_,ce,!0))}else S=!0,b="nodata",o=o.concat(fs(a.serverSyncTree_,p.currentWriteId,!0))}ni(a.eventQueue_,i,o),o=[],S&&(t[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(b==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(b),!1,null))))}Tc(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)Oa(l[m]);kh(a,a.transactionQueueTree_)}function rb(a,t){let i,l=a.transactionQueueTree_;for(i=ue(t);i!==null&&Ma(l)===void 0;)l=Nh(l,i),t=je(t),i=ue(t);return l}function ob(a,t){const i=[];return cb(a,t,i),i.sort((l,o)=>l.order-o.order),i}function cb(a,t,i){const l=Ma(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);Sc(t,o=>{cb(a,o,i)})}function Tc(a,t){const i=Ma(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,Kv(t,i.length>0?i:void 0)}Sc(t,l=>{Tc(a,l)})}function ub(a,t){const i=fr(rb(a,t)),l=Nh(a.transactionQueueTree_,t);return Y2(l,o=>{od(a,o)}),od(a,l),Zv(l,o=>{od(a,o)}),i}function od(a,t){const i=Ma(t);if(i){const l=[];let o=[],f=-1;for(let d=0;d<i.length;d++)i[d].status===3||(i[d].status===1?(H(f===d-1,"All SENT items should be at beginning of queue."),f=d,i[d].status=3,i[d].abortReason="set"):(H(i[d].status===0,"Unexpected transaction status in abort"),i[d].unwatcher(),o=o.concat(fs(a.serverSyncTree_,i[d].currentWriteId,!0)),i[d].onComplete&&l.push(i[d].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Kv(t,void 0):i.length=f+1,ni(a.eventQueue_,fr(t),o);for(let d=0;d<l.length;d++)Oa(l[d])}}function dN(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function hN(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):zt(`Invalid query segment '${i}' in query '${a}'`)}return t}const Qy=function(a,t){const i=mN(a),l=i.namespace;i.domain==="firebase.com"&&ti(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Rx();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new fv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new ze(i.pathString)}},mN=function(a){let t="",i="",l="",o="",f="",d=!0,m="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(m=a.substring(0,g-1),a=a.substring(g+2));let S=a.indexOf("/");S===-1&&(S=a.length);let b=a.indexOf("?");b===-1&&(b=a.length),t=a.substring(0,Math.min(S,b)),S<b&&(o=dN(a.substring(S,b)));const E=hN(a.substring(Math.min(a.length,b)));g=t.indexOf(":"),g>=0?(d=m==="https"||m==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const z=t.slice(0,g);if(z.toLowerCase()==="localhost")i="localhost";else if(z.split(".").length<=2)i=z;else{const U=t.indexOf(".");l=t.substring(0,U).toLowerCase(),i=t.substring(U+1),f=l}"ns"in E&&(f=E.ns)}return{host:t,port:p,domain:i,subdomain:l,secure:d,scheme:m,pathString:o,namespace:f}};const Xy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gN=(function(){let a=0;const t=[];return function(i){const l=i===a;a=i;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=Xy.charAt(i%64),i=Math.floor(i/64);H(i===0,"Cannot push at time == 0");let d=f.join("");if(l){for(o=11;o>=0&&t[o]===63;o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=Xy.charAt(t[o]);return H(d.length===20,"nextPushId: Length should be 20."),d}})();class pN{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class _N{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class yN{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Lh{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return me(this._path)?null:bv(this._path)}get ref(){return new Hi(this._repo,this._path)}get _queryIdentifier(){const t=Oy(this._queryParams),i=ih(t);return i==="{}"?"default":i}get _queryObject(){return Oy(this._queryParams)}isEqual(t){if(t=Ht(t),!(t instanceof Lh))return!1;const i=this._repo===t._repo,l=rh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+dw(this._path)}}class Hi extends Lh{constructor(t,i){super(t,i,new fh,!1)}get parent(){const t=Ev(this._path);return t===null?null:new Hi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class cc{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new ze(t),l=nr(this.ref,t);return new cc(this._node.getChild(i),l,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new cc(o,nr(this.ref,l),Xe)))}hasChild(t){const i=new ze(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function as(a,t){return a=Ht(a),a._checkNotDeleted("ref"),t!==void 0?nr(a._root,t):a._root}function nr(a,t){return a=Ht(a),ue(a._path)===null?W2("child","path",t):tb("child","path",t),new Hi(a._repo,lt(a._path,t))}function cd(a,t){a=Ht(a),Rh("push",a._path),eb("push",t,a._path,!0);const i=sb(a._repo),l=gN(i),o=nr(a,l),f=nr(a,l);let d;return d=Promise.resolve(f),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function Ky(a){return Rh("remove",a._path),zl(a,null)}function zl(a,t){a=Ht(a),Rh("set",a._path),eb("set",t,a._path,!1);const i=new fc;return aN(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}class Uh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new pN("value",this,new cc(t.snapshotNode,new Hi(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new _N(this,t,i):null}matches(t){return t instanceof Uh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function vN(a,t,i,l,o){let f;if(typeof l=="object"&&(f=void 0,o=l),typeof l=="function"&&(f=l),o&&o.onlyOnce){const p=i,g=(S,b)=>{kd(a._repo,a,m),p(S,b)};g.userCallback=i.userCallback,g.context=i.context,i=g}const d=new yN(i,f||void 0),m=new Uh(d);return rN(a._repo,a,m),()=>kd(a._repo,a,m)}function bN(a,t,i,l){return vN(a,"value",t,i,l)}function SN(a,t,i){kd(a._repo,a,null)}E2(Hi);A2(Hi);const EN="FIREBASE_DATABASE_EMULATOR_HOST",Ld={};let TN=!1;function CN(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),d=wa(f);a.repoInfo_=new fv(t,d,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function xN(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let d=Qy(f,o),m=d.repoInfo,p;typeof process<"u"&&hy&&(p=hy[EN]),p?(f=`http://${p}?ns=${m.namespace}`,d=Qy(f,o),m=d.repoInfo):d.repoInfo.secure;const g=new Bx(a.name,a.options,t);Z2("Invalid Firebase Database URL",d),me(d.path)||ti("Database URL must point to the root of a Firebase Database (not including a child path).");const S=NN(m,a,g,new Hx(a,i));return new AN(S,a)}function wN(a,t){const i=Ld[t];(!i||i[a.key]!==a)&&ti(`Database ${t}(${a.repoInfo_}) has already been deleted.`),oN(a),delete i[a.key]}function NN(a,t,i,l){let o=Ld[t.name];o||(o={},Ld[t.name]=o);let f=o[a.toURLString()];return f&&ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new nN(a,TN,i,l),o[a.toURLString()]=f,f}class AN{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(iN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hi(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ti("Cannot call "+t+" on a deleted database.")}}function RN(a=_0(),t){const i=Fd(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=FS("database");l&&DN(i,...l)}return i}function DN(a,t,i,l={}){a=Ht(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&hs(l,f.repoInfo_.emulatorOptions))return;ti("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new jo(jo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:QS(l.mockUserToken,a.app.options.projectId);d=new jo(m)}wa(t)&&(u0(t),f0("Database",!0)),CN(f,o,l,d)}function ON(a){Tx(Aa),ba(new ms("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return xN(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),ki(my,gy,a),ki(my,gy,"esm2020")}Jn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Jn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};ON();const MN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,l)=>l?l.toUpperCase():i.toLowerCase()),Wy=a=>{const t=IN(a);return t.charAt(0).toUpperCase()+t.slice(1)},fb=(...a)=>a.filter((t,i,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===i).join(" ").trim(),kN=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const UN=oe.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:f,iconNode:d,...m},p)=>oe.createElement("svg",{ref:p,...LN,width:t,height:t,stroke:a,strokeWidth:l?Number(i)*24/Number(t):i,className:fb("lucide",o),...!f&&!kN(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,S])=>oe.createElement(g,S)),...Array.isArray(f)?f:[f]]));const ht=(a,t)=>{const i=oe.forwardRef(({className:l,...o},f)=>oe.createElement(UN,{ref:f,iconNode:t,className:fb(`lucide-${MN(Wy(a))}`,`lucide-${a}`,l),...o}));return i.displayName=Wy(a),i};const zN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Zy=ht("arrow-left",zN);const jN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jy=ht("arrow-right",jN);const HN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$y=ht("calendar",HN);const BN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],db=ht("circle-plus",BN);const qN=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],VN=ht("cloud-off",qN);const GN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ud=ht("cloud",GN);const PN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ud=ht("dollar-sign",PN);const YN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],zd=ht("download",YN);const FN=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],fd=ht("hard-drive",FN);const QN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],XN=ht("log-out",QN);const KN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hb=ht("save",KN);const WN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZN=ht("search",WN);const JN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e0=ht("settings",JN);const $N=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],eA=ht("tag",$N);const tA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mb=ht("trash-2",tA);const nA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ho=ht("triangle-alert",nA);const iA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sA=ht("upload",iA);const aA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],t0=ht("user",aA),lA=()=>({apiKey:"AIzaSyCchJ0xoRHhNC7NcuWdzmLxlbEyH3fOZA0",authDomain:"expense-manaeger.firebaseapp.com",databaseURL:"https://expense-manaeger-default-rtdb.firebaseio.com",projectId:"expense-manaeger",storageBucket:"expense-manaeger.firebasestorage.app",messagingSenderId:"773230073358",appId:"1:773230073358:web:2cf7feee179a90c85c4e5f"}),dd=lA(),uc="moneytrack_local_expenses",jl=["Shopping","Food","Travel","Hospital","Wife","Baby","Me","Bills","Other"],jd=["id","userId","amount","currency","description","tag","timestamp","dateStr","timeStr","syncStatus"],ls=a=>`users/${a}/expenses`,hd=a=>typeof a=="number"?new Date(a):new Date(a),Hl=(a,t)=>{try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(a)}catch{return`${t} ${parseFloat(a.toFixed(2))}`}},Ue=(a,t,i=!1,l=()=>{},o=()=>{})=>{const f=()=>{const m=document.getElementById("custom-alert-modal");m&&document.body.removeChild(m)};f();const d=document.createElement("div");d.id="custom-alert-modal",d.className="fixed inset-0 bg-gray-600 bg-opacity-75 flex justify-center items-center z-50 p-4",d.innerHTML=`
        <div class="bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm transform transition-all">
            <h3 class="text-xl font-bold mb-3 text-indigo-700">${a}</h3>
            <p class="text-gray-700 mb-6 text-sm whitespace-pre-wrap">${t}</p>
            <div class="flex justify-end space-x-2">
              ${i?`
                <button id="cancel-modal-btn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-150">
                    Cancel
                </button>
                <button id="confirm-modal-btn" class="px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 transition duration-150">
                    Confirm
                </button>
              `:`
                <button id="close-modal-btn" class="w-full py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition duration-150">
                    OK
                </button>
              `}
            </div>
        </div>
    `,document.body.appendChild(d),i?(document.getElementById("cancel-modal-btn")?.addEventListener("click",()=>{o(),f()}),document.getElementById("confirm-modal-btn")?.addEventListener("click",()=>{l(),f()})):document.getElementById("close-modal-btn")?.addEventListener("click",f)},n0=({expense:a,onDelete:t,showDate:i=!1,currency:l,isOnline:o})=>{const f=a.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),d=a.timestamp.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=a.syncStatus==="pending",p=a.syncStatus==="synced"&&!o,g=Xn.useMemo(()=>({Shopping:"bg-pink-100 text-pink-700",Food:"bg-green-100 text-green-700",Travel:"bg-blue-100 text-blue-700",Hospital:"bg-red-100 text-red-700",Wife:"bg-purple-100 text-purple-700",Baby:"bg-yellow-100 text-yellow-700",Me:"bg-indigo-100 text-indigo-700",Bills:"bg-cyan-100 text-cyan-700",Other:"bg-gray-100 text-gray-700"})[a.tag]||"bg-gray-100 text-gray-700",[a.tag]);return y.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg shadow-sm hover:shadow-md transition duration-200 ${m?"bg-orange-50 border-orange-200":"bg-white border-gray-200"}`,children:[y.jsxs("div",{className:"flex-grow min-w-0",children:[y.jsx("div",{className:"text-xs font-semibold text-gray-500 mb-1",children:i?d:f}),y.jsx("p",{className:"text-sm font-medium truncate text-gray-800",children:a.description}),y.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[y.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${g}`,children:a.tag}),m&&y.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-orange-500 text-white flex items-center",children:[y.jsx(hb,{className:"w-3 h-3 mr-1"})," Pending"]}),a.currency!==l&&y.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["(",a.currency,")"]})]})]}),y.jsxs("div",{className:"flex items-center space-x-3 ml-4",children:[y.jsx("span",{className:"text-lg font-extrabold text-red-600 flex-shrink-0",children:Hl(a.amount,a.currency)}),y.jsx("button",{onClick:()=>t(a.id),className:"p-1 text-red-400 hover:text-red-600 transition duration-150 hover:bg-red-50 rounded-full disabled:opacity-50","aria-label":"Delete Expense",disabled:p,children:y.jsx(mb,{className:"w-5 h-5"})})]})]})},rA=({form:a,handleFormClose:t,handleFormChange:i,handleAddExpense:l,loading:o,isAuthenticated:f,isOnline:d,currency:m})=>y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center",children:[y.jsx(db,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Add New Expense"]}),y.jsxs("form",{onSubmit:l,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"amount",children:["Amount (",m,")"]}),y.jsxs("div",{className:"relative",children:[y.jsx(Ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("input",{type:"number",id:"amount",name:"amount",value:a.amount,onChange:i,step:"0.01",min:"0.01",required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., 49.99"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"date",children:"Date"}),y.jsx("input",{type:"date",id:"date",name:"date",value:a.date,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"time",children:"Time"}),y.jsx("input",{type:"time",id:"time",name:"time",value:a.time,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"description",children:"Description (Why)"}),y.jsx("input",{type:"text",id:"description",name:"description",value:a.description,onChange:i,required:!0,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., Groceries at Whole Foods"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"tag",children:"Category Tag"}),y.jsxs("div",{className:"relative",children:[y.jsx(eA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),y.jsx("select",{id:"tag",name:"tag",value:a.tag,onChange:i,required:!0,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 appearance-none transition duration-150",children:jl.map(p=>y.jsx("option",{value:p,children:p},p))}),y.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:y.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),y.jsxs("div",{className:"flex justify-end pt-4",children:[y.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 mr-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-150",children:"Cancel"}),y.jsx("button",{type:"submit",disabled:o||!f&&!d,className:"px-6 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-150 disabled:opacity-50",children:o?"Processing...":d&&f?"Save to Cloud":"Save Locally"})]})]}),!d&&y.jsxs("p",{className:"mt-4 p-2 text-xs text-orange-600 bg-orange-100 rounded-lg flex items-center",children:[y.jsx(Ho,{className:"w-4 h-4 mr-1"}),"You are offline. This expense will be saved locally and sync automatically when you reconnect."]})]}),Io=(a,t)=>{try{const i=localStorage.getItem(uc);if(i){const l=JSON.parse(i).map(d=>({...d,timestamp:new Date(d.timestamp),syncStatus:d.syncStatus||"synced"})),o=l.filter(d=>d.syncStatus==="synced"),f=l.filter(d=>d.syncStatus==="pending");o.sort((d,m)=>m.timestamp.getTime()-d.timestamp.getTime()),f.sort((d,m)=>m.timestamp.getTime()-d.timestamp.getTime()),a(o),t(f)}}catch(i){console.error("Error loading from localStorage:",i)}},Ul=(a,t)=>{try{const i=[...a,...t];localStorage.setItem(uc,JSON.stringify(i))}catch(i){console.error("Error saving to localStorage:",i)}},oA=a=>{const t=jd.join(",")+`
`,i=a.map(l=>[l.id||"",l.userId,l.amount.toString(),l.currency,`"${l.description.replace(/"/g,'""')}"`,l.tag,l.timestamp.toISOString(),l.dateStr,l.timeStr,l.syncStatus].join(",")).join(`
`);return t+i},cA=a=>{const t=a.trim().split(`
`);if(t.length<2)return[];if(t[0].split(",").map(o=>o.trim()).slice(0,9).join(",")!==jd.slice(0,9).join(","))throw new Error("Invalid CSV format. Headers do not match expected schema.");const l=[];for(let o=1;o<t.length;o++){const f=t[o].split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(f.length>=jd.length-1){const d=parseFloat(f[2]);if(isNaN(d))continue;const m=f[0]?.trim(),p=m&&m.length>0?m:`imported-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;l.push({id:p,userId:f[1],amount:d,currency:f[3],description:f[4].replace(/^"|"$/g,"").replace(/""/g,'"'),tag:f[5],timestamp:new Date(f[6]),dateStr:f[7],timeStr:f[8],syncStatus:f[9]==="synced"?"synced":"pending"})}}return l},uA=()=>{const[a,t]=Xn.useState(()=>localStorage.getItem("moneytrack_export_url")||""),[i,l]=Xn.useState(()=>localStorage.getItem("moneytrack_currency")||"USD"),o=Xn.useCallback(d=>{localStorage.setItem("moneytrack_export_url",d),t(d)},[]),f=Xn.useCallback(d=>{const m=d.toUpperCase().substring(0,3);localStorage.setItem("moneytrack_currency",m),l(m)},[]);return{exportUrl:a,currency:i,updateExportUrl:o,updateCurrency:f}},fA=()=>{const{exportUrl:a,currency:t,updateExportUrl:i,updateCurrency:l}=uA(),[o,f]=oe.useState([]),[d,m]=oe.useState([]),[p,g]=oe.useState(!0),[S,b]=oe.useState(null),[E,z]=oe.useState(null),[U,K]=oe.useState(navigator.onLine),[ce,ge]=oe.useState(null),[ae,De]=oe.useState(null),ye=!!ae,[Ze,Ce]=oe.useState("list"),[ie,rt]=oe.useState(new Date().getMonth()),[Je,on]=oe.useState(new Date().getFullYear()),[Bt,$e]=oe.useState(30),[Kt,cn]=oe.useState([`${new Date().getFullYear()}-${String(new Date().getMonth()+1).padStart(2,"0")}`]),[Ye,D]=oe.useState("all"),[q,Z]=oe.useState(""),[be,Ne]=oe.useState(""),[C,k]=oe.useState(""),[V,P]=oe.useState([]),[ee,le]=oe.useState({amount:"",description:"",tag:jl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),Q=oe.useMemo(()=>[...o,...d].sort((L,j)=>j.timestamp.getTime()-L.timestamp.getTime()),[o,d]),Ve=oe.useMemo(()=>{let L=[...Q];if(Ye==="current"){const j=new Date;L=L.filter(B=>{const G=B.timestamp;return G.getMonth()===j.getMonth()&&G.getFullYear()===j.getFullYear()})}else if(Ye==="selected"&&Kt.length>0)L=L.filter(j=>{const B=j.timestamp,G=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`;return Kt.includes(G)});else if(Ye==="custom"&&q&&be){const j=new Date(q),B=new Date(be);B.setHours(23,59,59,999),L=L.filter(G=>{const te=G.timestamp;return te>=j&&te<=B})}return C.trim()&&(L=L.filter(j=>j.description.toLowerCase().includes(C.toLowerCase()))),V.length>0&&(L=L.filter(j=>V.includes(j.tag))),L},[Q,Ye,Kt,q,be,C,V]),Ge=Xn.useRef(o),Wt=Xn.useRef(d);Xn.useEffect(()=>{Ge.current=o,Wt.current=d},[o,d]);const An=Xn.useRef(!1);oe.useEffect(()=>{const L=()=>{K(!0),console.log("App is Online")},j=()=>{K(!1),console.log("App is Offline")};return window.addEventListener("online",L),window.addEventListener("offline",j),Io(f,m),()=>{window.removeEventListener("online",L),window.removeEventListener("offline",j)}},[]);const Ss=oe.useCallback(async()=>{if(E){g(!0);try{const L=new Qn;await DC(E,L)}catch(L){console.error("Google Sign-In Failed:",L),Ue("Sign-In Failed",`Could not sign in with Google. Details: ${L.message||"Unknown error"}`)}finally{g(!1)}}},[E]),Es=oe.useCallback(async()=>{if(E)try{await uC(E),localStorage.removeItem(uc),De(null),f([]),m([]),ge(null),Ce("auth")}catch(L){console.error("Sign-Out Failed:",L)}},[E]);oe.useEffect(()=>{(async()=>{if(!Object.keys(dd).some(j=>dd[j])){console.warn("Firebase config not fully configured. Running in local-only mode."),g(!1),Io(f,m),Ce("auth");return}try{const j=p0(dd),B=RN(j),G=Sx(j);b(B),z(G);const te=cC(G,Se=>{Se?(De(Se),Ce("list")):(De(null),g(!1),Io(f,m),Q.length===0?Ce("auth"):Ce("list"))});return()=>te()}catch(j){console.error("Firebase initialization failed. Running in local-only mode.",j),g(!1),Io(f,m),Ce("auth")}})()},[]);const bn=async(L,j)=>{if(!S||An.current)return;An.current=!0,g(!0);const B=as(S,ls(j)),G=L.map(te=>{const{id:Se,syncStatus:st,...Ct}=te,qt=cd(B);return zl(qt,{...Ct,timestamp:te.timestamp.getTime()})});try{await Promise.all(G),m([]),Wt.current=[],Ul(Ge.current,[])}catch(te){console.error("Error during sync of pending data:",te),Ue("Sync Failed",`Failed to upload offline data: ${te.message}.`)}finally{g(!1),An.current=!1}};oe.useEffect(()=>{U&&ye&&S&&ae&&Wt.current.length>0&&!An.current&&(console.log(`Auto-sync triggered: ${Wt.current.length} pending items.`),bn(Wt.current,ae.uid))},[U,ye,S,ae]),oe.useEffect(()=>{if(!S||!ae||!U){g(!1);return}g(!0);const L=as(S,ls(ae.uid));return bN(L,j=>{const B=j.val(),G=[];B&&Object.keys(B).forEach(te=>{G.push({id:te,...B[te],timestamp:hd(B[te].timestamp),syncStatus:"synced"})}),G.sort((te,Se)=>Se.timestamp.getTime()-te.timestamp.getTime()),f(G),g(!1),Ul(G,Wt.current)},j=>{console.error("Error fetching documents:",j),g(!1),ye&&U&&Ue("Access Denied","Could not load data. Check auth/rules.",!1,()=>Es())}),()=>SN(L)},[S,ae,U,ye,Es]);const Ia=L=>{const{name:j,value:B}=L.target;le(G=>({...G,[j]:B}))},ka=()=>{le({amount:"",description:"",tag:jl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),Ce("list")},Cc=async L=>{L.preventDefault();const{amount:j,description:B,tag:G,date:te,time:Se}=ee,st=parseFloat(j),Ct=ae?.uid||"offline-user";if(isNaN(st)||st<=0||!B||!te||!Se){Ue("Invalid Input","Please ensure the amount is positive and all fields are filled.");return}try{g(!0);const qt=new Date(`${te}T${Se}:00`),gr={id:U?"":`local-${Date.now()}`,userId:Ct,amount:st,currency:t,description:B,tag:G,timestamp:qt,dateStr:te,timeStr:Se,syncStatus:U&&ye?"synced":"pending"};if(U&&ye&&S&&ae){const{id:ja,syncStatus:ws,...pr}=gr,Ha=as(S,ls(ae.uid)),Ba=cd(Ha);await zl(Ba,{...pr,timestamp:qt.getTime()})}else m(ja=>{const ws=[...ja,gr];return Ul(o,ws),ws});le({amount:"",description:"",tag:jl[0],date:new Date().toISOString().substring(0,10),time:new Date().toTimeString().substring(0,5)}),Ce("list")}catch(qt){console.error("Error adding expense:",qt),Ue("Save Error",`Failed to save expense: ${qt.message}`)}finally{g(!1)}},La=async L=>{if(!L)return;const j=Q.find(B=>B.id===L);if(j){if(j.syncStatus==="pending"){Ue("Confirm Local Deletion","Are you sure you want to delete this pending expense? It has not been synced to the cloud.",!0,()=>{m(B=>{const G=B.filter(te=>te.id!==L);return Ul(o,G),G}),Ue("Expense Deleted","Pending expense removed.")});return}if(!S||!ae){Ue("Permission Denied","Cannot delete synced item without authentication.");return}Ue("Confirm Cloud Deletion","Are you sure you want to permanently delete this expense from the cloud?",!0,async()=>{try{if(g(!0),!U){Ue("Offline Warning","Cannot delete a synced item while offline. Please try again when online."),g(!1);return}const B=as(S,`${ls(ae.uid)}/${L}`);await Ky(B)}catch(B){console.error("Error deleting expense:",B),Ue("Delete Error",`Failed to delete expense: ${B.message}`)}finally{g(!1)}})}},{filteredExpenses:Bi,monthlyTotal:Ua}=oe.useMemo(()=>{const L=Q.filter(B=>{const G=B.timestamp;return G.getMonth()===ie&&G.getFullYear()===Je}),j=L.reduce((B,G)=>B+G.amount,0);return{filteredExpenses:L,monthlyTotal:j}},[Q,ie,Je]),Ts=oe.useMemo(()=>{const L={},j=Q.filter(B=>hd(B.timestamp).getFullYear()===Je);for(let B=0;B<12;B++)L[B]={total:0,count:0,monthName:new Date(Je,B).toLocaleString("en-US",{month:"short"})};return j.forEach(B=>{const G=hd(B.timestamp).getMonth();L[G].total+=B.amount,L[G].count+=1}),Object.values(L)},[Q,Je]),xc=()=>{const L=new Date(Je,ie-1,1);rt(L.getMonth()),on(L.getFullYear())},wc=()=>{const L=new Date(Je,ie+1,1);rt(L.getMonth()),on(L.getFullYear())},dr=new Date(Je,ie).toLocaleString("en-US",{month:"long",year:"numeric"}),hr=oe.useMemo(()=>{const L=new Set;return Q.forEach(j=>{const B=j.timestamp,G=`${B.getFullYear()}-${String(B.getMonth()+1).padStart(2,"0")}`;L.add(G)}),Array.from(L).sort().reverse()},[Q]),mr=L=>{cn(j=>j.includes(L)?j.filter(B=>B!==L):[...j,L])},Cs=L=>{P(j=>j.includes(L)?j.filter(B=>B!==L):[...j,L])},Nc=oe.useMemo(()=>Ve.reduce((L,j)=>L+j.amount,0),[Ve]),za=oe.useMemo(()=>{const L=new Set;return Q.forEach(j=>{L.add(j.timestamp.getFullYear())}),Array.from(L).sort((j,B)=>B-j)},[Q]),Ac=()=>{const L=Ve.slice(0,Bt),j=Bt<Ve.length,B=G=>{const te=G.target;te.scrollHeight-te.scrollTop<=te.clientHeight+50&&j&&$e(st=>st+30)};return y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[y.jsx(Ud,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Transactions"]}),y.jsx("div",{className:`flex items-center text-sm font-medium p-2 rounded-full ${U?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:U?y.jsxs(y.Fragment,{children:[y.jsx(ud,{className:"w-4 h-4 mr-1"}),"Online",d.length>0&&y.jsx("span",{className:"ml-2 font-bold",children:`(${d.length} Pending)`})]}):y.jsxs(y.Fragment,{children:[y.jsx(VN,{className:"w-4 h-4 mr-1"}),"Offline"]})})]}),y.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-md",children:y.jsxs("div",{className:"text-white",children:[y.jsx("p",{className:"text-sm font-medium opacity-90",children:"Total Amount"}),y.jsx("p",{className:"text-3xl font-extrabold",children:Hl(Nc,t)}),y.jsxs("p",{className:"text-xs opacity-80 mt-1",children:[Ve.length," transaction",Ve.length!==1?"s":""]})]})}),y.jsxs("div",{className:"mb-4 space-y-3 p-3 bg-gray-50 rounded-lg",children:[y.jsxs("div",{className:"flex gap-2 flex-wrap",children:[y.jsx("button",{onClick:()=>{D("all"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="all"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"All Time"}),y.jsx("button",{onClick:()=>{D("current"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="current"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Current Month"}),y.jsx("button",{onClick:()=>{D("selected"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="selected"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Select Months"}),y.jsx("button",{onClick:()=>{D("custom"),$e(30)},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition ${Ye==="custom"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:"Custom Range"})]}),Ye==="selected"&&y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Select months to view:"}),y.jsx("div",{className:"flex gap-2 flex-wrap max-h-32 overflow-y-auto",children:hr.map(G=>{const[te,Se]=G.split("-"),st=new Date(parseInt(te),parseInt(Se)-1).toLocaleString("en-US",{month:"short",year:"numeric"});return y.jsx("button",{onClick:()=>mr(G),className:`px-2 py-1 text-xs font-medium rounded transition ${Kt.includes(G)?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-indigo-50"}`,children:st},G)})})]}),Ye==="custom"&&y.jsxs("div",{className:"pt-2 border-t border-gray-200 grid grid-cols-2 gap-2",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Date"}),y.jsx("input",{type:"date",value:q,onChange:G=>Z(G.target.value),className:"w-full p-1.5 text-xs border border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Date"}),y.jsx("input",{type:"date",value:be,onChange:G=>Ne(G.target.value),className:"w-full p-1.5 text-xs border border-gray-300 rounded focus:ring-indigo-500 focus:border-indigo-500"})]})]}),y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Search by Description"}),y.jsxs("div",{className:"relative",children:[y.jsx(ZN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),y.jsx("input",{type:"text",value:C,onChange:G=>k(G.target.value),placeholder:"Type to search...",className:"w-full pl-10 pr-4 p-2 text-sm border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"})]})]}),y.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[y.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Filter by Tags"}),y.jsx("div",{className:"flex gap-2 flex-wrap",children:jl.map(G=>{const te={Shopping:"bg-pink-100 text-pink-700 border-pink-300",Food:"bg-green-100 text-green-700 border-green-300",Travel:"bg-blue-100 text-blue-700 border-blue-300",Hospital:"bg-red-100 text-red-700 border-red-300",Wife:"bg-purple-100 text-purple-700 border-purple-300",Baby:"bg-yellow-100 text-yellow-700 border-yellow-300",Me:"bg-indigo-100 text-indigo-700 border-indigo-300",Bills:"bg-cyan-100 text-cyan-700 border-cyan-300",Other:"bg-gray-100 text-gray-700 border-gray-300"}[G]||"bg-gray-100 text-gray-700 border-gray-300",Se=V.includes(G);return y.jsx("button",{onClick:()=>Cs(G),className:`px-3 py-1 text-xs font-medium rounded-full border-2 transition ${Se?te+" ring-2 ring-offset-1 ring-indigo-400":"bg-white text-gray-600 border-gray-200 hover:"+te}`,children:G},G)})}),V.length>0&&y.jsx("button",{onClick:()=>P([]),className:"mt-2 text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:"Clear tag filters"})]})]}),y.jsxs("div",{className:"mb-3 text-sm text-gray-600",children:["Showing ",L.length," of ",Ve.length," transactions"]}),p&&ye?y.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading cloud expenses..."}):Ve.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500 border border-dashed rounded-lg",children:[y.jsx(fd,{className:"w-8 h-8 mx-auto mb-2 text-gray-400"}),"No expenses found for the selected filter."]}):y.jsxs("div",{className:"space-y-3",style:{maxHeight:"50vh",overflowY:"auto"},onScroll:B,children:[L.map(G=>y.jsx(n0,{showDate:!0,expense:G,onDelete:La,currency:t,isOnline:U},G.id)),j&&y.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Scroll for more..."})]})]})},Rc=()=>{on(L=>L-1)},qi=()=>{on(L=>L+1)},Et=()=>{const L=j=>{rt(j)};return y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-4 text-gray-800 flex items-center",children:[y.jsx($y,{className:"w-5 h-5 mr-2 text-green-500"}),"Financial Overview"]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 p-3 bg-indigo-50 rounded-lg shadow-inner",children:[y.jsx("button",{onClick:Rc,className:"p-2 text-indigo-700 hover:bg-indigo-200 rounded-full transition duration-150",children:y.jsx(Zy,{className:"w-5 h-5"})}),y.jsxs("div",{className:"flex-grow text-center",children:[y.jsx("h3",{className:"text-xl font-bold text-indigo-800",children:Je}),za.length>0&&y.jsxs("p",{className:"text-xs text-indigo-600 mt-1",children:["Available: ",za.join(", ")]})]}),y.jsx("button",{onClick:qi,className:"p-2 text-indigo-700 hover:bg-indigo-200 rounded-full transition duration-150",children:y.jsx(Jy,{className:"w-5 h-5"})})]}),y.jsxs("div",{className:"mb-8 border border-gray-200 rounded-xl p-4 bg-gray-50",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:"Yearly Snapshot"}),y.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Click on any month to view transactions below"}),y.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-3",children:Ts.map((j,B)=>{const G=ie===B;return y.jsxs("button",{onClick:()=>L(B),className:`p-2 text-center bg-white rounded-lg shadow-sm border-2 transition cursor-pointer ${G?"border-indigo-500 ring-2 ring-indigo-300 shadow-md":"border-indigo-100 hover:shadow-md hover:border-indigo-300"}`,children:[y.jsx("div",{className:"text-xs font-medium text-indigo-600",children:j.monthName}),y.jsx("div",{className:"text-sm font-bold text-gray-900",children:Hl(j.total,t)}),y.jsxs("div",{className:"text-xs text-gray-500",children:[j.count," items"]})]},B)})}),y.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Year Total Expense:",y.jsx("span",{className:"font-bold text-indigo-600 ml-1",children:Hl(Ts.reduce((j,B)=>j+B.total,0),t)})]})]}),y.jsxs("div",{className:"flex justify-between items-center mb-6 p-3 bg-green-50 rounded-lg shadow-inner",children:[y.jsx("button",{onClick:xc,className:"p-2 text-green-700 hover:bg-green-200 rounded-full transition duration-150",children:y.jsx(Zy,{className:"w-5 h-5"})}),y.jsxs("h3",{className:"lg:text-lg font-semibold text-green-800 flex-grow text-center",children:[dr," Total:",y.jsx("span",{className:"font-extrabold ml-2",children:Hl(Ua,t)})]}),y.jsx("button",{onClick:wc,className:"p-2 text-green-700 hover:bg-green-200 rounded-full transition duration-150",children:y.jsx(Jy,{className:"w-5 h-5"})})]}),y.jsxs("h3",{className:"text-xl font-semibold mb-3 text-gray-700",children:["Transactions in ",dr," (",Bi.length,")"]}),Bi.length===0?y.jsx("p",{className:"text-center text-gray-500 py-6 border border-dashed rounded-lg",children:"No expenses recorded for this month."}):y.jsx("div",{className:"space-y-3",style:{maxHeight:"50vh",overflowY:"auto"},children:Bi.map(j=>y.jsx(n0,{expense:j,onDelete:La,showDate:!0,currency:t,isOnline:U},j.id))})]})},Sn=()=>y.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-lg",children:[y.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center",children:[y.jsx(e0,{className:"w-5 h-5 mr-2 text-indigo-500"}),"Application Settings"]}),y.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-gray-200",children:[y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-indigo-50 p-2 rounded-full font-medium",children:[y.jsx(t0,{className:"w-4 h-4 text-indigo-500"}),y.jsx("span",{className:"truncate max-w-[80px] sm:max-w-none text-xs",children:ae?.email||"OFFLINE / ANONYMOUS"})]}),ye&&y.jsxs("button",{onClick:Es,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150",children:[y.jsx(XN,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"border-b pb-6 border-gray-100",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"General Settings"}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"currency",children:"Default Currency Code (e.g., USD, EUR, INR)"}),y.jsx("input",{type:"text",id:"currency",value:t,onChange:L=>l(L.target.value),maxLength:3,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 uppercase",placeholder:"e.g., USD, EUR, INR",required:!0}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sets the default 3-letter currency code for new expenses."})]})]}),y.jsxs("div",{className:"border-b pb-6 border-gray-100",children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"Cloud & Data Sync"}),d.length>0&&y.jsxs("div",{className:"mt-4 p-4 bg-orange-100 border-l-4 border-orange-500 text-orange-800 rounded-lg mb-4",children:[y.jsxs("p",{className:"font-semibold flex items-center mb-2",children:[y.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Offline Data: ",d.length," records pending cloud sync."]}),y.jsx("p",{className:"text-sm",children:"These records will automatically sync when you are online and signed in."}),!U&&y.jsx("p",{className:"text-xs mt-2 text-red-600",children:"You must be online to trigger synchronization."}),U&&ye&&y.jsxs("button",{onClick:()=>bn(d,ae.uid),disabled:p||!U,className:"mt-3 px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 disabled:opacity-50 w-full",children:[y.jsx(ud,{className:"w-4 h-4 mr-2 inline"}),"Force Sync Now"]})]}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"exportUrl",children:"Google Sheets Web App URL"}),y.jsx("input",{type:"url",id:"exportUrl",value:a,onChange:L=>i(L.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition duration-150",placeholder:"e.g., https://script.google.com/macros/s/...",required:!0,disabled:!ye}),y.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL for manual export to Google Sheets. Requires sign-in."}),y.jsxs("button",{onClick:()=>Ue("Not Implemented","The Google Sheets Export function is not implemented in this version, but the URL is saved."),className:"mt-2 flex items-center px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transition duration-150 disabled:opacity-50 w-full",disabled:!ye||!U||Q.length===0,children:[y.jsx(zd,{className:"w-4 h-4 mr-2"}),"Manual Export to Sheets"]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-semibold mb-3 text-indigo-700",children:"CSV Backup & Restore"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Use CSV files for manual local backups of ALL data (synced + pending)."}),y.jsxs("div",{className:"flex space-x-4",children:[y.jsxs("button",{onClick:()=>Dc(),disabled:p||Q.length===0,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 transition duration-150 disabled:opacity-50 flex-grow justify-center",children:[y.jsx(zd,{className:"w-4 h-4 mr-2"}),"Backup (",Q.length,")"]}),y.jsxs("button",{onClick:Oc,disabled:p,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150 disabled:opacity-50 flex-grow justify-center",children:[y.jsx(sA,{className:"w-4 h-4 mr-2"}),"Load CSV"]})]}),ce&&ye&&y.jsxs("div",{className:"mt-6 p-4 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 rounded-lg",children:[y.jsxs("p",{className:"font-semibold flex items-center mb-2",children:[y.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Awaiting Sync: ",ce.length," records loaded from CSV."]}),y.jsx("p",{className:"text-sm",children:"Clicking 'Sync' will attempt to save these records to your cloud database."}),y.jsx("button",{onClick:()=>Tt(ce,ae.uid),disabled:p,className:"mt-3 px-4 py-2 text-sm font-semibold text-white bg-green-600 rounded-lg shadow-md hover:bg-green-700 transition duration-150 disabled:opacity-50 w-full",children:"Sync Loaded CSV Data to Cloud"})]}),ce&&!ye&&y.jsxs("div",{className:"mt-6 p-4 bg-blue-100 border-l-4 border-blue-500 text-blue-800 rounded-lg",children:[y.jsx("p",{className:"font-semibold",children:"Import Options:"}),y.jsxs("p",{className:"text-sm mb-3",children:["You are not signed in. Choose how to import these ",ce.length," records:"]}),y.jsx("button",{onClick:()=>{Ue("Confirm Local Import",`This will import ${ce.length} records to your local storage. They will be saved to your browser and can be synced to the cloud later if you sign in.`,!0,()=>{g(!0);try{const L=ce.map((j,B)=>{const G=j.id?.trim();return{...j,id:G&&G.length>0?G:`imported-${Date.now()}-${B}`,syncStatus:"pending"}});m(j=>{const B=[...j,...L];return Ul(o,B),B}),ge(null),Ue("Import Complete",`${ce.length} records imported to local storage. They will sync to cloud when you sign in.`),Ce("list")}catch(L){console.error("Error during local import:",L),Ue("Import Failed",`Failed to import records: ${L.message}`)}finally{g(!1)}})},disabled:p,className:"w-full px-4 py-2 text-sm font-semibold text-white bg-blue-600 rounded-lg shadow-md hover:bg-blue-700 transition duration-150 disabled:opacity-50",children:"Import to Local Storage"}),y.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Or sign in to sync directly to the cloud."})]})]}),y.jsxs("div",{className:"mt-8 border-t-4 border-red-200 pt-6",children:[y.jsxs("h3",{className:"text-xl font-semibold mb-3 text-red-700 flex items-center",children:[y.jsx(Ho,{className:"w-5 h-5 mr-2"}),"Danger Zone"]}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Permanently delete all your expense data. This action cannot be undone."}),y.jsxs("button",{onClick:Mc,disabled:p||Q.length===0,className:"flex items-center px-4 py-2 text-sm font-semibold text-white bg-red-600 rounded-lg shadow-md hover:bg-red-700 transition duration-150 disabled:opacity-50 w-full justify-center",children:[y.jsx(mb,{className:"w-4 h-4 mr-2"}),"Delete All Data (",Q.length," records)"]}),Q.length===0&&y.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"No data to delete"})]})]})]}),Tt=async(L,j)=>{!S||!ae||Ue("Confirm CSV Import",`This will attempt to upload ${L.length} records from the CSV file. IDs will be used to prevent duplicates if they match existing records.`,!0,async()=>{g(!0);try{const B=as(S,ls(j)),G=new Set(o.map(Se=>Se.id)),te=L.map(Se=>{const st={userId:j,amount:Se.amount,currency:Se.currency,description:Se.description,tag:Se.tag,timestamp:Se.timestamp.getTime(),dateStr:Se.dateStr,timeStr:Se.timeStr};if(Se.id&&!Se.id.startsWith("local-")&&G.has(Se.id)){const Ct=as(S,`${ls(j)}/${Se.id}`);return zl(Ct,st)}else{const Ct=cd(B);return zl(Ct,st)}});await Promise.all(te),ge(null),Ue("Import Complete",`${te.length} records processed and synchronized with the cloud.`)}catch(B){console.error("Error during CSV import sync:",B),Ue("Import Failed",`Failed to complete synchronization: ${B.message}.`)}finally{g(!1)}})},Dc=()=>{if(Q.length===0){Ue("No Data","There are no expenses to backup.");return}const L=oA(Q),j=new Blob([L],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(j),G=document.createElement("a");G.setAttribute("href",B),G.setAttribute("download",`moneytrack_backup_${new Date().toISOString().substring(0,10)}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G),Ue("Backup Successful",`${Q.length} expenses downloaded as CSV.`)},Oc=()=>{const L=document.createElement("input");L.type="file",L.accept=".csv",L.style.display="none",L.onchange=j=>{const G=j.target.files?.[0];if(!G)return;const te=new FileReader;te.onload=Se=>{try{const st=Se.target?.result,Ct=cA(st);if(Ct.length===0){Ue("Restore Failed","The selected file contained no valid expense records."),ge(null);return}ge(Ct),Ue("Backup Loaded",`${Ct.length} records loaded from CSV. Go to Settings > Cloud & Data Sync to import them.`),Ce("settings")}catch(st){console.error("CSV Parsing Error:",st),Ue("Restore Failed",`Error parsing CSV: ${st.message}`),ge(null)}},te.onerror=()=>{Ue("Restore Failed","Could not read the file."),ge(null)},te.readAsText(G)},L.click()},Mc=async()=>{Ue("Delete All Data",`WARNING: This will permanently delete ALL your expenses from both cloud and local storage. This action cannot be undone!

Are you sure you want to continue?`,!0,async()=>{try{if(g(!0),S&&ae&&U){const L=as(S,ls(ae.uid));await Ky(L)}localStorage.removeItem(uc),f([]),m([]),ge(null),Ue("Data Deleted","All expense data has been permanently deleted.")}catch(L){console.error("Error deleting all data:",L),Ue("Delete Failed",`Failed to delete all data: ${L.message}`)}finally{g(!1)}})},xs=()=>y.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded-xl shadow-lg text-center h-full min-h-[400px]",children:[y.jsx(ud,{className:"w-12 h-12 mb-4 text-indigo-500"}),y.jsx("h2",{className:"text-2xl font-bold mb-3 text-indigo-700",children:"Welcome to ExpenseManager"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Track your expenses locally or sign in with Google for cloud sync across devices."}),y.jsx("div",{className:"space-y-3 w-full",children:p?y.jsxs("button",{disabled:!0,className:"flex items-center justify-center w-full px-6 py-3 text-sm font-semibold text-white bg-gray-500 rounded-lg disabled:opacity-70",children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:Ss,className:"flex items-center justify-center w-full px-6 py-3 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150",children:[y.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M44 24.896c0-1.636-.14-3.232-.408-4.792H24v9.063h11.136c-.476 2.376-1.764 4.412-3.552 5.864l7.668 5.928c4.544-4.204 7.156-10.372 7.156-17.064z",fill:"#4285F4"}),y.jsx("path",{d:"M24 44c5.58 0 10.288-1.856 13.72-5.064l-7.668-5.928c-2.124 1.436-4.856 2.276-7.052 2.276-5.46 0-10.088-3.708-11.756-8.688H3.32l-.088 6.132c3.556 7.04 10.74 11.964 19.332 11.964z",fill:"#34A853"}),y.jsx("path",{d:"M12.244 27.656c-.512-1.536-.796-3.176-.796-4.896s.284-3.36.796-4.896l-.048-6.056H3.32C1.652 16.036.796 19.956.796 24c0 4.044.856 7.964 2.524 11.096l8.92-6.056z",fill:"#FBBC05"}),y.jsx("path",{d:"M24 15.312c2.964 0 5.612 1.056 7.708 2.972l6.572-6.572C33.84 5.956 29.324 4 24 4c-8.592 0-15.776 4.924-19.332 11.964l8.92 6.056C13.912 19.02 18.54 15.312 24 15.312z",fill:"#EA4335"})]}),"Sign In with Google (Cloud Sync)"]}),y.jsxs("button",{onClick:()=>{g(!1),Ce("list")},className:"flex items-center justify-center w-full px-6 py-3 text-sm font-semibold text-indigo-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition duration-150",children:[y.jsx(fd,{className:"w-5 h-5 mr-2"}),"Continue with Local Storage"]})]})}),y.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Local mode: Data saved to browser storage only. Cloud mode: Sign in to backup data to Firebase."})]});return p&&!ye&&Q.length===0?y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans flex flex-col items-center justify-center p-4",children:[y.jsx("h1",{className:"text-4xl font-extrabold text-indigo-700 mb-4",children:"Sai"}),y.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500",children:[y.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y.jsx("span",{children:"Loading App..."})]})]}):Ze==="auth"&&!ye&&Q.length===0?y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans p-4 sm:p-6 flex flex-col items-center justify-center",children:[y.jsx("header",{className:"w-full max-w-2xl mb-6 text-center",children:y.jsx("h1",{className:"text-4xl font-extrabold text-indigo-700",children:"Sai"})}),y.jsx("main",{className:"w-full max-w-2xl flex-grow flex items-center justify-center",children:xs()})]}):y.jsxs("div",{className:"min-h-screen bg-gray-100 font-sans p-4 sm:p-6 flex flex-col items-center w-full",children:[y.jsxs("header",{className:"w-full max-w-2xl flex justify-between items-center mb-6",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("h1",{className:"text-3xl font-extrabold text-indigo-700",children:"Sai"}),y.jsxs("span",{className:"text-sm text-gray-500",children:["(v",t,")"]})]}),ye&&y.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-white p-2 rounded-full shadow-md",children:[y.jsx(t0,{className:"w-4 h-4 text-indigo-500"}),y.jsx("span",{className:"truncate max-w-[80px] sm:max-w-none font-medium text-xs",children:ae?.email?ae.email.split("@")[0]:"UID"})]})]}),y.jsx("main",{className:"w-full max-w-2xl flex-grow mb-20 sm:mb-6",children:y.jsxs("div",{className:"mb-4",children:[Ze==="list"&&Ac(),Ze==="add"&&y.jsx(rA,{form:ee,handleFormChange:Ia,handleFormClose:ka,handleAddExpense:Cc,loading:p,isAuthenticated:ye,isOnline:U,setView:Ce,currency:t}),Ze==="stats"&&Et(),Ze==="settings"&&Sn(),Ze==="auth"&&!ye&&Q.length>0&&y.jsxs("div",{className:`p-4 mb-4 border-l-4 rounded-lg ${d.length>0?"bg-orange-100 border-orange-500 text-orange-700":"bg-blue-100 border-blue-500 text-blue-700"}`,children:[y.jsx("p",{className:"font-semibold flex items-center mb-2",children:d.length>0?y.jsxs(y.Fragment,{children:[y.jsx(hb,{className:"w-5 h-5 mr-2"}),d.length," Pending Items"]}):y.jsxs(y.Fragment,{children:[y.jsx(fd,{className:"w-5 h-5 mr-2"}),"Local Mode"]})}),y.jsx("p",{className:"text-sm mb-3",children:d.length>0?`You have ${d.length} expenses waiting to sync. Sign in to save them to the cloud.`:"You are using local storage. Sign in anytime to enable cloud sync and backup."}),E&&y.jsx("button",{onClick:Ss,disabled:p,className:"flex items-center justify-center px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 disabled:opacity-50 w-full sm:w-auto",children:p?y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[y.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),y.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):y.jsxs(y.Fragment,{children:[y.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{d:"M44 24.896c0-1.636-.14-3.232-.408-4.792H24v9.063h11.136c-.476 2.376-1.764 4.412-3.552 5.864l7.668 5.928c4.544-4.204 7.156-10.372 7.156-17.064z",fill:"#4285F4"}),y.jsx("path",{d:"M24 44c5.58 0 10.288-1.856 13.72-5.064l-7.668-5.928c-2.124 1.436-4.856 2.276-7.052 2.276-5.46 0-10.088-3.708-11.756-8.688H3.32l-.088 6.132c3.556 7.04 10.74 11.964 19.332 11.964z",fill:"#34A853"}),y.jsx("path",{d:"M12.244 27.656c-.512-1.536-.796-3.176-.796-4.896s.284-3.36.796-4.896l-.048-6.056H3.32C1.652 16.036.796 19.956.796 24c0 4.044.856 7.964 2.524 11.096l8.92-6.056z",fill:"#FBBC05"}),y.jsx("path",{d:"M24 15.312c2.964 0 5.612 1.056 7.708 2.972l6.572-6.572C33.84 5.956 29.324 4 24 4c-8.592 0-15.776 4.924-19.332 11.964l8.92 6.056C13.912 19.02 18.54 15.312 24 15.312z",fill:"#EA4335"})]}),"Sign In with Google"]})})]})]})}),y.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-xl sm:static sm:w-full sm:max-w-2xl sm:rounded-xl",children:y.jsxs("div",{className:"flex justify-around py-3",children:[y.jsxs("button",{onClick:()=>Ce("list"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${Ze==="list"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx(Ud,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Transactions"})]}),y.jsxs("button",{onClick:()=>Ce("add"),className:"flex flex-col items-center justify-center -mt-6 bg-indigo-600 text-white p-4 rounded-full shadow-lg hover:bg-indigo-700 transform hover:scale-105 transition duration-200 ease-in-out border-4 border-white",children:[y.jsx(db,{className:"w-8 h-8"}),y.jsx("span",{className:"sr-only",children:"Add Expense"})]}),y.jsxs("button",{onClick:()=>Ce("stats"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${Ze==="stats"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx($y,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Stats"})]}),y.jsxs("button",{onClick:()=>Ce("settings"),className:`flex flex-col items-center p-2 rounded-lg transition duration-200 ${Ze==="settings"?"text-indigo-600 font-bold":"text-gray-500 hover:text-indigo-500"}`,children:[y.jsx(e0,{className:"w-6 h-6"}),y.jsx("span",{className:"text-xs mt-1",children:"Settings"})]})]})})]})};let Bo=null;const dA=a=>{if(location.hostname==="localhost"||location.hostname==="127.0.0.1"){console.log("[App] Running on localhost, skipping service worker registration.");return}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/expense-manager/service-worker.js").then(t=>{console.log("[App] Service Worker registered:",t),Bo=t,t.addEventListener("updatefound",()=>{const i=t.installing;i&&i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[App] New service worker available"),a())})})}).catch(t=>{console.error("[App] Service Worker registration failed:",t)}),navigator.serviceWorker.addEventListener("message",t=>{t.data&&t.data.type==="UPDATE_AVAILABLE"?(console.log("[App] Received UPDATE_AVAILABLE message"),a()):t.data&&t.data.type==="APP_UPDATED"&&console.log("[App] App has been updated, reloading page")})})},hA=()=>{if(Bo&&Bo.waiting){Bo.waiting.postMessage({type:"SKIP_WAITING"});let a=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{a||(a=!0,window.location.reload())})}},mA=({onUpdate:a,onDismiss:t})=>y.jsx("div",{className:"fixed bottom-20 left-4 right-4 sm:left-auto sm:right-8 sm:bottom-8 sm:w-96 z-50 animate-slide-up",children:y.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl shadow-2xl p-4 border-2 border-white",children:y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx("div",{className:"flex-shrink-0 bg-white rounded-full p-2",children:y.jsx(zd,{className:"w-5 h-5 text-indigo-600"})}),y.jsxs("div",{className:"flex-grow",children:[y.jsx("h3",{className:"font-bold text-lg mb-1",children:"Update Available!"}),y.jsx("p",{className:"text-sm text-indigo-100 mb-3",children:"A new version of MoneyTrack is ready. Update now to get the latest features and improvements."}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx("button",{onClick:a,className:"flex-1 bg-white text-indigo-600 font-semibold py-2 px-4 rounded-lg hover:bg-indigo-50 transition duration-150",children:"Update Now"}),y.jsx("button",{onClick:t,className:"px-4 py-2 text-white hover:bg-white/20 rounded-lg transition duration-150",children:"Later"})]})]})]})})}),gA=()=>{const[a,t]=oe.useState(!1);oe.useEffect(()=>{dA(()=>{t(!0)})},[]);const i=()=>{hA()},l=()=>{t(!1)};return y.jsxs(y.Fragment,{children:[y.jsx(fA,{}),a&&y.jsx(mA,{onUpdate:i,onDismiss:l})]})};US.createRoot(document.getElementById("root")).render(y.jsx(oe.StrictMode,{children:y.jsx(gA,{})}));
